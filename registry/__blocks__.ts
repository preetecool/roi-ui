// @generated
// This file is autogenerated by scripts/build-registry-index.ts
// Do not edit this file directly.
// biome-ignore-all lint/suspicious/noTemplateCurlyInString: Generated file contains code as strings

export type BlockFileData = {
  name: string;
  path: string;
  content: string;
};

export type BlockData = {
  cssModulesFiles: BlockFileData[];
  tailwindFiles: BlockFileData[];
};

export const BlocksData: Record<string, BlockData> = {
  "ai-chat": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/ai-chat/page.tsx",
        content:
          '"use client";\nimport { AiChat } from "./components/ai-chat";\n\nexport default function Page() {\n  return <AiChat />;\n}\n',
      },
      {
        name: "ai-chat.tsx",
        path: "components/ai-chat.tsx",
        content:
          '"use client";\n\nimport { ArrowUp, AudioLines, GraduationCap, Lightbulb, Paperclip, WandSparkles, Zap } from "lucide-react";\nimport { useState } from "react";\nimport { Button } from "@/components/ui/button/button";\nimport { Card, CardContent, CardFooter } from "@/components/ui/card/card";\nimport { Field, FieldControl } from "@/components/ui/field/field";\nimport { Form } from "@/components/ui/form/form";\nimport {\n  Select,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectPopup,\n  SelectPortal,\n  SelectPositioner,\n  SelectTrigger,\n  SelectValue,\n} from "@/components/ui/select/select";\nimport styles from "./ai-chat.module.css";\n\nconst aiModes = [\n  { value: "creative", label: "Creative", icon: WandSparkles },\n  { value: "fast", label: "Fast", icon: Zap },\n  { value: "reasoning", label: "Reason", icon: Lightbulb },\n  { value: "teach", label: "Teach", icon: GraduationCap },\n];\n\nexport function AiChat() {\n  const [inputValue, setInputValue] = useState("");\n  const [selectedItem, setSelectedItem] = useState<string>(aiModes[0].value);\n\n  return (\n    <Form className={styles.form}>\n      <Card className={styles.aiChatCard}>\n        <CardContent>\n          <Field className={styles.field}>\n            <FieldControl\n              placeholder="Ask and i\'ll answer."\n              render={\n                <textarea\n                  onChange={(e) => setInputValue(e.target.value)}\n                  style={{ outline: "none" }}\n                  value={inputValue}\n                />\n              }\n            />\n          </Field>\n        </CardContent>\n        <CardFooter className={styles.footer}>\n          <div style={{ display: "flex", gap: "0.5rem", alignItems: "center" }}>\n            <Button\n              className={styles.iconButton}\n              size="icon"\n              style={{ width: "32px", height: "32px", borderRadius: "50%" }}\n              type="button"\n              variant="outline"\n            >\n              <Paperclip size={14} />\n            </Button>\n\n            <Select\n              defaultValue={aiModes[0].value}\n              items={aiModes}\n              onValueChange={(value) => setSelectedItem(value as string)}\n              value={selectedItem}\n            >\n              <SelectTrigger render={<Button size="sm" style={{ maxWidth: "100px" }} variant="outline" />}>\n                <SelectValue>\n                  {(value) => {\n                    const selectedMode = aiModes.find((mode) => mode.value === value);\n                    const IconComponent = selectedMode?.icon;\n                    return (\n                      <div className={styles.triggerContent}>\n                        {IconComponent && <IconComponent size={14} />}\n                        <span>{selectedMode?.label}</span>\n                      </div>\n                    );\n                  }}\n                </SelectValue>\n                <SelectIcon />\n              </SelectTrigger>\n              <SelectPortal>\n                <SelectPositioner alignItemWithTrigger={false} sideOffset={8}>\n                  <SelectPopup className={styles.popup}>\n                    {aiModes.map(({ label, value, icon: IconComponent }) => (\n                      <SelectItem key={value} value={value}>\n                        <div className={styles.triggerContent}>\n                          <IconComponent size={14} />\n                          <SelectItemText>{label}</SelectItemText>\n                          <SelectItemIndicator />\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectPopup>\n                </SelectPositioner>\n              </SelectPortal>\n            </Select>\n          </div>\n\n          <Button\n            className={styles.iconButton}\n            size="icon"\n            style={{ borderRadius: "50%", width: "36px", height: "36px" }}\n            type="submit"\n            variant="outline"\n          >\n            {inputValue.trim() ? <ArrowUp size={16} /> : <AudioLines size={16} />}\n          </Button>\n        </CardFooter>\n      </Card>\n    </Form>\n  );\n}\n',
      },
      {
        name: "ai-chat.module.css",
        path: "components/ai-chat.module.css",
        content:
          '.aiChatCard[data-slot="card"] {\n  padding: 0.75rem;\n  gap: 0.75rem;\n  width: 100%;\n  height: auto;\n  max-width: none;\n  min-width: 0;\n  border-radius: var(--radius-lg);\n  border-color: var(--border);\n  background-color: var(--mix-card-50-bg);\n}\n\n.form {\n  width: 100%;\n}\n\n.iconButton {\n  padding: 8px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.iconButton svg {\n  color: var(--muted-foreground);\n  flex-shrink: 0;\n}\n\n.iconButton:first-child svg {\n  transform: rotate(-45deg);\n}\n\n.field textarea {\n  background-color: transparent;\n  border: none;\n  padding: 0.25rem;\n  resize: none;\n  min-height: 2.5rem;\n  height: auto;\n  outline: none !important;\n  line-height: 1.5;\n}\n\n.footer[data-slot="card-footer"] {\n  gap: 0.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.iconLabel {\n  display: "flex";\n  gap: 0.5rem;\n}\n\n.triggerContent {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  width: 100%;\n}\n\n.triggerContent svg {\n  color: var(--muted-foreground);\n}\n\n.popup {\n  padding: 0.25rem;\n  width: 144px;\n  min-width: 144px;\n  max-width: 144px;\n  box-sizing: border-box;\n}\n\n.footer button[type="submit"] {\n  min-width: 36px;\n  min-height: 36px;\n}\n\n@media (max-width: 768px) {\n  .popup {\n    width: 120px !important;\n    min-width: 120px !important;\n    max-width: 120px !important;\n  }\n\n  .triggerContent span {\n    font-size: 0.875rem;\n  }\n\n  .triggerContent svg {\n    display: none;\n  }\n\n  /* Override the select trigger min-width */\n  .footer button[data-slot="trigger"] {\n    min-width: 120px !important;\n  }\n}\n\n@media (max-width: 1280px) {\n  .field textarea {\n    min-height: 4rem;\n    padding: 0.5rem;\n  }\n}\n\n@media (max-width: 640px) {\n  .form {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .aiChatCard[data-slot="card"] {\n    margin: 0 auto;\n  }\n}\n',
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/ai-chat/page.tsx",
        content:
          '"use client";\nimport { AiChat } from "./components/ai-chat";\n\nexport default function Page() {\n  return <AiChat />;\n}\n',
      },
      {
        name: "ai-chat.tsx",
        path: "components/ai-chat.tsx",
        content:
          '"use client";\n\nimport { ArrowUp, AudioLines, GraduationCap, Lightbulb, Paperclip, WandSparkles, Zap } from "lucide-react";\nimport { useState } from "react";\nimport { cn } from "@/lib/utils";\nimport { Button } from "@/components/ui/button";\nimport { Card, CardContent, CardFooter } from "@/components/ui/card";\nimport { Field, FieldControl } from "@/components/ui/field";\nimport { Form } from "@/components/ui/form";\nimport {\n  Select,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectPopup,\n  SelectPortal,\n  SelectPositioner,\n  SelectTrigger,\n  SelectValue,\n} from "@/components/ui/select";\n\nconst aiModes = [\n  { value: "creative", label: "Creative", icon: WandSparkles },\n  { value: "fast", label: "Fast", icon: Zap },\n  { value: "reasoning", label: "Reason", icon: Lightbulb },\n  { value: "teach", label: "Teach", icon: GraduationCap },\n];\n\nexport function AiChat() {\n  const [inputValue, setInputValue] = useState("");\n  const [selectedItem, setSelectedItem] = useState<string>(aiModes[0].value);\n\n  return (\n    <Form className="w-full max-sm:flex max-sm:items-center max-sm:justify-center max-xl:h-full">\n      <Card\n        className={cn(\n          "h-auto w-full flex-1 gap-3 rounded-[var(--radius-lg)] border-[var(--border)] bg-[var(--mix-card-50-bg)] p-3",\n          "min-w-0 max-w-none",\n          "max-xl:h-full",\n          "max-sm:mx-auto"\n        )}\n      >\n        <CardContent>\n          <Field\n            className={cn(\n              "[&_textarea]:!border-0 [&_textarea]:!p-1 [&_textarea]:resize-none [&_textarea]:bg-transparent",\n              "[&_textarea]:!h-[50px] [&_textarea]:!min-h-[50px] [&_textarea]:!outline-0 [&_textarea]:!px-1 [&_textarea]:outline-none",\n              "[&_textarea]:!leading-normal",\n              "max-xl:[&_textarea]:!p-2 max-xl:[&_textarea]:h-full max-xl:[&_textarea]:min-h-16"\n            )}\n          >\n            <FieldControl\n              placeholder="Ask and i\'ll answer."\n              render={\n                <textarea\n                  onChange={(e) => setInputValue(e.target.value)}\n                  style={{ outline: "none" }}\n                  value={inputValue}\n                />\n              }\n            />\n          </Field>\n        </CardContent>\n        <CardFooter className="flex items-center justify-between gap-2">\n          <div className="flex items-center gap-2">\n            <Button\n              className="shrink-0 rounded-full p-2 [&>svg:first-child]:rotate-[-45deg] [&>svg]:shrink-0 [&>svg]:text-muted-foreground"\n              size="icon"\n              style={{ width: "32px", height: "32px", borderRadius: "50%" }}\n              type="button"\n              variant="outline"\n            >\n              <Paperclip size={14} />\n            </Button>\n\n            <Select\n              defaultValue={aiModes[0].value}\n              items={aiModes}\n              onValueChange={(value) => setSelectedItem(value as string)}\n              value={selectedItem}\n            >\n              <SelectTrigger className="max-md:!min-w-[120px]" render={<Button size="sm" variant="outline" />}>\n                <SelectValue>\n                  {(value) => {\n                    const selectedMode = aiModes.find((mode) => mode.value === value);\n                    const IconComponent = selectedMode?.icon;\n                    return (\n                      <div className="flex w-full items-center gap-2">\n                        {IconComponent && <IconComponent className="text-muted-foreground max-md:hidden" size={14} />}\n                        <span className="max-md:text-sm">{selectedMode?.label}</span>\n                      </div>\n                    );\n                  }}\n                </SelectValue>\n                <SelectIcon />\n              </SelectTrigger>\n              <SelectPortal>\n                <SelectPositioner alignItemWithTrigger={false} sideOffset={8}>\n                  <SelectPopup className="max-md:!w-[120px] max-md:!min-w-[120px] max-md:!max-w-[120px] box-border w-36 min-w-36 max-w-36 p-1">\n                    {aiModes.map(({ label, value, icon: IconComponent }) => (\n                      <SelectItem key={value} value={value}>\n                        <div className="flex w-full items-center gap-2">\n                          <IconComponent className="text-muted-foreground max-md:hidden" size={14} />\n                          <SelectItemText className="max-md:text-sm">{label}</SelectItemText>\n                          <SelectItemIndicator />\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectPopup>\n                </SelectPositioner>\n              </SelectPortal>\n            </Select>\n          </div>\n\n          <Button\n            className="shrink-0 rounded-full p-2 [&>svg]:shrink-0 [&>svg]:text-muted-foreground"\n            size="icon"\n            style={{\n              borderRadius: "50%",\n              width: "36px",\n              height: "36px",\n              minWidth: "36px",\n              minHeight: "36px",\n            }}\n            type="submit"\n            variant="outline"\n          >\n            {inputValue.trim() ? <ArrowUp size={16} /> : <AudioLines size={16} />}\n          </Button>\n        </CardFooter>\n      </Card>\n    </Form>\n  );\n}\n',
      },
    ],
  },
  "card-image": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/card-image/page.tsx",
        content:
          'import CardImage from "./components/card-image";\n\nexport default function Page() {\n  return <CardImage />;\n}\n',
      },
      {
        name: "card-image.tsx",
        path: "components/card-image.tsx",
        content:
          'import { Button } from "@/components/ui/button/button";\nimport { Card, CardContent, CardDescription, CardFooter, CardImage, CardTitle } from "@/components/ui/card/card";\nimport styles from "./card-image.module.css";\n\nexport default function CardImageDemo() {\n  return (\n    <Card className={styles.card} variant="lift">\n      <CardImage\n        alt="Veiled woman gazing at architecture under the night sky"\n        className={styles.cardImage}\n        src="/scene_01.svg"\n      />\n\n      <CardContent>\n        <CardTitle className={styles.title}>Threshold</CardTitle>\n\n        <CardDescription>\n          Between what we build and what eternally exists standing in quiet contemplation.\n        </CardDescription>\n      </CardContent>\n\n      <CardFooter>\n        <Button showArrow size="sm" variant="outline">\n          Learn More\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n',
      },
      {
        name: "card-image.module.css",
        path: "components/card-image.module.css",
        content:
          '.card {\n  max-width: 360px;\n  border-radius: 24px;\n}\n\n.cardImage {\n  border-radius: 12px;\n  width: auto;\n}\n\n.title {\n  margin: 0;\n}\n\n.card [data-slot="card-content"] {\n  gap: 0.75rem;\n}\n\n@media (max-width: 640px) {\n  .card {\n    max-width: 100%;\n    border-radius: 16px;\n  }\n\n  .cardImage {\n    border-radius: 8px;\n  }\n\n  .title {\n    font-size: 1.125rem;\n    line-height: 1.3;\n  }\n}\n',
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/card-image/page.tsx",
        content:
          'import { CardImage } from "./components/card-image";\n\nexport default function Page() {\n  return <CardImage />;\n}\n',
      },
      {
        name: "card-image.tsx",
        path: "components/card-image.tsx",
        content:
          'import { Button } from "@/components/ui/button";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardImage as CardImageComponent,\n  CardTitle,\n} from "@/components/ui/card";\n\nexport function CardImage() {\n  return (\n    <Card className="max-w-full rounded-[16px] sm:max-w-[360px] sm:rounded-[24px]" variant="lift">\n      <CardImageComponent\n        alt="Veiled woman gazing at architecture under the night sky"\n        className="w-auto rounded-[8px] sm:rounded-[12px]"\n        src="/scene_01.svg"\n      />\n\n      <CardContent>\n        <CardTitle className="m-0 max-sm:text-[1.125rem] max-sm:leading-[1.3]">Threshold</CardTitle>\n        <CardDescription className="mt-0">\n          Between what we build and what eternally exists standing in quiet contemplation.\n        </CardDescription>\n      </CardContent>\n\n      <CardFooter>\n        <Button showArrow size="sm" variant="outline">\n          Learn More\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n',
      },
    ],
  },
  "card-login": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/card-login/page.tsx",
        content:
          '"use client";\nimport CardLogin from "./components/card-login";\n\nexport default function Page() {\n  return <CardLogin />;\n}\n',
      },
      {
        name: "card-login.tsx",
        path: "components/card-login.tsx",
        content:
          '"use client";\nimport { Check } from "lucide-react";\nimport { useState } from "react";\nimport { Badge } from "@/components/ui/badge/badge";\nimport { Button } from "@/components/ui/button/button";\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from "@/components/ui/card/card";\nimport { Checkbox, CheckboxIndicator } from "@/components/ui/checkbox/checkbox";\nimport { Field, FieldControl, FieldError, FieldLabel } from "@/components/ui/field/field";\nimport { Input } from "@/components/ui/input/input";\nimport styles from "./card-login.module.css";\n\nconst EMAIL_REGEX = /\\S+@\\S+\\.\\S+/;\nconst MIN_PASSWORD_LENGTH = 6;\n\nexport default function CardLoginDemo() {\n  const [email, setEmail] = useState("");\n  const [password, setPassword] = useState("");\n  const [rememberMe, setRememberMe] = useState(false);\n  const [errors, setErrors] = useState<{ email?: string; password?: string }>({});\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const newErrors: { email?: string; password?: string } = {};\n\n    if (!email) {\n      newErrors.email = "Email is required";\n    } else if (!EMAIL_REGEX.test(email)) {\n      newErrors.email = "Email is invalid";\n    }\n\n    if (!password) {\n      newErrors.password = "Password is required";\n    } else if (password.length < MIN_PASSWORD_LENGTH) {\n      newErrors.password = `Password must be at least ${MIN_PASSWORD_LENGTH} characters`;\n    }\n\n    setErrors(newErrors);\n\n    if (Object.keys(newErrors).length === 0) {\n      // Form is valid, ready to submit\n    }\n  };\n\n  return (\n    <Card className={styles.card}>\n      <CardHeader>\n        <CardTitle className={styles.cardTitle}>Sign In</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form className={styles.form} onSubmit={handleSubmit}>\n          <Field className={styles.emailField}>\n            <FieldLabel className={styles.fieldLabel}>Email</FieldLabel>\n            <FieldControl\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder="Enter your email"\n              render={<Input />}\n              type="email"\n              value={email}\n            />\n\n            {errors.email && <FieldError>{errors.email}</FieldError>}\n          </Field>\n\n          <Field>\n            <div className={styles.passwordLabelRow}>\n              <FieldLabel className={styles.fieldLabel}>Password</FieldLabel>\n              <button className={styles.forgotPassword} type="button">\n                Forgot password?\n              </button>\n            </div>\n            <FieldControl\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder="Enter your password"\n              render={<Input />}\n              type="password"\n              value={password}\n            />\n            {errors.password && <FieldError>{errors.password}</FieldError>}\n          </Field>\n\n          <label className={styles.checkboxLabel} htmlFor="remember-me">\n            <Checkbox\n              checked={rememberMe}\n              id="remember-me"\n              onCheckedChange={(checked) => setRememberMe(checked === true)}\n            >\n              <CheckboxIndicator>\n                <Check size={16} strokeWidth={3} />\n              </CheckboxIndicator>\n            </Checkbox>\n            <span className={styles.rememberMe}>Remember me</span>\n          </label>\n        </form>\n      </CardContent>\n      <CardFooter className={styles.footer}>\n        <Button className={styles.button} onClick={handleSubmit}>\n          Sign In\n        </Button>\n      </CardFooter>\n      <div className={styles.dividerContainer}>\n        <div className={styles.dividerLine} />\n        <span className={styles.dividerText}>OR</span>\n        <div className={styles.dividerLine} />\n      </div>\n      <div className={styles.socialLoginContainer}>\n        <Button className={styles.socialButton} variant="outline">\n          <AppleIcon className={styles.appleLogo} />\n          Apple\n        </Button>\n        <Button className={styles.socialButton} variant="outline">\n          <GoogleIcon className={styles.socialIcon} />\n          Google\n          <Badge className={styles.lastUsedBadge} size="sm" variant="info">\n            Last used\n          </Badge>\n        </Button>\n      </div>\n      <div className={styles.signupBanner}>\n        <span className={styles.signupText}>No account? </span>\n        <span className={styles.signupLink}>Sign up</span>\n      </div>\n    </Card>\n  );\n}\n\nfunction AppleIcon({ className }: { className?: string }) {\n  return (\n    <svg aria-hidden="true" className={className} viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n      <path\n        d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"\n        fill="currentColor"\n      />\n    </svg>\n  );\n}\n\nfunction GoogleIcon({ className }: { className?: string }) {\n  return (\n    <svg aria-hidden="true" className={className} viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n      <path\n        d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"\n        fill="currentColor"\n      />\n    </svg>\n  );\n}\n',
      },
      {
        name: "card-login.module.css",
        path: "components/card-login.module.css",
        content:
          ".card {\n  width: 400px;\n  padding: 20px;\n  border: 0.5px solid var(--border);\n  border-radius: var(--radius-lg);\n  box-shadow:\n    oklch(from var(--border) l c h / 0.2) 0px 1px 1px,\n    oklch(from var(--border) l c h / 0.2) 0px 2px 2px,\n    oklch(from var(--border) l c h / 0.2) 0px 1px 1px;\n}\n\n.cardTitle {\n  margin-left: 4px;\n}\n\n.form {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.footer {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.checkboxLabel {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 20px;\n  font-weight: 300;\n  margin-left: 4px;\n  margin-top: 0.5rem;\n  cursor: pointer;\n}\n\n.button {\n  width: 100%;\n}\n\n.emailField {\n  padding-bottom: 4px;\n}\n\n.fieldLabel {\n  margin-left: 4px;\n}\n\n.passwordLabelRow {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 0.5rem;\n}\n\n.forgotPassword {\n  background: none;\n  border: none;\n  padding: 0;\n  font-size: 0.875rem;\n  line-height: 20px;\n  color: var(--secondary-foreground);\n  cursor: pointer;\n  transition: color 0.2s;\n  margin-right: 4px;\n  font-weight: 300;\n}\n\n.forgotPassword:hover {\n  color: var(--foreground);\n}\n\n.rememberMe {\n  color: var(--secondary-foreground);\n  cursor: pointer;\n}\n.rememberMe:hover {\n  color: var(--foreground);\n}\n.signupBanner {\n  width: calc(100% + 40px);\n\n  margin-left: -20px;\n  margin-right: -20px;\n  margin-bottom: -20px;\n  margin-top: -8px;\n  text-align: center;\n  font-size: 0.875rem;\n  line-height: 20px;\n  padding: 1.25rem 0;\n  background-color: var(--mix-card-35-trans);\n\n  border-radius: 0 0 var(--radius-lg) var(--radius-lg);\n}\n\n.signupText {\n  color: var(--muted-foreground);\n}\n\n.signupLink {\n  color: var(--secondary-foreground);\n  cursor: pointer;\n}\n\n.dividerContainer {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.dividerLine {\n  flex: 1;\n  height: 1px;\n  background-color: var(--border);\n}\n\n.dividerText {\n  color: var(--muted-foreground);\n  font-size: 0.75rem;\n  line-height: 20px;\n  font-weight: 400;\n  padding: 0 0.5rem;\n}\n\n.socialLoginContainer {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.socialButton {\n  width: 100%;\n  display: flex;\n  gap: 0.5rem;\n  position: relative;\n}\n\n.socialIcon {\n  width: 1.25rem;\n  height: 1.25rem;\n}\n\n.appleLogo {\n  width: 1.25rem;\n  height: 1.25rem;\n  margin-left: -8px;\n}\n\n.lastUsedBadge {\n  position: absolute;\n  right: 12px;\n}\n\n@media (max-width: 640px) {\n  .card {\n    width: 100%;\n    padding: 1rem;\n  }\n\n  .cardTitle {\n    font-size: 1.25rem;\n    line-height: 1.3;\n  }\n\n  .fieldLabel {\n    font-size: 0.875rem;\n  }\n\n  .checkboxLabel {\n    font-size: 0.875rem;\n    gap: 0.625rem;\n    min-height: 2.75rem;\n    align-items: center;\n  }\n\n  .forgotPassword {\n    font-size: 0.875rem;\n    min-height: 2.75rem;\n    padding: 0.5rem;\n    margin-right: 0;\n  }\n\n  .rememberMe {\n    font-size: 0.875rem;\n  }\n\n  .signupBanner {\n    width: calc(100% + 2rem);\n    margin-left: -1rem;\n    margin-right: -1rem;\n    margin-bottom: -1rem;\n    font-size: 0.9375rem;\n    padding: 1rem 0;\n  }\n\n  .dividerText {\n    font-size: 0.8125rem;\n  }\n\n  .socialButton {\n    min-height: 2.75rem;\n    font-size: 0.9375rem;\n    gap: 0.625rem;\n  }\n\n  .socialIcon,\n  .appleLogo {\n    width: 1.125rem;\n    height: 1.125rem;\n  }\n\n  .appleLogo {\n    margin-left: -4px;\n  }\n\n  .lastUsedBadge {\n    right: 8px;\n  }\n\n  .passwordLabelRow {\n    margin-bottom: 0.375rem;\n  }\n}\n",
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/card-login/page.tsx",
        content:
          '"use client";\nimport { CardLogin } from "./components/card-login";\n\nexport default function Page() {\n  return <CardLogin />;\n}\n',
      },
      {
        name: "card-login.tsx",
        path: "components/card-login.tsx",
        content:
          '"use client";\nimport { Check } from "lucide-react";\nimport { useState } from "react";\nimport { cn } from "@/lib/utils";\nimport { Badge } from "@/components/ui/badge";\nimport { Button } from "@/components/ui/button";\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";\nimport { Checkbox, CheckboxIndicator } from "@/components/ui/checkbox";\nimport { Field, FieldControl, FieldError, FieldLabel } from "@/components/ui/field";\nimport { Input } from "@/components/ui/input";\n\nconst EMAIL_REGEX = /\\S+@\\S+\\.\\S+/;\nconst MIN_PASSWORD_LENGTH = 6;\n\nexport function CardLogin() {\n  const [email, setEmail] = useState("");\n  const [password, setPassword] = useState("");\n  const [rememberMe, setRememberMe] = useState(false);\n  const [errors, setErrors] = useState<{ email?: string; password?: string }>({});\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const newErrors: { email?: string; password?: string } = {};\n\n    if (!email) {\n      newErrors.email = "Email is required";\n    } else if (!EMAIL_REGEX.test(email)) {\n      newErrors.email = "Email is invalid";\n    }\n\n    if (!password) {\n      newErrors.password = "Password is required";\n    } else if (password.length < MIN_PASSWORD_LENGTH) {\n      newErrors.password = `Password must be at least ${MIN_PASSWORD_LENGTH} characters`;\n    }\n\n    setErrors(newErrors);\n\n    if (Object.keys(newErrors).length === 0) {\n      // Form is valid, ready to submit\n    }\n  };\n\n  return (\n    <Card\n      className={cn(\n        "w-[400px] rounded-[var(--radius-lg)] border-[0.5px] border-[var(--border)] p-5",\n        "shadow-[0_1px_1px_oklch(from_var(--border)_l_c_h_/_0.2),0_2px_2px_oklch(from_var(--border)_l_c_h_/_0.2),0_1px_1px_oklch(from_var(--border)_l_c_h_/_0.2)]",\n        "max-sm:w-full max-sm:p-4"\n      )}\n    >\n      <CardHeader>\n        <CardTitle className={cn("ml-1", "max-sm:text-xl max-sm:leading-[1.3]")}>Sign In</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form className="flex flex-col gap-4" onSubmit={handleSubmit}>\n          <Field className="pb-1">\n            <FieldLabel className={cn("ml-1", "max-sm:text-sm")}>Email</FieldLabel>\n            <FieldControl\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder="Enter your email"\n              render={<Input />}\n              type="email"\n              value={email}\n            />\n\n            {errors.email && <FieldError>{errors.email}</FieldError>}\n          </Field>\n\n          <Field>\n            <div className={cn("mb-2 flex w-full items-center justify-between", "max-sm:mb-1.5")}>\n              <FieldLabel className={cn("ml-1", "max-sm:text-sm")}>Password</FieldLabel>\n              <button\n                className={cn(\n                  "mr-1 cursor-pointer border-none bg-transparent p-0 font-light text-[var(--secondary-foreground)] text-sm leading-5 transition-colors duration-200",\n                  "hover:text-[var(--foreground)]",\n                  "max-sm:mr-0 max-sm:min-h-11 max-sm:p-2 max-sm:text-sm"\n                )}\n                type="button"\n              >\n                Forgot password?\n              </button>\n            </div>\n            <FieldControl\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder="Enter your password"\n              render={<Input />}\n              type="password"\n              value={password}\n            />\n            {errors.password && <FieldError>{errors.password}</FieldError>}\n          </Field>\n\n          <label\n            className={cn(\n              "mt-2 ml-1 flex cursor-pointer items-center gap-2 font-light text-sm leading-5",\n              "max-sm:min-h-11 max-sm:items-center max-sm:gap-2.5 max-sm:text-sm"\n            )}\n            htmlFor="remember-me"\n          >\n            <Checkbox\n              checked={rememberMe}\n              id="remember-me"\n              onCheckedChange={(checked) => setRememberMe(checked === true)}\n            >\n              <CheckboxIndicator>\n                <Check size={16} strokeWidth={3} />\n              </CheckboxIndicator>\n            </Checkbox>\n            <span\n              className={cn(\n                "cursor-pointer text-[var(--secondary-foreground)]",\n                "hover:text-[var(--foreground)]",\n                "max-sm:text-sm"\n              )}\n            >\n              Remember me\n            </span>\n          </label>\n        </form>\n      </CardContent>\n      <CardFooter className="flex flex-col gap-4">\n        <Button className="w-full" onClick={handleSubmit}>\n          Sign In\n        </Button>\n      </CardFooter>\n      <div className="flex items-center gap-4">\n        <div className="h-px flex-1 bg-[var(--border)]" />\n        <span\n          className={cn("px-2 font-normal text-[var(--muted-foreground)] text-xs leading-5", "max-sm:text-[0.8125rem]")}\n        >\n          OR\n        </span>\n        <div className="h-px flex-1 bg-[var(--border)]" />\n      </div>\n      <div className="flex flex-col gap-3">\n        <Button\n          className={cn("relative flex w-full gap-2", "max-sm:min-h-11 max-sm:gap-2.5 max-sm:text-[0.9375rem]")}\n          variant="outline"\n        >\n          <AppleIcon className={cn("-ml-2 h-5 w-5", "max-sm:-ml-1 max-sm:h-[1.125rem] max-sm:w-[1.125rem]")} />\n          Apple\n        </Button>\n        <Button\n          className={cn("relative flex w-full gap-2", "max-sm:min-h-11 max-sm:gap-2.5 max-sm:text-[0.9375rem]")}\n          variant="outline"\n        >\n          <GoogleIcon className={cn("h-5 w-5", "max-sm:h-[1.125rem] max-sm:w-[1.125rem]")} />\n          Google\n          <Badge className={cn("absolute right-3", "max-sm:right-2")} size="sm" variant="info">\n            Last used\n          </Badge>\n        </Button>\n      </div>\n      <div\n        className={cn(\n          "-ml-5 -mr-5 -mb-5 -mt-2 w-[calc(100%+40px)] rounded-b-[var(--radius-lg)] bg-[var(--mix-card-35-trans)] py-5 text-center text-sm leading-5",\n          "max-sm:-ml-4 max-sm:-mr-4 max-sm:-mb-4 max-sm:w-[calc(100%+2rem)] max-sm:py-4 max-sm:text-[0.9375rem]"\n        )}\n      >\n        <span className="text-[var(--muted-foreground)]">No account? </span>\n        <span className="cursor-pointer text-[var(--secondary-foreground)]">Sign up</span>\n      </div>\n    </Card>\n  );\n}\n\nfunction AppleIcon({ className }: { className?: string }) {\n  return (\n    <svg aria-hidden="true" className={className} viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n      <path\n        d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"\n        fill="currentColor"\n      />\n    </svg>\n  );\n}\n\nfunction GoogleIcon({ className }: { className?: string }) {\n  return (\n    <svg aria-hidden="true" className={className} viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n      <path\n        d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"\n        fill="currentColor"\n      />\n    </svg>\n  );\n}\n',
      },
    ],
  },
  "card-task": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/card-task/page.tsx",
        content:
          'import { CardTask, type User } from "./components/card-task";\n\nconst users: User[] = [\n  {\n    value: "preetecool",\n    label: "preetecool",\n    email: "@preetecool",\n    avatar: "/preetecool.png",\n  },\n  {\n    value: "john-doe",\n    label: "John Doe",\n    email: "john@example.com",\n    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",\n  },\n];\n\nexport default function Page() {\n  return (\n    <CardTask\n      collaborators={users}\n      description="Update the card component documentation to reflect the new style"\n      dueDate={{ label: "1d", variant: "warning" }}\n      onAddCollaborator={() => console.log("Add collaborator")}\n      onDeleteTask={() => console.log("Delete task")}\n      stats={{ comments: 4, subtasks: "4/5" }}\n      tags={[{ label: "Urgent", variant: "destructive" }, { label: "Docs" }]}\n      title="Update Documentation"\n    />\n  );\n}\n',
      },
      {
        name: "card-task.tsx",
        path: "components/card-task.tsx",
        content:
          'import { Calendar, ListTodo, MessageCircleMore, MoreHorizontal, Trash, UserPlus, Users } from "lucide-react";\nimport { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar/avatar";\nimport { Badge } from "@/components/ui/badge/badge";\nimport { Button } from "@/components/ui/button/button";\nimport {\n  Card,\n  CardAction,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from "@/components/ui/card/card";\nimport {\n  DropdownMenu,\n  DropdownMenuItem,\n  DropdownMenuPopup,\n  DropdownMenuPortal,\n  DropdownMenuPositioner,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from "@/components/ui/dropdown-menu/dropdown-menu";\nimport {\n  Tooltip,\n  TooltipArrow,\n  TooltipPopup,\n  TooltipPortal,\n  TooltipPositioner,\n  TooltipProvider,\n  TooltipTrigger,\n} from "@/components/ui/tooltip/tooltip";\nimport styles from "./card-task.module.css";\n\nexport type User = {\n  value: string;\n  label: string;\n  email: string;\n  avatar: string;\n};\n\ntype TaskCardProps = {\n  title: string;\n  description: string;\n  tags: Array<{\n    label: string;\n    variant?: "default" | "destructive";\n  }>;\n  collaborators: User[];\n  stats: {\n    comments: number;\n    subtasks: string;\n  };\n  dueDate: {\n    label: string;\n    variant?: "default" | "warning";\n  };\n  onAddCollaborator?: () => void;\n  onDeleteTask?: () => void;\n};\n\nfunction AvatarGroup({ users, maxDisplay = 3 }: { users: User[]; maxDisplay?: number }) {\n  const displayUsers = users.slice(0, maxDisplay);\n  const remainingCount = users.length - maxDisplay;\n\n  return (\n    <TooltipProvider>\n      <div style={{ display: "flex", alignItems: "center" }}>\n        {displayUsers.map((user, index) => (\n          <Tooltip key={user.value}>\n            <TooltipTrigger\n              render={\n                <div style={{ marginLeft: index > 0 ? "-6px" : "0" }}>\n                  <Avatar\n                    style={{\n                      width: "24px",\n                      height: "24px",\n                      border: "2px solid var(--card)",\n                    }}\n                  >\n                    <AvatarImage alt={`profile image for ${user.label}`} src={user.avatar} />\n                    <AvatarFallback>\n                      {user.label\n                        ?.split(" ")\n                        .map((n: string) => n[0])\n                        .join("") || "??"}\n                    </AvatarFallback>\n                  </Avatar>\n                </div>\n              }\n            />\n            <TooltipPortal>\n              <TooltipPositioner>\n                <TooltipPopup>\n                  <TooltipArrow />\n                  {user.label}\n                </TooltipPopup>\n              </TooltipPositioner>\n            </TooltipPortal>\n          </Tooltip>\n        ))}\n        {remainingCount > 0 && (\n          <div\n            style={{\n              width: "24px",\n              height: "24px",\n              borderRadius: "50%",\n              background: "var(--muted)",\n              color: "var(--muted-foreground)",\n              display: "flex",\n              alignItems: "center",\n              justifyContent: "center",\n              fontSize: "0.625rem",\n              fontWeight: 600,\n              marginLeft: "-6px",\n              border: "2px solid var(--card)",\n            }}\n          >\n            +{remainingCount}\n          </div>\n        )}\n      </div>\n    </TooltipProvider>\n  );\n}\n\nfunction TaskCardDropdownMenu({\n  onAddCollaborator,\n  onDeleteTask,\n}: {\n  onAddCollaborator?: () => void;\n  onDeleteTask?: () => void;\n}) {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger\n        render={(props) => (\n          <Button {...props} size="icon" variant="ghost">\n            <MoreHorizontal\n              size="16"\n              style={{\n                color: "oklch(from var(--muted-foreground) l c h / 0.8)",\n              }}\n            />\n          </Button>\n        )}\n      />\n      <DropdownMenuPortal>\n        <DropdownMenuPositioner sideOffset={8}>\n          <DropdownMenuPopup render={<ul />} style={{ minWidth: "160px" }}>\n            <div style={{ height: "4px", width: "100%" }} />\n            <DropdownMenuItem icon={<UserPlus size="14" />} onClick={onAddCollaborator} render={<li />}>\n              Add collaborator\n            </DropdownMenuItem>\n            <DropdownMenuItem icon={<Calendar size="14" />} render={<li />}>\n              Change due date\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem icon={<Trash size="14" />} onClick={onDeleteTask} render={<li />} variant="destructive">\n              Delete task\n            </DropdownMenuItem>\n            <div style={{ height: "4px", width: "100%" }} />\n          </DropdownMenuPopup>\n        </DropdownMenuPositioner>\n      </DropdownMenuPortal>\n    </DropdownMenu>\n  );\n}\n\nexport function CardTask({\n  title,\n  description,\n  tags,\n  collaborators,\n  stats,\n  dueDate,\n  onAddCollaborator,\n  onDeleteTask,\n}: TaskCardProps) {\n  return (\n    <Card className={styles.taskCard}>\n      <CardHeader>\n        <CardTitle style={{ fontSize: "1rem" }}>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n        <CardAction>\n          <TaskCardDropdownMenu onAddCollaborator={onAddCollaborator} onDeleteTask={onDeleteTask} />\n        </CardAction>\n      </CardHeader>\n      <CardContent>\n        <div className={styles.contentContainer}>\n          <div className={styles.badgeContainer}>\n            {tags.map((tag) => (\n              <Badge key={tag.label} size="sm" variant={tag.variant}>\n                <span>{tag.label}</span>\n              </Badge>\n            ))}\n          </div>\n          <AvatarGroup users={collaborators} />\n        </div>\n      </CardContent>\n\n      <CardFooter className={styles.taskFooter}>\n        <div className={styles.dividerWrapper}>\n          <div className={styles.divider} />\n        </div>\n        <div className={styles.footerContainer}>\n          <div className={styles.footerLeftGroup}>\n            <div className={styles.iconBubble}>\n              <Users size="14" />\n              <span>{collaborators.length}</span>\n            </div>\n            <div className={styles.iconBubble}>\n              <MessageCircleMore size="14" />\n              <span>{stats.comments}</span>\n            </div>\n            <div className={styles.iconBubble}>\n              <ListTodo size="14" />\n              <span>{stats.subtasks}</span>\n            </div>\n          </div>\n          <div className={styles.iconBubble}>\n            <Calendar size="14" />\n            <span className={dueDate.variant === "warning" ? styles.tomorrowText : undefined}>{dueDate.label}</span>\n          </div>\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}\n',
      },
      {
        name: "card-task.module.css",
        path: "components/card-task.module.css",
        content:
          ".taskCard {\n  width: 100%;\n  max-width: 300px;\n  gap: 1rem;\n  padding: 16px;\n}\n\n.contentContainer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.badgeContainer {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n\n.dividerWrapper {\n  padding: 5px 0;\n  width: calc(100% + 32px);\n  margin-left: -16px;\n  margin-right: -16px;\n}\n\n.divider {\n  height: 1px;\n  width: 100%;\n  border-bottom: 0.5px solid oklch(from var(--border) l c h / 0.6);\n}\n\n.footerContainer {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  color: oklch(from var(--muted-foreground) l c h / 0.6);\n  font-size: 12px;\n}\n\n.footerLeftGroup {\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n}\n\n.iconBubble {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  background-color: var(--mix-card-33-bg);\n  border: 0.5px solid oklch(from var(--border) l c h / 0.2);\n  transition: all 150ms ease;\n}\n\n.iconBubble:hover {\n  background-color: var(--mix-card-50-bg);\n  border-color: var(--border);\n}\n\n.tomorrowText {\n  color: var(--warning-foreground);\n}\n\n.taskFooter {\n  margin-top: 0;\n  margin-bottom: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.65rem;\n}\n\n@media (max-width: 1280px) {\n  .taskCard {\n    min-height: auto;\n  }\n}\n",
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/card-task/page.tsx",
        content:
          'import { CardTask } from "./components/card-task";\n\nconst demoUsers = [\n  {\n    value: "preetecool",\n    label: "preetecool",\n    email: "@preetecool",\n    avatar: "/preetecool.png",\n  },\n  {\n    value: "john-doe",\n    label: "John Doe",\n    email: "john@example.com",\n    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",\n  },\n];\n\nexport default function Page() {\n  return (\n    <CardTask\n      collaborators={demoUsers}\n      description="Update the card component documentation to reflect the new style"\n      dueDate={{ label: "1d", variant: "warning" }}\n      onAddCollaborator={() => console.log("Add collaborator")}\n      onDeleteTask={() => console.log("Delete task")}\n      stats={{ comments: 4, subtasks: "4/5" }}\n      tags={[{ label: "Urgent", variant: "destructive" }, { label: "Docs" }]}\n      title="Update Documentation"\n    />\n  );\n}\n',
      },
      {
        name: "card-task.tsx",
        path: "components/card-task.tsx",
        content:
          'import { Calendar, ListTodo, MessageCircleMore, MoreHorizontal, Trash, UserPlus, Users } from "lucide-react";\nimport { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";\nimport { Badge } from "@/components/ui/badge";\nimport { Button } from "@/components/ui/button";\nimport {\n  Card,\n  CardAction,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from "@/components/ui/card";\nimport {\n  DropdownMenu,\n  DropdownMenuItem,\n  DropdownMenuPopup,\n  DropdownMenuPortal,\n  DropdownMenuPositioner,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from "@/components/ui/dropdown-menu";\nimport {\n  Tooltip,\n  TooltipArrow,\n  TooltipPopup,\n  TooltipPortal,\n  TooltipPositioner,\n  TooltipProvider,\n  TooltipTrigger,\n} from "@/components/ui/tooltip";\n\nexport type User = {\n  value: string;\n  label: string;\n  email: string;\n  avatar: string;\n};\n\ntype TaskCardProps = {\n  title: string;\n  description: string;\n  tags: Array<{\n    label: string;\n    variant?: "default" | "destructive";\n  }>;\n  collaborators: User[];\n  stats: {\n    comments: number;\n    subtasks: string;\n  };\n  dueDate: {\n    label: string;\n    variant?: "default" | "warning";\n  };\n  onAddCollaborator?: () => void;\n  onDeleteTask?: () => void;\n};\n\nfunction AvatarGroup({ users, maxDisplay = 3 }: { users: User[]; maxDisplay?: number }) {\n  const displayUsers = users.slice(0, maxDisplay);\n  const remainingCount = users.length - maxDisplay;\n\n  return (\n    <TooltipProvider>\n      <div className="flex items-center">\n        {displayUsers.map((user, index) => (\n          <Tooltip key={user.value}>\n            <TooltipTrigger\n              render={\n                <div className={index > 0 ? "-ml-1.5" : ""}>\n                  <Avatar className="h-6 w-6 border-2 border-[var(--card)]">\n                    <AvatarImage alt={`profile image for ${user.label}`} src={user.avatar} />\n                    <AvatarFallback>\n                      {user.label\n                        ?.split(" ")\n                        .map((n: string) => n[0])\n                        .join("") || "??"}\n                    </AvatarFallback>\n                  </Avatar>\n                </div>\n              }\n            />\n            <TooltipPortal>\n              <TooltipPositioner>\n                <TooltipPopup>\n                  <TooltipArrow />\n                  {user.label}\n                </TooltipPopup>\n              </TooltipPositioner>\n            </TooltipPortal>\n          </Tooltip>\n        ))}\n        {remainingCount > 0 && (\n          <div className="-ml-1.5 flex h-6 w-6 items-center justify-center rounded-full border-2 border-[var(--card)] bg-[var(--muted)] text-[0.625rem] font-semibold text-[var(--muted-foreground)]">\n            +{remainingCount}\n          </div>\n        )}\n      </div>\n    </TooltipProvider>\n  );\n}\n\nfunction TaskCardDropdownMenu({\n  onAddCollaborator,\n  onDeleteTask,\n}: {\n  onAddCollaborator?: () => void;\n  onDeleteTask?: () => void;\n}) {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger\n        render={(props) => (\n          <Button {...props} size="icon" variant="ghost">\n            <MoreHorizontal className="text-[oklch(from_var(--muted-foreground)_l_c_h_/_0.8)]" size="16" />\n          </Button>\n        )}\n      />\n      <DropdownMenuPortal>\n        <DropdownMenuPositioner sideOffset={8}>\n          <DropdownMenuPopup className="min-w-[160px]" render={<ul />}>\n            <div className="h-1 w-full" />\n            <DropdownMenuItem icon={<UserPlus size="14" />} onClick={onAddCollaborator} render={<li />}>\n              Add collaborator\n            </DropdownMenuItem>\n            <DropdownMenuItem icon={<Calendar size="14" />} render={<li />}>\n              Change due date\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem icon={<Trash size="14" />} onClick={onDeleteTask} render={<li />} variant="destructive">\n              Delete task\n            </DropdownMenuItem>\n            <div className="h-1 w-full" />\n          </DropdownMenuPopup>\n        </DropdownMenuPositioner>\n      </DropdownMenuPortal>\n    </DropdownMenu>\n  );\n}\n\nexport function CardTask({\n  title,\n  description,\n  tags,\n  collaborators,\n  stats,\n  dueDate,\n  onAddCollaborator,\n  onDeleteTask,\n}: TaskCardProps) {\n  return (\n    <Card className="w-full max-w-[300px] gap-4 p-4 xl:min-h-auto">\n      <CardHeader>\n        <CardTitle className="text-base">{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n        <CardAction>\n          <TaskCardDropdownMenu onAddCollaborator={onAddCollaborator} onDeleteTask={onDeleteTask} />\n        </CardAction>\n      </CardHeader>\n      <CardContent>\n        <div className="flex w-full items-center justify-between">\n          <div className="flex items-center gap-2">\n            {tags.map((tag) => (\n              <Badge key={tag.label} size="sm" variant={tag.variant}>\n                <span>{tag.label}</span>\n              </Badge>\n            ))}\n          </div>\n          <AvatarGroup users={collaborators} />\n        </div>\n      </CardContent>\n\n      <CardFooter className="mt-0 mb-0 flex flex-col gap-[0.65rem]">\n        <div className="-mx-4 w-[calc(100%+32px)] py-[5px]">\n          <div className="h-px w-full border-[oklch(from_var(--border)_l_c_h_/_0.6)] border-b-[0.5px]" />\n        </div>\n        <div className="flex w-full justify-between text-[oklch(from_var(--muted-foreground)_l_c_h_/_0.6)] text-xs">\n          <div className="flex items-center gap-3">\n            <div className="flex h-[27px] items-center justify-center gap-1 rounded-xl border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.2)] bg-[var(--mix-card-33-bg)] px-2 py-1 transition-all duration-150 hover:border-[var(--border)] hover:bg-[var(--mix-card-50-bg)]">\n              <Users size="14" />\n              <span>{collaborators.length}</span>\n            </div>\n            <div className="flex h-[27px] items-center justify-center gap-1 rounded-xl border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.2)] bg-[var(--mix-card-33-bg)] px-2 py-1 transition-all duration-150 hover:border-[var(--border)] hover:bg-[var(--mix-card-50-bg)]">\n              <MessageCircleMore size="14" />\n              <span>{stats.comments}</span>\n            </div>\n            <div className="flex h-[27px] items-center justify-center gap-1 rounded-xl border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.2)] bg-[var(--mix-card-33-bg)] px-2 py-1 transition-all duration-150 hover:border-[var(--border)] hover:bg-[var(--mix-card-50-bg)]">\n              <ListTodo size="14" />\n              <span>{stats.subtasks}</span>\n            </div>\n          </div>\n          <div className="flex h-[27px] items-center justify-center gap-1 rounded-xl border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.2)] bg-[var(--mix-card-33-bg)] px-2 py-1 transition-all duration-150 hover:border-[var(--border)] hover:bg-[var(--mix-card-50-bg)]">\n            <Calendar size="14" />\n            <span className={dueDate.variant === "warning" ? "text-[var(--warning-foreground)]" : undefined}>\n              {dueDate.label}\n            </span>\n          </div>\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}\n',
      },
    ],
  },
  "card-traffic": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/card-traffic/page.tsx",
        content:
          '"use client";\nimport { CardTraffic } from "./components/card-traffic";\nimport trafficData from "./data.json";\n\nexport default function Page() {\n  return <CardTraffic data={trafficData} />;\n}\n',
      },
      {
        name: "card-traffic.tsx",
        path: "components/card-traffic.tsx",
        content:
          '"use client";\n\nimport { CartesianGrid, Line, LineChart, XAxis, YAxis } from "recharts";\nimport { Badge } from "@/components/ui/badge/badge";\nimport { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card/card";\nimport { type ChartConfig, ChartContainer, ChartTooltip, ChartTooltipContent } from "@/components/ui/chart/chart";\nimport styles from "./card-traffic.module.css";\n\ntype TrafficDataPoint = {\n  date: number;\n  desktop: number;\n  mobile: number;\n};\n\ntype CardTrafficProps = {\n  data: TrafficDataPoint[];\n};\n\nconst CHART_START_YEAR = 2025;\nconst CHART_START_MONTH = 6; // July (0-indexed)\nconst CHART_START_DAY = 14;\n\nconst formatDate = (value: unknown) => {\n  const dayNumber = Math.round(Number(value));\n\n  const startDate = new Date(CHART_START_YEAR, CHART_START_MONTH, CHART_START_DAY);\n  const currentDate = new Date(startDate);\n  currentDate.setDate(startDate.getDate() + (dayNumber - 1));\n\n  return currentDate.toLocaleDateString("en-US", {\n    month: "short",\n    day: "numeric",\n  });\n};\n\nconst chartConfig = {\n  mobile: {\n    label: "Mobile",\n    color: "var(--chart-1)",\n  },\n  desktop: {\n    label: "Desktop",\n    color: "var(--chart-2)",\n  },\n} satisfies ChartConfig;\n\nexport function CardTraffic({ data }: CardTrafficProps) {\n  return (\n    <Card\n      className={styles.cardContainer}\n      style={{\n        maxWidth: "600px",\n        width: "100%",\n      }}\n    >\n      <CardHeader>\n        <CardTitle>Website Traffic</CardTitle>\n      </CardHeader>\n      <CardContent className={styles.chartContainer}>\n        <div style={{ width: "100%", height: "100%" }}>\n          <ChartContainer config={chartConfig}>\n            <LineChart data={data}>\n              <CartesianGrid strokeDasharray="3 3" vertical={false} />\n              <XAxis dataKey="date" hide={true} tickFormatter={formatDate} />\n              <YAxis hide={true} />\n              <ChartTooltip content={<ChartTooltipContent />} />\n              <Line\n                animationDuration={800}\n                dataKey="mobile"\n                dot={false}\n                stroke="var(--color-mobile)"\n                strokeWidth={2}\n                type="monotone"\n              />\n              <Line\n                animationBegin={200}\n                animationDuration={800}\n                dataKey="desktop"\n                dot={false}\n                stroke="var(--color-desktop)"\n                strokeWidth={2}\n                type="monotone"\n              />\n            </LineChart>\n          </ChartContainer>\n        </div>\n      </CardContent>\n\n      <div className={styles.statsGrid}>\n        <div className={styles.statCard}>\n          <div className={styles.statHeader}>\n            <span className={styles.statLabel}>Mobile</span>\n          </div>\n          <span className={styles.statNumber}>25,010</span>\n        </div>\n\n        <div className={styles.statCard}>\n          <div className={styles.statHeader}>\n            <span className={styles.statLabel}>Desktop</span>\n          </div>\n          <span className={styles.statNumber}>12,840</span>\n        </div>\n\n        <div className={styles.statCard}>\n          <div className={styles.statHeader}>\n            <span className={styles.statLabel}>Bounce Rate</span>\n            <Badge size="sm" variant="success">\n              -3.4%\n            </Badge>\n          </div>\n          <span className={styles.statNumber}>24.1%</span>\n        </div>\n\n        <div className={styles.statCard}>\n          <div className={styles.statHeader}>\n            <span className={styles.statLabel}>Conversion</span>\n            <Badge size="sm" variant="destructive">\n              -0.9%\n            </Badge>\n          </div>\n          <span className={styles.statNumber}>2.8%</span>\n        </div>\n      </div>\n    </Card>\n  );\n}\n',
      },
      {
        name: "data.json",
        path: "app/card-traffic/data.json",
        content:
          '[\n  { "date": 1, "desktop": 12.3, "mobile": 28.7 },\n  { "date": 2, "desktop": 11.8, "mobile": 29.2 },\n  { "date": 3, "desktop": 13.1, "mobile": 31.4 },\n  { "date": 4, "desktop": 12.9, "mobile": 30.8 },\n  { "date": 5, "desktop": 14.2, "mobile": 33.1 },\n  { "date": 6, "desktop": 13.7, "mobile": 32.3 },\n  { "date": 7, "desktop": 11.5, "mobile": 27.9 },\n  { "date": 8, "desktop": 10.8, "mobile": 26.4 },\n  { "date": 9, "desktop": 12.6, "mobile": 29.8 },\n  { "date": 10, "desktop": 13.9, "mobile": 32.7 },\n  { "date": 11, "desktop": 14.1, "mobile": 33.9 },\n  { "date": 12, "desktop": 13.3, "mobile": 31.8 },\n  { "date": 13, "desktop": 12.7, "mobile": 30.2 },\n  { "date": 14, "desktop": 11.9, "mobile": 28.6 },\n  { "date": 15, "desktop": 13.8, "mobile": 32.4 },\n  { "date": 16, "desktop": 14.5, "mobile": 34.2 },\n  { "date": 17, "desktop": 13.2, "mobile": 31.1 },\n  { "date": 18, "desktop": 12.4, "mobile": 29.7 },\n  { "date": 19, "desktop": 14.8, "mobile": 35.1 },\n  { "date": 20, "desktop": 15.2, "mobile": 36.3 },\n  { "date": 21, "desktop": 11.6, "mobile": 28.2 },\n  { "date": 22, "desktop": 10.9, "mobile": 26.8 },\n  { "date": 23, "desktop": 13.4, "mobile": 32.1 },\n  { "date": 24, "desktop": 14.7, "mobile": 34.8 },\n  { "date": 25, "desktop": 13.1, "mobile": 31.7 },\n  { "date": 26, "desktop": 12.8, "mobile": 30.4 },\n  { "date": 27, "desktop": 14.3, "mobile": 33.6 },\n  { "date": 28, "desktop": 15.1, "mobile": 35.7 },\n  { "date": 29, "desktop": 11.7, "mobile": 28.9 },\n  { "date": 30, "desktop": 12.2, "mobile": 29.4 }\n]\n',
      },
      {
        name: "card-traffic.module.css",
        path: "components/card-traffic.module.css",
        content:
          ".cardContainer {\n  width: 100%;\n  max-width: 600px;\n}\n\n.chartContainer {\n  height: 200px;\n  padding: 0;\n}\n\n.statsGrid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  border-top: 0.5px solid oklch(from var(--border) l c h / 0.7);\n  margin: 0 -24px -24px -24px;\n}\n\n.statCard {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  border-right: 0.5px solid oklch(from var(--border) l c h / 0.7);\n  border-bottom: 0.5px solid oklch(from var(--border) l c h / 0.7);\n}\n\n.statCard:nth-child(2n) {\n  border-right: none;\n}\n\n.statCard:nth-child(n + 3) {\n  border-bottom: none;\n}\n\n@media (max-width: 640px) {\n  .cardContainer {\n    max-width: 100%;\n  }\n\n  .chartContainer {\n    height: 200px;\n  }\n\n  .statsGrid {\n    margin: 0 -20px -20px -20px;\n  }\n\n  .statCard {\n    padding: 1rem;\n    gap: 0.5rem;\n  }\n\n  .statLabel {\n    font-size: 0.875rem;\n  }\n\n  .statNumber {\n    font-size: 1.75rem;\n    font-weight: 700;\n  }\n}\n\n@media (max-width: 400px) {\n  .statsGrid {\n    grid-template-columns: 1fr;\n    grid-template-rows: auto;\n    margin: 0 -20px -20px -20px;\n  }\n\n  .statCard {\n    border-right: none;\n    border-bottom: 1px solid var(--border);\n    padding: 1rem;\n  }\n\n  .statCard:nth-child(2n) {\n    border-right: none;\n  }\n\n  .statCard:nth-child(n + 3) {\n    border-bottom: 1px solid var(--border);\n  }\n\n  .statCard:last-child {\n    border-bottom: none;\n  }\n\n  .statNumber {\n    font-size: 1.5rem;\n  }\n}\n\n.statHeader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.statLabel {\n  font-size: 14px;\n  line-height: 20px;\n  color: var(--muted-foreground);\n  font-weight: 500;\n}\n\n.statNumber {\n  font-size: 32px;\n  font-weight: 700;\n  color: var(--foreground);\n  line-height: 1;\n}\n",
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/card-traffic/page.tsx",
        content:
          '"use client";\nimport { CardTraffic } from "./components/card-traffic";\nimport trafficData from "./data.json";\n\nexport default function Page() {\n  return <CardTraffic data={trafficData} />;\n}\n',
      },
      {
        name: "card-traffic.tsx",
        path: "components/card-traffic.tsx",
        content:
          '"use client";\n\nimport { CartesianGrid, Line, LineChart, XAxis, YAxis } from "recharts";\nimport { cn } from "@/lib/utils";\nimport { Badge } from "@/components/ui/badge";\nimport { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n} from "@/components/ui/chart";\n\ntype TrafficDataPoint = {\n  date: number;\n  desktop: number;\n  mobile: number;\n};\n\ntype CardTrafficProps = {\n  data: TrafficDataPoint[];\n};\n\nconst CHART_START_YEAR = 2025;\nconst CHART_START_MONTH = 6;\nconst CHART_START_DAY = 14;\n\nconst formatDate = (value: unknown) => {\n  const dayNumber = Math.round(Number(value));\n\n  const startDate = new Date(CHART_START_YEAR, CHART_START_MONTH, CHART_START_DAY);\n  const currentDate = new Date(startDate);\n  currentDate.setDate(startDate.getDate() + (dayNumber - 1));\n\n  return currentDate.toLocaleDateString("en-US", {\n    month: "short",\n    day: "numeric",\n  });\n};\n\nconst chartConfig = {\n  mobile: {\n    label: "Mobile",\n    color: "var(--chart-1)",\n  },\n  desktop: {\n    label: "Desktop",\n    color: "var(--chart-2)",\n  },\n} satisfies ChartConfig;\n\nexport function CardTraffic({ data }: CardTrafficProps) {\n  return (\n    <Card\n      className="w-full max-w-[600px]"\n      style={{\n        maxWidth: "600px",\n        width: "100%",\n      }}\n    >\n      <CardHeader>\n        <CardTitle>Website Traffic</CardTitle>\n      </CardHeader>\n      <CardContent className="h-[200px] p-0">\n        <div style={{ width: "100%", height: "100%" }}>\n          <ChartContainer config={chartConfig}>\n            <LineChart data={data}>\n              <CartesianGrid strokeDasharray="3 3" vertical={false} />\n              <XAxis dataKey="date" hide={true} tickFormatter={formatDate} />\n              <YAxis hide={true} />\n              <ChartTooltip content={<ChartTooltipContent />} />\n              <Line\n                animationDuration={800}\n                dataKey="mobile"\n                dot={false}\n                stroke="var(--color-mobile)"\n                strokeWidth={2}\n                type="monotone"\n              />\n              <Line\n                animationBegin={200}\n                animationDuration={800}\n                dataKey="desktop"\n                dot={false}\n                stroke="var(--color-desktop)"\n                strokeWidth={2}\n                type="monotone"\n              />\n            </LineChart>\n          </ChartContainer>\n        </div>\n      </CardContent>\n\n      <div\n        className={cn(\n          "-mx-6 -mb-6 grid grid-cols-2 grid-rows-2 border-t-[0.5px] border-t-[oklch(from_var(--border)_l_c_h_/_0.7)]",\n          "max-sm:-mx-5 max-sm:-mb-5",\n          "max-[400px]:-mx-5 max-[400px]:-mb-5 max-[400px]:grid-cols-1 max-[400px]:grid-rows-auto"\n        )}\n      >\n        <div\n          className={cn(\n            "flex flex-col gap-2 border-r-[0.5px] border-r-[oklch(from_var(--border)_l_c_h_/_0.7)] border-b-[0.5px] border-b-[oklch(from_var(--border)_l_c_h_/_0.7)] p-5",\n            "sm:gap-2 sm:p-4",\n            "max-[400px]:border-r-0 max-[400px]:border-b max-[400px]:border-b-[var(--border)] max-[400px]:p-4"\n          )}\n        >\n          <div className="flex items-center justify-between">\n            <span className="font-medium text-[var(--muted-foreground)] text-sm leading-5">Mobile</span>\n          </div>\n          <span className="font-bold text-[32px] text-[var(--foreground)] leading-none max-sm:text-[1.75rem] max-[400px]:text-2xl">\n            25,010\n          </span>\n        </div>\n\n        <div\n          className={cn(\n            "flex flex-col gap-2 border-b-[0.5px] border-b-[oklch(from_var(--border)_l_c_h_/_0.7)] p-5",\n            "sm:gap-2 sm:p-4",\n            "max-[400px]:border-r-0 max-[400px]:border-b max-[400px]:border-b-[var(--border)] max-[400px]:p-4"\n          )}\n        >\n          <div className="flex items-center justify-between">\n            <span className="font-medium text-[var(--muted-foreground)] text-sm leading-5">Desktop</span>\n          </div>\n          <span className="font-bold text-[32px] text-[var(--foreground)] leading-none max-sm:text-[1.75rem] max-[400px]:text-2xl">\n            12,840\n          </span>\n        </div>\n\n        <div\n          className={cn(\n            "flex flex-col gap-2 border-r-[0.5px] border-r-[oklch(from_var(--border)_l_c_h_/_0.7)] p-5",\n            "sm:gap-2 sm:p-4",\n            "max-[400px]:border-r-0 max-[400px]:border-b max-[400px]:border-b-[var(--border)] max-[400px]:p-4"\n          )}\n        >\n          <div className="flex items-center justify-between">\n            <span className="font-medium text-[var(--muted-foreground)] text-sm leading-5">Bounce Rate</span>\n            <Badge size="sm" variant="success">\n              -3.4%\n            </Badge>\n          </div>\n          <span className="font-bold text-[32px] text-[var(--foreground)] leading-none max-sm:text-[1.75rem] max-[400px]:text-2xl">\n            24.1%\n          </span>\n        </div>\n\n        <div\n          className={cn(\n            "flex flex-col gap-2 p-5",\n            "sm:gap-2 sm:p-4",\n            "max-[400px]:border-r-0 max-[400px]:border-b-0 max-[400px]:p-4"\n          )}\n        >\n          <div className="flex items-center justify-between">\n            <span className="font-medium text-[var(--muted-foreground)] text-sm leading-5">Conversion</span>\n            <Badge size="sm" variant="destructive">\n              -0.9%\n            </Badge>\n          </div>\n          <span className="font-bold text-[32px] text-[var(--foreground)] leading-none max-sm:text-[1.75rem] max-[400px]:text-2xl">\n            2.8%\n          </span>\n        </div>\n      </div>\n    </Card>\n  );\n}\n',
      },
      {
        name: "data.json",
        path: "app/card-traffic/data.json",
        content:
          '[\n  { "date": 1, "desktop": 12.3, "mobile": 28.7 },\n  { "date": 2, "desktop": 11.8, "mobile": 29.2 },\n  { "date": 3, "desktop": 13.1, "mobile": 31.4 },\n  { "date": 4, "desktop": 12.9, "mobile": 30.8 },\n  { "date": 5, "desktop": 14.2, "mobile": 33.1 },\n  { "date": 6, "desktop": 13.7, "mobile": 32.3 },\n  { "date": 7, "desktop": 11.5, "mobile": 27.9 },\n  { "date": 8, "desktop": 10.8, "mobile": 26.4 },\n  { "date": 9, "desktop": 12.6, "mobile": 29.8 },\n  { "date": 10, "desktop": 13.9, "mobile": 32.7 },\n  { "date": 11, "desktop": 14.1, "mobile": 33.9 },\n  { "date": 12, "desktop": 13.3, "mobile": 31.8 },\n  { "date": 13, "desktop": 12.7, "mobile": 30.2 },\n  { "date": 14, "desktop": 11.9, "mobile": 28.6 },\n  { "date": 15, "desktop": 13.8, "mobile": 32.4 },\n  { "date": 16, "desktop": 14.5, "mobile": 34.2 },\n  { "date": 17, "desktop": 13.2, "mobile": 31.1 },\n  { "date": 18, "desktop": 12.4, "mobile": 29.7 },\n  { "date": 19, "desktop": 14.8, "mobile": 35.1 },\n  { "date": 20, "desktop": 15.2, "mobile": 36.3 },\n  { "date": 21, "desktop": 11.6, "mobile": 28.2 },\n  { "date": 22, "desktop": 10.9, "mobile": 26.8 },\n  { "date": 23, "desktop": 13.4, "mobile": 32.1 },\n  { "date": 24, "desktop": 14.7, "mobile": 34.8 },\n  { "date": 25, "desktop": 13.1, "mobile": 31.7 },\n  { "date": 26, "desktop": 12.8, "mobile": 30.4 },\n  { "date": 27, "desktop": 14.3, "mobile": 33.6 },\n  { "date": 28, "desktop": 15.1, "mobile": 35.7 },\n  { "date": 29, "desktop": 11.7, "mobile": 28.9 },\n  { "date": 30, "desktop": 12.2, "mobile": 29.4 }\n]\n',
      },
    ],
  },
  "expandable-card": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/expandable-card/page.tsx",
        content:
          '"use client";\nimport { ExpandableCard, type ExpandableCardItem } from "./components/expandable-card";\n\nconst item: ExpandableCardItem = {\n  id: 1,\n  imageSrc: "/scene_02.svg",\n  cardHeading: "Stardust",\n  alt: "Man by the brook, under a bridge, looking at the sunrise",\n  content: (\n    <div>\n      <p style={{ margin: "0 0 1rem 0" }}>\n        He stood by the water\'s edge as twilight faded into night, watching the stars emerge one by one. Each pinpoint\n        of light was a sun, perhaps with worlds of its own, yet all connected by an invisible thread that stretched back\n        billions of years. The same atoms that now formed his thoughts had once been forged in the hearts of dying\n        stars, scattered across the cosmos, waiting to become something new.\n      </p>\n\n      <p style={{ margin: "0 0 1rem 0" }}>\n        What struck him most was the simplicity of it all. From a single cell, impossibly small and ancient, the entire\n        tree of life had branched and flourished. Every creature that ever lived, every breath ever taken, traced back\n        to that same origin. We are all cousins in this vast family, he thought, separated by millions of years yet\n        bound by the same fundamental spark.\n      </p>\n\n      <p style={{ margin: "0 0 1rem 0" }}>\n        The beauty wasn\'t just in the stars above or the life around him, but in the connection itself. That we exist at\n        all, conscious and capable of wonder, seemed like the universe\'s way of knowing itself. He was stardust\n        contemplating stars, life reflecting on life, a brief arrangement of atoms privileged enough to witness this\n        cosmic dance. In that moment, standing beneath the infinite sky, he felt both infinitely small and infinitely\n        part of something greater.\n      </p>\n    </div>\n  ),\n};\n\nexport default function Page() {\n  return <ExpandableCard item={item} />;\n}\n',
      },
      {
        name: "expandable-card.tsx",
        path: "components/expandable-card.tsx",
        content:
          '"use client";\nimport { Dialog } from "@base-ui/react/dialog";\nimport { Plus, X } from "lucide-react";\nimport { AnimatePresence, motion } from "motion/react";\nimport { useState } from "react";\nimport styles from "./expandable-card.module.css";\n\ntype ExpandableCardItem = {\n  id: string | number;\n  imageSrc: string;\n  alt: string;\n  cardHeading: string;\n  content?: React.ReactNode;\n};\n\ntype ExpandableCardProps = {\n  item: ExpandableCardItem;\n};\n\nexport function ExpandableCard({ item }: ExpandableCardProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className={styles.wrapper}>\n      <Dialog.Root onOpenChange={setIsOpen} open={isOpen}>\n        <AnimatePresence>\n          {isOpen && (\n            <Dialog.Backdrop\n              hidden={undefined}\n              key="overlay"\n              render={\n                <motion.div\n                  animate={{\n                    opacity: 1,\n                  }}\n                  className={styles.overlay}\n                  exit={{ opacity: 0 }}\n                  initial={{ opacity: 0 }}\n                  transition={{\n                    duration: 0.25,\n                    // biome-ignore lint/style/noMagicNumbers: cubic-bezier easing values\n                    ease: [0.455, 0.03, 0.515, 0.955],\n                  }}\n                />\n              }\n            />\n          )}\n        </AnimatePresence>\n        <Dialog.Portal keepMounted>\n          <AnimatePresence>\n            {isOpen && (\n              <div className={styles.modalPositioner} key="positioner">\n                <Dialog.Popup\n                  hidden={undefined}\n                  render={\n                    <motion.div\n                      className={styles.expandedCard}\n                      layoutId={`card-${item.id}`}\n                      style={{\n                        borderRadius: "32px",\n                        overflow: "hidden",\n                      }}\n                    />\n                  }\n                >\n                  <div className={styles.scrollableContent}>\n                    <div className={styles.closeButtonContainer}>\n                      <Dialog.Close\n                        aria-label="Close"\n                        render={\n                          <motion.button\n                            animate={{ opacity: 1 }}\n                            className={styles.closeButton}\n                            exit={{ opacity: 0, display: "flex" }}\n                            initial={{ opacity: 0 }}\n                            transition={{\n                              type: "spring",\n                              duration: 0.3,\n                              delay: 0.1,\n                            }}\n                          />\n                        }\n                      >\n                        <X height={21} strokeWidth={2} width={21} />\n                      </Dialog.Close>\n                    </div>\n\n                    <motion.img\n                      alt={item.alt}\n                      className={styles.expandedImage}\n                      height={600}\n                      layoutId={`image-${item.id}`}\n                      src={item.imageSrc}\n                      style={{ borderRadius: "24px" }}\n                      width={600}\n                    />\n\n                    <motion.div className={styles.contentExpanded}>\n                      <motion.div layoutId={`heading-${item.id}`}>\n                        <h3 className={styles.expandedHeading}>{item.cardHeading}</h3>\n                      </motion.div>\n\n                      <motion.div\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\n                        className={styles.paragrahWrapper}\n                        exit={{\n                          opacity: 0,\n                          display: "block",\n                          y: -40,\n                          scale: 0.92,\n                        }}\n                        initial={{ opacity: 0, y: -40, scale: 0.92 }}\n                        transition={{\n                          delay: 0.1,\n                          duration: 0.3,\n                          type: "spring",\n                          bounce: 0,\n                        }}\n                      >\n                        {item.content}\n                      </motion.div>\n                    </motion.div>\n                  </div>\n                </Dialog.Popup>\n              </div>\n            )}\n          </AnimatePresence>\n        </Dialog.Portal>\n        <Dialog.Trigger\n          render={\n            <motion.button className={styles.card} layoutId={`card-${item.id}`} style={{ borderRadius: "24px" }} />\n          }\n        >\n          <motion.img\n            alt={item.alt}\n            className={styles.image}\n            height={300}\n            layoutId={`image-${item.id}`}\n            src={item.imageSrc}\n            style={{ borderRadius: "24px" }}\n            width={300}\n          />\n\n          <div className={styles.contentContainer}>\n            <motion.div layoutId={`heading-${item.id}`}>\n              <h3 className={styles.heading}>{item.cardHeading}</h3>\n            </motion.div>\n\n            <motion.div className={styles.expandIcon}>\n              <Plus height={21} strokeWidth={2} width={21} />\n            </motion.div>\n          </div>\n        </Dialog.Trigger>\n      </Dialog.Root>\n    </div>\n  );\n}\n\nexport type { ExpandableCardItem };\n',
      },
      {
        name: "expandable-card.module.css",
        path: "components/expandable-card.module.css",
        content:
          ".wrapper {\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n}\n\n.overlay {\n  position: fixed;\n  min-height: 100dvh;\n  z-index: 100;\n  inset: 0;\n  background-color: var(--background);\n}\n\n.card {\n  all: unset;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 320px;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.7);\n  overflow: hidden;\n}\n\n.card:focus-visible {\n  outline: 2px solid var(--ring);\n  outline-offset: 2px;\n}\n\n.image {\n  width: 100%;\n  height: 320px;\n  object-fit: cover;\n}\n\n.heading {\n  font-size: var(--font-size-2xl);\n  font-weight: 500;\n  color: var(--secondary-foreground);\n  margin: 0;\n  transition: 150ms ease-out;\n  line-height: 1.5;\n  letter-spacing: -0.02em;\n}\n\n.card:hover .heading {\n  color: var(--foreground);\n}\n\n.modalPositioner {\n  position: fixed;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  pointer-events: none;\n  overflow-y: auto;\n  max-height: 100%;\n}\n\n.expandedCard {\n  position: fixed;\n  top: 5vh;\n  width: 100%;\n  max-width: 960px;\n  max-height: 100dvh;\n  overflow: hidden;\n  background-color: var(--mix-card-15-bg);\n  border: 0.5px solid oklch(from var(--border) l c h / 0.6);\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  pointer-events: auto;\n  transition: none;\n  animation: none;\n  opacity: 1;\n  transform: none;\n  scrollbar-width: thin;\n  scrollbar-color: var(--border) transparent;\n}\n\n.scrollableContent {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow-y: auto;\n  padding: 24px;\n  padding-top: 0vh;\n  padding-bottom: 12vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  scrollbar-width: thin;\n  scrollbar-color: var(--border) transparent;\n\n  mask-image: linear-gradient(\n    to bottom,\n    var(--background) calc(100% - 10vh),\n    oklch(from var(--background) l c h / 0.33) calc(100% - calc(8vh / 2)),\n    transparent 100%\n  );\n  -webkit-mask-image: linear-gradient(\n    to bottom,\n    var(--background) calc(100% - 10vh),\n    oklch(from var(--background) l c h / 0.33) calc(100% - calc(8vh / 2)),\n    transparent 100%\n  );\n}\n\n.scrollableContent::-webkit-scrollbar {\n  width: 8px;\n}\n\n.scrollableContent::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.scrollableContent::-webkit-scrollbar-thumb {\n  background-color: var(--border);\n  border-radius: 4px;\n}\n\n.scrollableContent::-webkit-scrollbar-thumb:hover {\n  background-color: var(--muted-foreground);\n}\n\n.contentExpanded {\n  max-width: 700px;\n  line-height: 2;\n  margin: 0 auto;\n  padding-top: 28px;\n  padding-left: 0;\n  padding-right: 0;\n  padding-bottom: 0;\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 36px;\n  text-align: left;\n}\n\n.expandedImage {\n  width: 100%;\n  max-width: 700px;\n  height: auto;\n  object-fit: contain;\n}\n\n.expandedHeading {\n  font-size: 48px;\n  font-weight: 500;\n  color: var(--foreground);\n  margin: 0;\n  align-self: flex-start;\n  width: 100%;\n  line-height: 1.5;\n  letter-spacing: -0.02em;\n}\n\n.paragrahWrapper {\n  color: oklch(from var(--secondary-foreground) l c h / 0.8);\n}\n\n.closeButtonContainer {\n  position: sticky;\n  align-self: flex-end;\n  width: 44px;\n  height: 44px;\n  top: 32px;\n  border-radius: 50%;\n  z-index: 20;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.closeButton {\n  width: 32px;\n  height: 32px;\n  border-radius: 999px;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.7);\n  z-index: 20;\n  background: transparent;\n  color: var(--muted-foreground);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: 150ms ease-out;\n}\n\n.closeButton:hover {\n  color: var(--foreground);\n  background-color: var(--muted);\n}\n\n.contentContainer {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n}\n\n.expandIcon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--muted-foreground);\n  width: 36px;\n  height: 36px;\n  min-width: 36px;\n  min-height: 36px;\n  border-radius: 50%;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.7);\n  margin-left: auto;\n  flex-shrink: 0;\n  transition: 150ms ease-out;\n}\n.expandIcon:hover,\n.card:hover .expandIcon {\n  background-color: var(--card);\n  color: var(--foreground);\n}\n\n@media (max-width: 768px) {\n  .card {\n    max-width: 300px;\n  }\n  .expandedHeading {\n    font-size: 32px;\n  }\n  .expandedContent {\n    font-size: 14px;\n  }\n\n  .scrollableContent {\n    padding: 0px 16px;\n    justify-content: space-between;\n    gap: 0px;\n    mask-image: linear-gradient(to bottom, #000 0%, #000 95%, transparent 100%);\n    -webkit-mask-image: linear-gradient(\n      to bottom,\n      #000 0%,\n      #000 97%,\n      transparent 100%\n    );\n  }\n}\n",
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/expandable-card/page.tsx",
        content:
          '"use client";\nimport { ExpandableCard } from "./components/expandable-card";\n\nconst demoItem = {\n  id: "1",\n  imageSrc: "/scene_01.svg",\n  alt: "A woman contemplating architecture under the night sky",\n  cardHeading: "Threshold",\n  content: (\n    <>\n      <p>\n        Between what we build and what eternally exists, she stands in quiet contemplation. The ancient arches frame\n        not just stone, but centuries of human aspiration reaching toward something greater than ourselves.\n      </p>\n      <p>\n        In the soft glow of twilight, architecture becomes more than shelterit transforms into a bridge between the\n        temporal and the timeless. Each weathered surface tells stories of hands that shaped it, minds that conceived\n        it, and generations who have stood in this very spot, gazing upward at the same impossible geometry of faith\n        made manifest.\n      </p>\n      <p>\n        The veil she wears mirrors the mystery of the structure itself: layers of meaning wrapped in beauty,\n        revealing and concealing in equal measure. This is the threshold momentwhere the practical world of\n        engineering meets the ineffable realm of the sacred, where human craft aspires to capture something divine.\n      </p>\n    </>\n  ),\n};\n\nexport default function Page() {\n  return <ExpandableCard item={demoItem} />;\n}\n',
      },
      {
        name: "expandable-card.tsx",
        path: "components/expandable-card.tsx",
        content:
          '"use client";\nimport { Dialog } from "@base-ui/react/dialog";\nimport { Plus, X } from "lucide-react";\nimport { AnimatePresence, motion } from "motion/react";\nimport { useState } from "react";\nimport { cn } from "@/lib/utils";\n\ntype ExpandableCardItem = {\n  id: string | number;\n  imageSrc: string;\n  alt: string;\n  cardHeading: string;\n  content?: React.ReactNode;\n};\n\ntype ExpandableCardProps = {\n  item: ExpandableCardItem;\n};\n\nexport function ExpandableCard({ item }: ExpandableCardProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className="relative h-fit w-fit">\n      <Dialog.Root onOpenChange={setIsOpen} open={isOpen}>\n        <AnimatePresence>\n          {isOpen && (\n            <Dialog.Backdrop\n              hidden={undefined}\n              key="overlay"\n              render={\n                <motion.div\n                  animate={{\n                    opacity: 0.99,\n                  }}\n                  className="fixed inset-0 z-[100] min-h-dvh bg-background"\n                  exit={{ opacity: 0 }}\n                  initial={{ opacity: 0 }}\n                  transition={{\n                    delay: 0.1,\n                    duration: 0.25,\n                    // biome-ignore lint/style/noMagicNumbers: cubic-bezier easing values\n                    ease: [0.19, 1, 0.22, 1],\n                  }}\n                />\n              }\n            />\n          )}\n        </AnimatePresence>\n        <Dialog.Portal keepMounted>\n          <AnimatePresence>\n            {isOpen && (\n              <div\n                className="pointer-events-none fixed inset-0 z-[9999] flex max-h-full items-center justify-center overflow-y-auto"\n                key="positioner"\n              >\n                <Dialog.Popup\n                  hidden={undefined}\n                  render={\n                    <motion.div\n                      className={cn(\n                        "fixed top-[5vh] max-h-dvh w-full max-w-[960px] overflow-hidden",\n                        "border-[0.5px] border-[oklch(from_var(--border)_l_c_h/0.6)] bg-[var(--mix-card-15-bg)] p-0",\n                        "pointer-events-auto flex flex-col items-center gap-[16px]",\n                        "transform-none animate-none opacity-100 transition-none",\n                        "scrollbar-thin scrollbar-thumb-[var(--border)] scrollbar-track-transparent"\n                      )}\n                      layoutId={`card-${item.id}`}\n                      style={{\n                        borderRadius: "32px",\n                        overflow: "hidden",\n                      }}\n                    />\n                  }\n                >\n                  <div\n                    className={cn(\n                      "relative flex h-full w-full flex-col items-center gap-[16px] overflow-y-auto px-6 pt-0 pb-[12vh]",\n                      "scrollbar-thin scrollbar-thumb-[var(--border)] scrollbar-track-transparent"\n                    )}\n                    style={{\n                      maskImage:\n                        "linear-gradient(to bottom, var(--background) calc(100% - 10vh), oklch(from var(--background) l c h / 0.33) calc(100% - calc(8vh / 2)), transparent 100%)",\n                      WebkitMaskImage:\n                        "linear-gradient(to bottom, var(--background) calc(100% - 10vh), oklch(from var(--background) l c h / 0.33) calc(100% - calc(8vh / 2)), transparent 100%)",\n                    }}\n                  >\n                    <div className="sticky top-8 z-20 flex h-11 w-11 cursor-pointer items-center justify-center self-end rounded-full">\n                      <Dialog.Close\n                        aria-label="Close"\n                        className={cn(\n                          "z-20 h-8 w-8 rounded-full border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.7)]",\n                          "flex cursor-pointer items-center justify-center bg-transparent text-[var(--muted-foreground)] transition-[150ms_ease-out]",\n                          "hover:bg-[var(--muted)] hover:text-[var(--foreground)]"\n                        )}\n                        render={\n                          <motion.button\n                            animate={{ opacity: 1 }}\n                            exit={{ opacity: 0, display: "flex" }}\n                            initial={{ opacity: 0 }}\n                            transition={{\n                              type: "spring",\n                              duration: 0.3,\n                              delay: 0.1,\n                            }}\n                          />\n                        }\n                      >\n                        <X height={21} strokeWidth={2} width={21} />\n                      </Dialog.Close>\n                    </div>\n\n                    <motion.img\n                      alt={item.alt}\n                      className="h-auto w-full max-w-[700px] object-contain"\n                      height={600}\n                      layoutId={`image-${item.id}`}\n                      src={item.imageSrc}\n                      style={{ borderRadius: "24px" }}\n                      width={600}\n                    />\n\n                    <motion.div className="mx-auto flex h-auto w-full max-w-[700px] flex-col items-start gap-9 pt-7 pr-0 pb-0 pl-0 text-left leading-[2]">\n                      <motion.div layoutId={`heading-${item.id}`}>\n                        <h3 className="m-0 w-full self-start font-medium text-[48px] text-[var(--foreground)] leading-[1.5] tracking-[-0.02em]">\n                          {item.cardHeading}\n                        </h3>\n                      </motion.div>\n\n                      <motion.div\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\n                        className="text-[oklch(from_var(--secondary-foreground)_l_c_h_/_0.8)]"\n                        exit={{\n                          opacity: 0,\n                          display: "block",\n                          y: -40,\n                          scale: 0.92,\n                        }}\n                        initial={{ opacity: 0, y: -40, scale: 0.92 }}\n                        transition={{\n                          delay: 0.1,\n                          duration: 0.3,\n                          type: "spring",\n                        }}\n                      >\n                        {item.content}\n                      </motion.div>\n                    </motion.div>\n                  </div>\n                </Dialog.Popup>\n              </div>\n            )}\n          </AnimatePresence>\n        </Dialog.Portal>\n\n        <Dialog.Trigger\n          render={\n            <motion.button\n              className="flex w-[320px] cursor-pointer flex-col items-center overflow-hidden border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.7)] bg-transparent p-0 focus-visible:outline-2 focus-visible:outline-[var(--ring)] focus-visible:outline-offset-2"\n              layoutId={`card-${item.id}`}\n              style={{\n                all: "unset",\n                cursor: "pointer",\n                display: "flex",\n                flexDirection: "column",\n                alignItems: "center",\n                width: "320px",\n                border: "0.5px solid oklch(from var(--border) l c h / 0.7)",\n                overflow: "hidden",\n                borderRadius: "24px",\n              }}\n            />\n          }\n        >\n          <motion.img\n            alt={item.alt}\n            className="h-[320px] w-full object-cover"\n            height={300}\n            layoutId={`image-${item.id}`}\n            src={item.imageSrc}\n            style={{ borderRadius: "24px" }}\n            width={300}\n          />\n\n          <div className="flex w-full items-center justify-center p-4">\n            <motion.div layoutId={`heading-${item.id}`}>\n              <h3 className="m-0 font-medium text-2xl text-[var(--secondary-foreground)] leading-[1.5] tracking-[-0.02em] transition-[150ms_ease-out]">\n                {item.cardHeading}\n              </h3>\n            </motion.div>\n\n            <motion.div className="ml-auto flex h-9 min-h-9 w-9 min-w-9 shrink-0 items-center justify-center rounded-full border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.7)] text-[var(--muted-foreground)] transition-[150ms_ease-out] hover:bg-[var(--card)] hover:text-[var(--foreground)]">\n              <Plus height={21} strokeWidth={2} width={21} />\n            </motion.div>\n          </div>\n        </Dialog.Trigger>\n      </Dialog.Root>\n    </div>\n  );\n}\n\nexport type { ExpandableCardItem };\n',
      },
    ],
  },
  "kanban-board": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/kanban-board/page.tsx",
        content:
          '"use client";\n\nimport { ProjectBoard } from "./components/project-board";\nimport { useTasks } from "./hooks/use-tasks";\n\nexport default function Page() {\n  const { data, isLoaded, addTask, updateTask, deleteTask, setTasks } = useTasks();\n\n  if (!isLoaded) {\n    return (\n      <div style={{ display: "flex", alignItems: "center", justifyContent: "center", height: "100vh" }}>\n        Loading...\n      </div>\n    );\n  }\n\n  return (\n    <ProjectBoard\n      data={data}\n      onAddTask={addTask}\n      onDeleteTask={deleteTask}\n      onTasksChange={setTasks}\n      onUpdateTask={updateTask}\n    />\n  );\n}\n',
      },
      {
        name: "filter-bar.tsx",
        path: "components/filter-bar.tsx",
        content:
          '"use client";\n\nimport { Check, Filter, Layers, X } from "lucide-react";\nimport { Badge } from "@/components/ui/badge/badge";\nimport { Button } from "@/components/ui/button/button";\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuCheckboxItemIndicator,\n  DropdownMenuGroup,\n  DropdownMenuGroupLabel,\n  DropdownMenuPopup,\n  DropdownMenuPortal,\n  DropdownMenuPositioner,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuRadioItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuSpacer,\n  DropdownMenuTrigger,\n} from "@/components/ui/dropdown-menu/dropdown-menu";\nimport type { FilterConfig, GroupByField, Priority } from "../types";\nimport { capitalize, cn, GROUP_BY_ITEMS, PRIORITY_ITEMS, TAG_ITEMS } from "../lib/project";\nimport styles from "./filter-bar.module.css";\n\nfunction CheckIcon() {\n  return <Check size={12} />;\n}\n\nexport type FilterBarProps = {\n  className?: string;\n  filters: FilterConfig;\n  groupBy: GroupByField;\n  onTogglePriority: (priority: Priority, checked: boolean) => void;\n  onToggleTag: (tag: string, checked: boolean) => void;\n  onGroupByChange: (groupBy: GroupByField) => void;\n};\n\nexport function FilterBar({\n  className,\n  filters,\n  groupBy,\n  onTogglePriority,\n  onToggleTag,\n  onGroupByChange,\n}: FilterBarProps) {\n  const activeFilterCount = filters.priority.length + filters.tags.length;\n  const currentGroupByLabel = GROUP_BY_ITEMS.find((item) => item.value === groupBy)?.label ?? "Group by";\n\n  return (\n    <div className={cn(styles.container, className)} data-slot="filter-bar">\n      <div className={styles.bar}>\n        {/* Filter Menu */}\n        <DropdownMenu>\n          <DropdownMenuTrigger\n            render={\n              <Button size="sm" variant="outline">\n                <Filter size={14} style={{ color: "var(--muted-foreground)" }} />\n                Filters\n                {activeFilterCount > 0 && (\n                  <Badge size="sm" variant="secondary">\n                    {activeFilterCount}\n                  </Badge>\n                )}\n              </Button>\n            }\n          />\n          <DropdownMenuPortal>\n            <DropdownMenuPositioner align="start" side="bottom" sideOffset={4}>\n              <DropdownMenuPopup>\n                <DropdownMenuSpacer />\n\n                <DropdownMenuGroup>\n                  <DropdownMenuGroupLabel>Priority</DropdownMenuGroupLabel>\n                  {PRIORITY_ITEMS.map((item) => (\n                    <DropdownMenuCheckboxItem\n                      checked={filters.priority.includes(item.value)}\n                      key={item.value}\n                      onCheckedChange={(checked) => onTogglePriority(item.value, checked)}\n                    >\n                      <span>{item.label}</span>\n                      <DropdownMenuCheckboxItemIndicator>\n                        <CheckIcon />\n                      </DropdownMenuCheckboxItemIndicator>\n                    </DropdownMenuCheckboxItem>\n                  ))}\n                </DropdownMenuGroup>\n\n                <DropdownMenuSeparator />\n\n                <DropdownMenuGroup>\n                  <DropdownMenuGroupLabel>Tags</DropdownMenuGroupLabel>\n                  {TAG_ITEMS.map((item) => (\n                    <DropdownMenuCheckboxItem\n                      checked={filters.tags.includes(item.value)}\n                      key={item.value}\n                      onCheckedChange={(checked) => onToggleTag(item.value, checked)}\n                    >\n                      <span>{item.label}</span>\n                      <DropdownMenuCheckboxItemIndicator>\n                        <CheckIcon />\n                      </DropdownMenuCheckboxItemIndicator>\n                    </DropdownMenuCheckboxItem>\n                  ))}\n                </DropdownMenuGroup>\n\n                <DropdownMenuSpacer />\n              </DropdownMenuPopup>\n            </DropdownMenuPositioner>\n          </DropdownMenuPortal>\n        </DropdownMenu>\n\n        {/* Group By Menu */}\n        <DropdownMenu>\n          <DropdownMenuTrigger\n            render={\n              <Button size="sm" variant="outline">\n                <Layers size={14} style={{ color: "var(--muted-foreground)" }} />\n                {currentGroupByLabel}\n              </Button>\n            }\n          />\n          <DropdownMenuPortal>\n            <DropdownMenuPositioner align="start" side="bottom" sideOffset={4}>\n              <DropdownMenuPopup>\n                <DropdownMenuSpacer />\n\n                <DropdownMenuGroup>\n                  <DropdownMenuGroupLabel>Group by</DropdownMenuGroupLabel>\n                  <DropdownMenuRadioGroup\n                    onValueChange={(value) => onGroupByChange(value as GroupByField)}\n                    value={groupBy}\n                  >\n                    {GROUP_BY_ITEMS.map((item) => (\n                      <DropdownMenuRadioItem key={item.value} value={item.value}>\n                        {item.label}\n                        <DropdownMenuRadioItemIndicator>\n                          <CheckIcon />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                    ))}\n                  </DropdownMenuRadioGroup>\n                </DropdownMenuGroup>\n\n                <DropdownMenuSpacer />\n              </DropdownMenuPopup>\n            </DropdownMenuPositioner>\n          </DropdownMenuPortal>\n        </DropdownMenu>\n      </div>\n    </div>\n  );\n}\n\nexport type ActiveFiltersProps = {\n  className?: string;\n  filters: FilterConfig;\n  onRemovePriority: (priority: Priority) => void;\n  onRemoveTag: (tag: string) => void;\n};\n\nexport function ActiveFilters({ className, filters, onRemovePriority, onRemoveTag }: ActiveFiltersProps) {\n  const hasActiveFilters = filters.priority.length > 0 || filters.tags.length > 0;\n\n  if (!hasActiveFilters) {\n    return null;\n  }\n\n  return (\n    <div className={cn(styles.filterPills, className)} data-slot="active-filters">\n      {filters.priority.map((p) => (\n        <Badge className={styles.filterPill} key={p} variant="secondary">\n          {capitalize(p)}\n          <button\n            aria-label={`Remove ${capitalize(p)} priority filter`}\n            className={styles.filterPillRemove}\n            onClick={() => onRemovePriority(p)}\n            type="button"\n          >\n            <X aria-hidden="true" size={12} />\n          </button>\n        </Badge>\n      ))}\n      {filters.tags.map((tag) => (\n        <Badge className={styles.filterPill} key={tag} variant="secondary">\n          {capitalize(tag)}\n          <button\n            aria-label={`Remove ${capitalize(tag)} tag filter`}\n            className={styles.filterPillRemove}\n            onClick={() => onRemoveTag(tag)}\n            type="button"\n          >\n            <X aria-hidden="true" size={12} />\n          </button>\n        </Badge>\n      ))}\n    </div>\n  );\n}\n',
      },
      {
        name: "kanban.tsx",
        path: "components/kanban.tsx",
        content:
          '"use client";\n\nimport {\n  type CollisionDetection,\n  closestCorners,\n  DndContext,\n  type DragEndEvent,\n  type DragOverEvent,\n  DragOverlay,\n  type DragStartEvent,\n  pointerWithin,\n  useDroppable,\n} from "@dnd-kit/core";\nimport { SortableContext, useSortable, verticalListSortingStrategy } from "@dnd-kit/sortable";\nimport { CSS } from "@dnd-kit/utilities";\nimport { Pencil, Trash2 } from "lucide-react";\nimport { createContext, useContext, useMemo } from "react";\nimport { createPortal } from "react-dom";\nimport { Card } from "@/components/ui/card/card";\nimport {\n  ContextMenu,\n  ContextMenuItem,\n  ContextMenuPopup,\n  ContextMenuPortal,\n  ContextMenuPositioner,\n  ContextMenuSeparator,\n  ContextMenuSpacer,\n  ContextMenuTrigger,\n} from "@/components/ui/context-menu/context-menu";\nimport { type KanbanColumnDataProps, type KanbanItemProps, useKanbanDnd } from "../hooks/use-kanban-dnd";\nimport { cn, getTasksForGroup } from "../lib/project";\nimport type { GroupByField } from "../types";\nimport styles from "./kanban.module.css";\n\n// =============================================================================\n// Custom Collision Detection for Kanban\n// =============================================================================\n\nconst kanbanCollisionDetection: CollisionDetection = (args) => {\n  const pointerCollisions = pointerWithin(args);\n  if (pointerCollisions.length > 0) {\n    return pointerCollisions;\n  }\n  return closestCorners(args);\n};\n\n// =============================================================================\n// Context\n// =============================================================================\n\ntype KanbanContextValue<T extends KanbanItemProps = KanbanItemProps> = {\n  getItemsForColumn: (columnId: string) => T[];\n  onEditItem: (item: T) => void;\n  onDeleteItem: (item: T) => void;\n};\n\nconst KanbanContext = createContext<KanbanContextValue<KanbanItemProps> | null>(null);\n\nexport function useKanbanContext<T extends KanbanItemProps = KanbanItemProps>() {\n  const context = useContext(KanbanContext) as KanbanContextValue<T> | null;\n  if (!context) {\n    throw new Error("useKanbanContext must be used within a KanbanProvider");\n  }\n  return context;\n}\n\n// =============================================================================\n// KanbanProvider\n// =============================================================================\n\nexport type KanbanProviderProps<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n> = {\n  children: (column: C) => React.ReactNode;\n  columns: C[];\n  data: T[];\n  groupBy?: GroupByField;\n  className?: string;\n  onDataChange: (data: T[]) => void;\n  onDragStart?: (event: DragStartEvent) => void;\n  onDragEnd?: (event: DragEndEvent) => void;\n  onDragOver?: (event: DragOverEvent) => void;\n  onEditItem: (item: T) => void;\n  onDeleteItem: (item: T) => void;\n  renderOverlay?: (item: T) => React.ReactNode;\n};\n\nexport function KanbanProvider<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n>({\n  children,\n  columns,\n  data,\n  groupBy = "column",\n  className,\n  onDataChange,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onEditItem,\n  onDeleteItem,\n  renderOverlay,\n}: KanbanProviderProps<T, C>) {\n  const isDragEnabled = groupBy === "column" || groupBy === "priority";\n\n  const { activeItem, sensors, announcements, handleDragStart, handleDragOver, handleDragEnd } = useKanbanDnd({\n    data,\n    columns,\n    groupBy,\n    enabled: isDragEnabled,\n    onDataChange,\n    onDragStart,\n    onDragEnd,\n    onDragOver,\n  });\n\n  const getItemsForColumn = useMemo(\n    () => (columnId: string) => getTasksForGroup(data, columnId, groupBy) as T[],\n    [data, groupBy]\n  );\n\n  const contextValue = useMemo<KanbanContextValue<T>>(\n    () => ({\n      getItemsForColumn,\n      onEditItem,\n      onDeleteItem,\n    }),\n    [getItemsForColumn, onEditItem, onDeleteItem]\n  );\n\n  return (\n    <KanbanContext.Provider value={contextValue as KanbanContextValue<KanbanItemProps>}>\n      <DndContext\n        accessibility={{ announcements }}\n        collisionDetection={kanbanCollisionDetection}\n        id="kanban-dnd"\n        onDragEnd={handleDragEnd}\n        onDragOver={handleDragOver}\n        onDragStart={handleDragStart}\n        sensors={sensors}\n      >\n        <div className={cn(styles.root, className)} data-slot="kanban-root">\n          <div className={styles.board} data-slot="kanban-board">\n            {columns.map((column) => children(column))}\n          </div>\n        </div>\n        {typeof window !== "undefined" &&\n          createPortal(\n            <DragOverlay>{activeItem && renderOverlay ? renderOverlay(activeItem as T) : null}</DragOverlay>,\n            document.body\n          )}\n      </DndContext>\n    </KanbanContext.Provider>\n  );\n}\n\n// =============================================================================\n// KanbanColumn\n// =============================================================================\n\nexport type KanbanColumnProps = React.ComponentProps<"div"> & {\n  id: string;\n};\n\nexport function KanbanColumn({ id, className, children, ...props }: KanbanColumnProps) {\n  const { setNodeRef } = useDroppable({ id });\n\n  return (\n    <div className={cn(styles.column, className)} data-slot="kanban-column" ref={setNodeRef} {...props}>\n      {children}\n    </div>\n  );\n}\n\n// =============================================================================\n// KanbanColumnHeader\n// =============================================================================\n\nexport type KanbanColumnHeaderProps = React.ComponentProps<"div">;\n\nexport function KanbanColumnHeader({ className, ...props }: KanbanColumnHeaderProps) {\n  return <div className={cn(styles.columnHeader, className)} data-slot="kanban-column-header" {...props} />;\n}\n\n// =============================================================================\n// KanbanCardList\n// =============================================================================\n\nexport type KanbanCardListProps<T extends KanbanItemProps = KanbanItemProps> = Omit<\n  React.ComponentProps<"div">,\n  "children" | "id"\n> & {\n  id: string;\n  children: (item: T) => React.ReactNode;\n};\n\nexport function KanbanCardList<T extends KanbanItemProps = KanbanItemProps>({\n  id,\n  children,\n  className,\n  ...props\n}: KanbanCardListProps<T>) {\n  const { getItemsForColumn } = useKanbanContext<T>();\n  const items = getItemsForColumn(id);\n  const itemIds = items.map((item) => item.id);\n\n  return (\n    <SortableContext items={itemIds} strategy={verticalListSortingStrategy}>\n      <div className={cn(styles.columnContent, className)} data-slot="kanban-card-list" {...props}>\n        {items.map(children)}\n      </div>\n    </SortableContext>\n  );\n}\n\n// =============================================================================\n// KanbanCard\n// =============================================================================\n\nexport type KanbanCardProps<T extends KanbanItemProps = KanbanItemProps> = {\n  id: string;\n  item: T;\n  children: React.ReactNode;\n  isOverlay?: boolean;\n  className?: string;\n};\n\nexport function KanbanCard<T extends KanbanItemProps = KanbanItemProps>({\n  id,\n  item,\n  children,\n  isOverlay,\n  className,\n}: KanbanCardProps<T>) {\n  const { onEditItem, onDeleteItem } = useKanbanContext<T>();\n\n  const { attributes, listeners, setNodeRef, transform, transition, isDragging } = useSortable({\n    id,\n    disabled: isOverlay,\n  });\n\n  const style = {\n    transition,\n    transform: CSS.Transform.toString(transform),\n  };\n\n  const cardContent = (\n    <Card\n      className={cn(\n        styles.card,\n        isDragging === true && !isOverlay ? styles.cardDragging : null,\n        isOverlay === true ? styles.cardOverlay : null,\n        className\n      )}\n    >\n      {children}\n    </Card>\n  );\n\n  if (isOverlay) {\n    return cardContent;\n  }\n\n  return (\n    <div className={styles.cardWrapper} ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      <ContextMenu>\n        <ContextMenuTrigger className={styles.cardTrigger}>{cardContent}</ContextMenuTrigger>\n        <ContextMenuPortal>\n          <ContextMenuPositioner>\n            <ContextMenuPopup>\n              <ContextMenuSpacer />\n              <ContextMenuItem icon={<Pencil size={14} />} onClick={() => onEditItem(item)}>\n                Edit\n              </ContextMenuItem>\n              <ContextMenuSeparator />\n              <ContextMenuItem icon={<Trash2 size={14} />} onClick={() => onDeleteItem(item)} variant="destructive">\n                Delete\n              </ContextMenuItem>\n              <ContextMenuSpacer />\n            </ContextMenuPopup>\n          </ContextMenuPositioner>\n        </ContextMenuPortal>\n      </ContextMenu>\n    </div>\n  );\n}\n',
      },
      {
        name: "priority-icon.tsx",
        path: "components/priority-icon.tsx",
        content:
          'import { CircleAlert } from "lucide-react";\nimport type { Priority } from "../types";\nimport styles from "./priority-icon.module.css";\n\ntype PriorityIconProps = {\n  priority: Priority;\n  className?: string;\n};\n\nexport function PriorityIcon({ priority, className }: PriorityIconProps) {\n  if (priority === "urgent") {\n    return (\n      <span aria-label="Urgent priority" className={`${styles.icon} ${className ?? ""}`} role="img">\n        <CircleAlert aria-hidden="true" className={styles.urgent} size={14} />\n      </span>\n    );\n  }\n\n  const barCount = priority === "low" ? 1 : priority === "medium" ? 2 : 3;\n  const label = `${priority.charAt(0).toUpperCase() + priority.slice(1)} priority`;\n\n  return (\n    <span aria-label={label} className={`${styles.icon} ${className ?? ""}`} role="img">\n      <svg aria-hidden="true" className={styles.bars} fill="currentColor" height="14" viewBox="0 0 14 14" width="14">\n        {/* Bar 1 - always active */}\n        <rect height="4" rx="1" width="3" x="1" y="9" />\n        {/* Bar 2 */}\n        <rect className={barCount < 2 ? styles.inactive : undefined} height="7" rx="1" width="3" x="5.5" y="6" />\n        {/* Bar 3 */}\n        <rect className={barCount < 3 ? styles.inactive : undefined} height="10" rx="1" width="3" x="10" y="3" />\n      </svg>\n    </span>\n  );\n}\n',
      },
      {
        name: "project-board.tsx",
        path: "components/project-board.tsx",
        content:
          '"use client";\n\nimport {\n  Calendar,\n  CheckCircle2,\n  Circle,\n  CircleDashed,\n  CircleDot,\n  ListTodo,\n  MessageCircleMore,\n  Plus,\n  User,\n} from "lucide-react";\nimport { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar/avatar";\nimport { Badge } from "@/components/ui/badge/badge";\nimport { Button } from "@/components/ui/button/button";\nimport { CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card/card";\nimport { ActiveFilters, FilterBar } from "./filter-bar";\nimport { KanbanCard, KanbanCardList, KanbanColumn, KanbanColumnHeader, KanbanProvider } from "./kanban";\nimport { PriorityIcon } from "./priority-icon";\nimport { TaskDialog } from "./task-dialog";\nimport type { KanbanData, Task } from "../types";\nimport { useFilters } from "../hooks/use-filters";\nimport { useTaskDialog } from "../hooks/use-task-dialog";\nimport { useView } from "../hooks/use-view";\nimport { capitalize, TAG_COLORS, type Tag } from "../lib/project";\nimport styles from "./project-board.module.css";\n\nexport type ProjectBoardProps = {\n  data: KanbanData;\n  onAddTask: (task: Omit<Task, "id" | "createdAt">) => void;\n  onUpdateTask: (id: string, updates: Partial<Omit<Task, "id">>) => void;\n  onDeleteTask: (id: string) => void;\n  onTasksChange: (tasks: Task[]) => void;\n};\n\nconst COLUMN_ICONS: Record<string, React.ReactNode> = {\n  backlog: <CircleDashed size={14} />,\n  todo: <Circle size={14} />,\n  "in-progress": <CircleDot size={14} />,\n  done: <CheckCircle2 size={14} />,\n};\n\nfunction getDaysLeft(dueDate: string | undefined): number | null {\n  if (!dueDate) {\n    return null;\n  }\n  const due = new Date(dueDate);\n  const now = new Date();\n  now.setHours(0, 0, 0, 0);\n  due.setHours(0, 0, 0, 0);\n  const diffTime = due.getTime() - now.getTime();\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n}\n\nfunction TaskCardContent({ task, onEdit }: { task: Task; onEdit?: (task: Task) => void }) {\n  const subtaskCount = task.subtasks?.length ?? 0;\n  const completedSubtasks = task.subtasks?.filter((st) => st.completed).length ?? 0;\n  const daysLeft = getDaysLeft(task.dueDate);\n\n  const renderAssignees = () => {\n    if (!task.assignees) {\n      return null;\n    }\n\n    if (task.assignees.length > 0) {\n      return (\n        <Button\n          aria-label="Edit assignees"\n          className={styles.avatarGroup}\n          onClick={() => onEdit?.(task)}\n          variant="ghost"\n        >\n          {task.assignees.slice(0, 3).map((user) => (\n            <div className={styles.avatarWrapper} key={user.id}>\n              <Avatar className={styles.avatar}>\n                <AvatarImage alt={user.name} src={user.avatar} />\n                <AvatarFallback>\n                  {user.name\n                    .split(" ")\n                    .map((n) => n[0])\n                    .join("")}\n                </AvatarFallback>\n              </Avatar>\n            </div>\n          ))}\n          {task.assignees.length > 3 && <div className={styles.avatarOverflow}>+{task.assignees.length - 3}</div>}\n        </Button>\n      );\n    }\n\n    return (\n      <Button\n        aria-label="Add assignees"\n        className={styles.avatarGroup}\n        onClick={() => onEdit?.(task)}\n        variant="ghost"\n      >\n        <div className={styles.avatarPlaceholderAdd}>\n          <Plus aria-hidden="true" size={8} />\n        </div>\n        <div className={styles.avatarPlaceholderUser}>\n          <User aria-hidden="true" size={10} />\n        </div>\n      </Button>\n    );\n  };\n\n  return (\n    <>\n      <CardHeader>\n        <CardTitle>{task.title}</CardTitle>\n      </CardHeader>\n      <CardContent>\n        {task.description ? <CardDescription>{task.description}</CardDescription> : null}\n        <div className={styles.cardMeta} onPointerDown={(e) => e.stopPropagation()}>\n          <PriorityIcon priority={task.priority} />\n          {task.tags.length > 0 && (\n            <div className={styles.cardTags}>\n              {task.tags.map((tag) => (\n                <Badge key={tag} size="sm" variant="outline">\n                  <span className={styles.tagDot} style={{ backgroundColor: TAG_COLORS[tag as Tag] }} />\n                  {capitalize(tag)}\n                </Badge>\n              ))}\n            </div>\n          )}\n        </div>\n      </CardContent>\n      <div className={styles.cardFooterWrapper} onPointerDown={(e) => e.stopPropagation()}>\n        <div className={styles.cardDividerWrapper}>\n          <div className={styles.cardDivider} />\n        </div>\n        <CardFooter className={styles.cardFooter}>\n          <div className={styles.footerLeft}>\n            {renderAssignees()}\n            <Button\n              aria-label="Comments"\n              className={styles.footerIcon}\n              onClick={() => onEdit?.(task)}\n              variant="ghost"\n            >\n              <MessageCircleMore aria-hidden="true" size={12} />\n            </Button>\n            {subtaskCount > 0 && (\n              <Button\n                aria-label={`${completedSubtasks} of ${subtaskCount} subtasks completed`}\n                className={styles.footerIcon}\n                onClick={() => onEdit?.(task)}\n                variant="ghost"\n              >\n                <ListTodo aria-hidden="true" size={12} />\n                <span className={styles.footerIconCount}>\n                  {completedSubtasks}/{subtaskCount}\n                </span>\n              </Button>\n            )}\n          </div>\n          {daysLeft !== null && (\n            <Button\n              aria-label={`${daysLeft} days left`}\n              className={styles.footerIcon}\n              data-overdue={daysLeft < 0}\n              data-urgent={daysLeft >= 0 && daysLeft <= 2}\n              onClick={() => onEdit?.(task)}\n              variant="ghost"\n            >\n              <Calendar aria-hidden="true" size={12} />\n              <span className={styles.footerIconCount}>{daysLeft}</span>\n            </Button>\n          )}\n        </CardFooter>\n      </div>\n    </>\n  );\n}\n\nexport function ProjectBoard({ data, onAddTask, onUpdateTask, onDeleteTask, onTasksChange }: ProjectBoardProps) {\n  // Filtering\n  const { filters, filteredTasks, togglePriority, toggleTag, activeFilterCount } = useFilters(data.tasks);\n\n  // View preferences\n  const { groupBy, setGroupBy, displayColumns } = useView(data.columns, data.tasks);\n\n  // Dialog state\n  const { dialogState, openCreate, openEdit, openDelete, close } = useTaskDialog();\n\n  return (\n    <div className={styles.container}>\n      {/* Toolbar */}\n      <FilterBar\n        filters={filters}\n        groupBy={groupBy}\n        onGroupByChange={setGroupBy}\n        onTogglePriority={togglePriority}\n        onToggleTag={toggleTag}\n      />\n\n      {activeFilterCount > 0 && (\n        <div className={styles.activeFilters}>\n          <ActiveFilters\n            filters={filters}\n            onRemovePriority={(p) => togglePriority(p, false)}\n            onRemoveTag={(t) => toggleTag(t, false)}\n          />\n        </div>\n      )}\n\n      {/* Board */}\n      <KanbanProvider\n        columns={displayColumns}\n        data={filteredTasks}\n        groupBy={groupBy}\n        onDataChange={onTasksChange}\n        onDeleteItem={openDelete}\n        onEditItem={openEdit}\n        renderOverlay={(task) => (\n          <KanbanCard id={task.id} isOverlay item={task}>\n            <TaskCardContent task={task} />\n          </KanbanCard>\n        )}\n      >\n        {(column) => (\n          <KanbanColumn id={column.id} key={column.id}>\n            <KanbanColumnHeader className={styles.columnHeader}>\n              <div className={styles.columnHeaderLeft}>\n                {COLUMN_ICONS[column.id] ? <span className={styles.columnIcon}>{COLUMN_ICONS[column.id]}</span> : null}\n                <h2 className={styles.columnTitle}>{column.name}</h2>\n              </div>\n              <Button\n                aria-label={`Add task to ${column.name}`}\n                onClick={() => openCreate(column.id)}\n                size="icon"\n                variant="ghost"\n              >\n                <Plus size={16} />\n              </Button>\n            </KanbanColumnHeader>\n\n            <KanbanCardList<Task> id={column.id}>\n              {(task) => (\n                <KanbanCard id={task.id} item={task} key={task.id}>\n                  <TaskCardContent onEdit={openEdit} task={task} />\n                </KanbanCard>\n              )}\n            </KanbanCardList>\n          </KanbanColumn>\n        )}\n      </KanbanProvider>\n\n      {/* Dialog */}\n      <TaskDialog\n        assignees={data.assignees}\n        columns={data.columns}\n        groupBy={groupBy}\n        onAddTask={onAddTask}\n        onClose={close}\n        onDeleteTask={onDeleteTask}\n        onUpdateTask={onUpdateTask}\n        state={dialogState}\n      />\n    </div>\n  );\n}\n',
      },
      {
        name: "task-dialog.tsx",
        path: "components/task-dialog.tsx",
        content:
          '"use client";\n\nimport {\n  Calendar as CalendarIcon,\n  CheckCircle2,\n  Circle,\n  CircleAlert,\n  CircleDashed,\n  CircleDot,\n  Command,\n  Plus,\n  Square,\n  SquareCheck,\n  Tag as TagIcon,\n  Users,\n  X,\n} from "lucide-react";\nimport { useEffect, useState } from "react";\nimport { z } from "zod";\nimport {\n  AlertDialog,\n  AlertDialogClose,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogTitle,\n} from "@/components/ui/alert-dialog/alert-dialog";\nimport { Button } from "@/components/ui/button/button";\nimport { Calendar } from "@/components/ui/calendar/calendar";\nimport { Combobox as ComboboxPrimitive } from "@base-ui/react/combobox";\nimport {\n  Combobox,\n  ComboboxEmpty,\n  ComboboxInput,\n  ComboboxItem,\n  ComboboxList,\n  ComboboxPopup,\n  ComboboxPortal,\n  ComboboxPositioner,\n} from "@/components/ui/combobox/combobox";\nimport { Dialog, DialogClose, DialogOverlay, DialogPopup, DialogPortal } from "@/components/ui/dialog/dialog";\nimport { Field, FieldControl, FieldError } from "@/components/ui/field/field";\nimport { Form } from "@/components/ui/form/form";\nimport { Input } from "@/components/ui/input/input";\nimport { Kbd } from "@/components/ui/kbd/kbd";\nimport { Popover, PopoverPopup, PopoverTrigger } from "@/components/ui/popover/popover";\nimport {\n  Select,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectList,\n  SelectPopup,\n  SelectPortal,\n  SelectPositioner,\n  SelectTrigger,\n  SelectValue,\n} from "@/components/ui/select/select";\nimport type { Assignee, Column, GroupByField, Priority, Subtask, Task } from "../types";\nimport type { DialogState } from "../hooks/use-task-dialog";\nimport { PRIORITY_ITEMS, TAG_COLORS, TAG_ITEMS, type Tag } from "../lib/project";\nimport styles from "./task-dialog.module.css";\n\nconst taskSchema = z.object({\n  title: z.string().min(1, "Title is required"),\n});\n\ntype TaskFormState = {\n  title: string;\n  description: string;\n  priority: Priority;\n  columnId: string;\n  tags: string[];\n  assignees: Assignee[];\n  subtasks: Subtask[];\n  dueDate: string;\n};\n\nconst defaultFormState: TaskFormState = {\n  title: "",\n  description: "",\n  priority: "medium",\n  columnId: "",\n  tags: [],\n  assignees: [],\n  subtasks: [],\n  dueDate: "",\n};\n\nconst PRIORITY_CONFIG: Record<Priority, { icon: React.ReactNode; label: string }> = {\n  urgent: { icon: <CircleAlert size={14} />, label: "Urgent" },\n  high: { icon: <PriorityBars count={3} />, label: "High" },\n  medium: { icon: <PriorityBars count={2} />, label: "Medium" },\n  low: { icon: <PriorityBars count={1} />, label: "Low" },\n};\n\nconst COLUMN_ICONS: Record<string, React.ReactNode> = {\n  backlog: <CircleDashed size={14} />,\n  todo: <Circle size={14} />,\n  "in-progress": <CircleDot size={14} />,\n  done: <CheckCircle2 size={14} />,\n};\n\nfunction PriorityBars({ count }: { count: number }) {\n  return (\n    <svg fill="currentColor" height="14" viewBox="0 0 14 14" width="14">\n      <rect height="4" rx="1" width="3" x="1" y="9" />\n      <rect height="7" opacity={count >= 2 ? 1 : 0.3} rx="1" width="3" x="5.5" y="6" />\n      <rect height="10" opacity={count >= 3 ? 1 : 0.3} rx="1" width="3" x="10" y="3" />\n    </svg>\n  );\n}\n\nfunction TagDot({ tag }: { tag: Tag }) {\n  return <span className={styles.tagChip} style={{ backgroundColor: TAG_COLORS[tag] }} />;\n}\n\nexport type TaskDialogProps = {\n  state: DialogState;\n  assignees: Assignee[];\n  columns: Column[];\n  groupBy: GroupByField;\n  onClose: () => void;\n  onAddTask: (task: Omit<Task, "id" | "createdAt">) => void;\n  onUpdateTask: (id: string, updates: Partial<Omit<Task, "id">>) => void;\n  onDeleteTask: (id: string) => void;\n};\n\nexport function TaskDialog({\n  state,\n  assignees,\n  columns,\n  groupBy,\n  onClose,\n  onAddTask,\n  onUpdateTask,\n  onDeleteTask,\n}: TaskDialogProps) {\n  if (state.mode === "closed") {\n    return null;\n  }\n\n  if (state.mode === "delete") {\n    return (\n      <DeleteConfirmDialog\n        onClose={onClose}\n        onDelete={() => {\n          onDeleteTask(state.task.id);\n          onClose();\n        }}\n        task={state.task}\n      />\n    );\n  }\n\n  return (\n    <TaskFormDialog\n      assignees={assignees}\n      columnId={state.mode === "create" ? state.columnId : undefined}\n      columns={columns}\n      groupBy={groupBy}\n      mode={state.mode}\n      onAddTask={onAddTask}\n      onClose={onClose}\n      onDeleteTask={onDeleteTask}\n      onUpdateTask={onUpdateTask}\n      task={state.mode === "edit" ? state.task : undefined}\n    />\n  );\n}\n\ntype DeleteConfirmDialogProps = {\n  task: Task;\n  onClose: () => void;\n  onDelete: () => void;\n};\n\nfunction DeleteConfirmDialog({ task, onClose, onDelete }: DeleteConfirmDialogProps) {\n  return (\n    <AlertDialog onOpenChange={(open) => !open && onClose()} open>\n      <AlertDialogContent>\n        <AlertDialogTitle>Delete Task</AlertDialogTitle>\n        <AlertDialogDescription>\n          Are you sure you want to delete "{task.title}"? This action cannot be undone.\n        </AlertDialogDescription>\n        <AlertDialogFooter>\n          <AlertDialogClose render={<Button variant="outline" />}>Cancel</AlertDialogClose>\n          <Button onClick={onDelete} variant="destructive">\n            Delete\n          </Button>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n}\n\ntype TaskFormDialogProps = {\n  mode: "create" | "edit";\n  task?: Task;\n  assignees: Assignee[];\n  columnId?: string;\n  columns: Column[];\n  groupBy: GroupByField;\n  onClose: () => void;\n  onAddTask: (task: Omit<Task, "id" | "createdAt">) => void;\n  onUpdateTask: (id: string, updates: Partial<Omit<Task, "id">>) => void;\n  onDeleteTask: (id: string) => void;\n};\n\nfunction TaskFormDialog({\n  mode,\n  task,\n  assignees,\n  columnId,\n  columns,\n  groupBy,\n  onClose,\n  onAddTask,\n  onUpdateTask,\n  onDeleteTask,\n}: TaskFormDialogProps) {\n  const [form, setForm] = useState<TaskFormState>(defaultFormState);\n  const [errors, setErrors] = useState<Record<string, string[]>>({});\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  const updateField = <K extends keyof TaskFormState>(field: K, value: TaskFormState[K]) => {\n    setForm((prev) => ({ ...prev, [field]: value }));\n  };\n\n  useEffect(() => {\n    setErrors({});\n    if (mode === "edit" && task) {\n      setForm({\n        title: task.title,\n        description: task.description,\n        priority: task.priority,\n        columnId: task.columnId,\n        tags: task.tags,\n        assignees: task.assignees ?? [],\n        subtasks: task.subtasks ?? [],\n        dueDate: task.dueDate ? task.dueDate.split("T")[0] : "",\n      });\n    } else {\n      setForm({\n        ...defaultFormState,\n        columnId: columnId ?? columns[0]?.id ?? "",\n      });\n    }\n  }, [mode, task, columnId, columns]);\n\n  const addSubtask = () => {\n    const newSubtask: Subtask = {\n      id: `subtask-${Date.now()}`,\n      title: "",\n      completed: false,\n    };\n    updateField("subtasks", [...form.subtasks, newSubtask]);\n  };\n\n  const updateSubtask = (id: string, updates: Partial<Subtask>) => {\n    updateField(\n      "subtasks",\n      form.subtasks.map((st) => (st.id === id ? { ...st, ...updates } : st))\n    );\n  };\n\n  const removeSubtask = (id: string) => {\n    updateField(\n      "subtasks",\n      form.subtasks.filter((st) => st.id !== id)\n    );\n  };\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === "l") {\n        e.preventDefault();\n        addSubtask();\n      }\n    };\n\n    window.addEventListener("keydown", handleKeyDown);\n    return () => window.removeEventListener("keydown", handleKeyDown);\n  }, [addSubtask]);\n\n  const handleSubmit = () => {\n    const result = taskSchema.safeParse(form);\n\n    if (!result.success) {\n      setErrors(z.flattenError(result.error).fieldErrors);\n      return;\n    }\n\n    setErrors({});\n\n    const formData = {\n      ...form,\n      dueDate: form.dueDate ? new Date(form.dueDate).toISOString() : undefined,\n    };\n\n    if (mode === "create") {\n      onAddTask(formData);\n    } else if (task) {\n      onUpdateTask(task.id, formData);\n    }\n\n    onClose();\n  };\n\n  const handleDelete = () => {\n    if (mode === "edit" && task) {\n      onDeleteTask(task.id);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog onOpenChange={(open) => !open && onClose()} open>\n      <DialogPortal>\n        <DialogOverlay />\n        <DialogPopup className={styles.dialogPopup} data-kanban-dialog>\n          <Form className={styles.taskForm} errors={errors}>\n            <Field name="title">\n              <FieldControl\n                autoFocus\n                className={styles.titleInput}\n                data-variant="borderless"\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => updateField("title", e.target.value)}\n                placeholder={mode === "create" ? "New task..." : "Task title..."}\n                render={<Input />}\n                value={form.title}\n              />\n              <FieldError />\n            </Field>\n\n            <Field>\n              <Input\n                className={styles.descriptionInput}\n                data-variant="borderless"\n                onChange={(e) => updateField("description", e.target.value)}\n                placeholder="Add description..."\n                value={form.description}\n              />\n            </Field>\n\n            <div className={styles.subtasksSection}>\n              {form.subtasks.map((subtask) => (\n                <div className={styles.subtaskItem} key={subtask.id}>\n                  <button\n                    className={styles.subtaskCheckbox}\n                    onClick={() => updateSubtask(subtask.id, { completed: !subtask.completed })}\n                    type="button"\n                  >\n                    {subtask.completed ? (\n                      <SquareCheck className={styles.subtaskChecked} size={16} />\n                    ) : (\n                      <Square size={16} />\n                    )}\n                  </button>\n                  <input\n                    autoFocus={!subtask.title}\n                    className={styles.subtaskInput}\n                    data-completed={subtask.completed}\n                    onChange={(e) => updateSubtask(subtask.id, { title: e.target.value })}\n                    onKeyDown={(e) => {\n                      if (e.key === "Enter") {\n                        e.preventDefault();\n                        addSubtask();\n                      }\n                      if (e.key === "Backspace" && !subtask.title) {\n                        e.preventDefault();\n                        removeSubtask(subtask.id);\n                      }\n                    }}\n                    placeholder="Subtask title..."\n                    value={subtask.title}\n                  />\n                  <button\n                    aria-label="Remove subtask"\n                    className={styles.subtaskRemove}\n                    onClick={() => removeSubtask(subtask.id)}\n                    type="button"\n                  >\n                    <X size={14} />\n                  </button>\n                </div>\n              ))}\n              <button className={styles.addSubtaskButton} onClick={addSubtask} type="button">\n                <Plus size={14} />\n                <span>Add subtask</span>\n                <Kbd size="sm">\n                  <Command size={10} />L\n                </Kbd>\n              </button>\n            </div>\n\n            <div className={styles.fieldRow}>\n              <Select\n                items={PRIORITY_ITEMS}\n                onValueChange={(value) => updateField("priority", value as Priority)}\n                value={form.priority}\n              >\n                <SelectTrigger render={<Button className={styles.fieldButton} size="sm" variant="outline" />}>\n                  <SelectValue>\n                    {(value) => (\n                      <>\n                        <span className={styles.fieldIcon} data-urgent={value === "urgent"}>\n                          {PRIORITY_CONFIG[value as Priority].icon}\n                        </span>\n                        {PRIORITY_CONFIG[value as Priority].label}\n                      </>\n                    )}\n                  </SelectValue>\n                </SelectTrigger>\n                <SelectPortal>\n                  <SelectPositioner align="start" alignItemWithTrigger={false} sideOffset={6}>\n                    <SelectPopup>\n                      <SelectList>\n                        {PRIORITY_ITEMS.map((p) => (\n                          <SelectItem key={p.value} value={p.value}>\n                            <span className={styles.fieldIcon}>{PRIORITY_CONFIG[p.value].icon}</span>\n                            <SelectItemText>{p.label}</SelectItemText>\n                            <SelectItemIndicator />\n                          </SelectItem>\n                        ))}\n                      </SelectList>\n                    </SelectPopup>\n                  </SelectPositioner>\n                </SelectPortal>\n              </Select>\n\n              {groupBy === "column" && (\n                <Select\n                  items={columns.map((col) => ({ value: col.id, label: col.name }))}\n                  onValueChange={(value) => {\n                    if (value) {\n                      updateField("columnId", value);\n                    }\n                  }}\n                  value={form.columnId}\n                >\n                  <SelectTrigger render={<Button className={styles.fieldButton} size="sm" variant="outline" />}>\n                    <SelectValue>\n                      {(value) => {\n                        const col = columns.find((c) => c.id === value);\n                        return (\n                          <>\n                            <span className={styles.fieldIcon}>{COLUMN_ICONS[value] ?? <Circle size={14} />}</span>\n                            {col?.name ?? "Select column"}\n                          </>\n                        );\n                      }}\n                    </SelectValue>\n                  </SelectTrigger>\n                  <SelectPortal>\n                    <SelectPositioner align="start" alignItemWithTrigger={false} sideOffset={6}>\n                      <SelectPopup>\n                        <SelectList>\n                          {columns.map((col) => (\n                            <SelectItem key={col.id} value={col.id}>\n                              <span className={styles.fieldIcon}>{COLUMN_ICONS[col.id] ?? <Circle size={14} />}</span>\n                              <SelectItemText>{col.name}</SelectItemText>\n                              <SelectItemIndicator />\n                            </SelectItem>\n                          ))}\n                        </SelectList>\n                      </SelectPopup>\n                    </SelectPositioner>\n                  </SelectPortal>\n                </Select>\n              )}\n\n              <Select<string, true> multiple onValueChange={(values) => updateField("tags", values)} value={form.tags}>\n                <SelectTrigger render={<Button className={styles.fieldButton} size="sm" variant="outline" />}>\n                  <span className={styles.fieldIcon}>\n                    <TagIcon size={14} />\n                  </span>\n                  {form.tags.length > 0 ? (\n                    <div className={styles.tagChips}>\n                      {form.tags.map((tag) => (\n                        <span\n                          className={styles.tagChip}\n                          key={tag}\n                          style={{ backgroundColor: TAG_COLORS[tag as Tag] }}\n                        />\n                      ))}\n                    </div>\n                  ) : (\n                    "Tags"\n                  )}\n                </SelectTrigger>\n                <SelectPortal>\n                  <SelectPositioner align="start" alignItemWithTrigger={false} sideOffset={6}>\n                    <SelectPopup>\n                      <SelectList>\n                        {TAG_ITEMS.map((item) => (\n                          <SelectItem key={item.value} value={item.value}>\n                            <TagDot tag={item.value as Tag} />\n                            <SelectItemText>{item.label}</SelectItemText>\n                            <SelectItemIndicator />\n                          </SelectItem>\n                        ))}\n                      </SelectList>\n                    </SelectPopup>\n                  </SelectPositioner>\n                </SelectPortal>\n              </Select>\n\n              <Combobox<Assignee, true>\n                items={assignees}\n                multiple\n                onValueChange={(values) => updateField("assignees", values)}\n                value={form.assignees}\n              >\n                <ComboboxPrimitive.Trigger\n                  render={<Button className={styles.fieldButton} size="sm" variant="outline" />}\n                >\n                  <span className={styles.fieldIcon}>\n                    <Users size={14} />\n                  </span>\n                  {form.assignees.length > 0\n                    ? `${form.assignees.length} assignee${form.assignees.length > 1 ? "s" : ""}`\n                    : "Assignees"}\n                </ComboboxPrimitive.Trigger>\n                <ComboboxPortal>\n                  <ComboboxPositioner side="bottom" sideOffset={6}>\n                    <ComboboxPopup className={styles.assigneesPopup}>\n                      <ComboboxInput placeholder="Search assignees..." />\n                      <ComboboxEmpty>No users found</ComboboxEmpty>\n                      <ComboboxList>\n                        {(assignee: Assignee) => (\n                          <ComboboxItem indicatorPosition="right" key={assignee.id} value={assignee}>\n                            <span style={{ flex: 1 }}>{assignee.name}</span>\n                          </ComboboxItem>\n                        )}\n                      </ComboboxList>\n                    </ComboboxPopup>\n                  </ComboboxPositioner>\n                </ComboboxPortal>\n              </Combobox>\n\n              <Popover>\n                <PopoverTrigger className={styles.fieldButton} render={<Button size="sm" variant="outline" />}>\n                  <span className={styles.fieldIcon}>\n                    <CalendarIcon size={14} />\n                  </span>\n                  {form.dueDate ? new Date(form.dueDate).toLocaleDateString() : "Due date"}\n                </PopoverTrigger>\n                <PopoverPopup align="start" arrow={false} className={styles.calendarPopup} sideOffset={6}>\n                  <Calendar\n                    className={styles.calendar}\n                    mode="single"\n                    onSelect={(date) => {\n                      if (date) {\n                        const year = date.getFullYear();\n                        const month = String(date.getMonth() + 1).padStart(2, "0");\n                        const day = String(date.getDate()).padStart(2, "0");\n                        updateField("dueDate", `${year}-${month}-${day}`);\n                      } else {\n                        updateField("dueDate", "");\n                      }\n                    }}\n                    selected={form.dueDate.length > 0 ? new Date(`${form.dueDate}T00:00:00`) : undefined}\n                  />\n                </PopoverPopup>\n              </Popover>\n            </div>\n\n            <div className={styles.dialogFooter}>\n              {mode === "edit" && (\n                <Button\n                  className={styles.deleteButton}\n                  onClick={() => setShowDeleteConfirm(true)}\n                  size="sm"\n                  type="button"\n                  variant="outline"\n                >\n                  Delete\n                </Button>\n              )}\n              <div className={styles.footerActions}>\n                <Button onClick={handleSubmit} size="sm" type="button">\n                  {mode === "create" ? "Create" : "Save"}\n                </Button>\n              </div>\n            </div>\n\n            {mode === "edit" && task && (\n              <AlertDialog onOpenChange={setShowDeleteConfirm} open={showDeleteConfirm}>\n                <AlertDialogContent>\n                  <AlertDialogTitle>Delete Task</AlertDialogTitle>\n                  <AlertDialogDescription>\n                    Are you sure you want to delete "{task.title}"? This action cannot be undone.\n                  </AlertDialogDescription>\n                  <AlertDialogFooter>\n                    <AlertDialogClose render={<Button variant="outline" />}>Cancel</AlertDialogClose>\n                    <Button onClick={handleDelete} variant="destructive">\n                      Delete\n                    </Button>\n                  </AlertDialogFooter>\n                </AlertDialogContent>\n              </AlertDialog>\n            )}\n          </Form>\n\n          <Button\n            aria-label="Close dialog"\n            className={styles.closeButton}\n            render={<DialogClose />}\n            size="icon"\n            variant="ghost"\n          >\n            <X aria-hidden="true" size={16} />\n          </Button>\n        </DialogPopup>\n      </DialogPortal>\n    </Dialog>\n  );\n}\n',
      },
      {
        name: "data.json",
        path: "app/kanban-board/data.json",
        content:
          '{\n  "columns": [\n    { "id": "backlog", "name": "Backlog", "order": 0 },\n    { "id": "todo", "name": "To Do", "order": 1 },\n    { "id": "in-progress", "name": "In Progress", "order": 2 },\n    { "id": "done", "name": "Done", "order": 3 }\n  ],\n  "assignees": [\n    { "id": "user-1", "name": "Emma Wilson" },\n    { "id": "user-2", "name": "James Chen" },\n    { "id": "user-3", "name": "Sofia Garcia" },\n    { "id": "user-4", "name": "Marcus Johnson" },\n    { "id": "user-5", "name": "Aisha Patel" },\n    { "id": "user-6", "name": "Oliver Brown" },\n    { "id": "user-7", "name": "Isabella Martinez" },\n    { "id": "user-8", "name": "William Taylor" },\n    { "id": "user-9", "name": "Mia Anderson" },\n    { "id": "user-10", "name": "Benjamin Lee" }\n  ],\n  "tasks": [\n    {\n      "id": "card-1",\n      "title": "Research competitor products",\n      "description": "Analyze top 5 competitors and document their key features and pricing strategies.",\n      "columnId": "todo",\n      "priority": "high",\n      "tags": ["feature"],\n      "assignees": [\n        { "id": "user-1", "name": "Emma Wilson" },\n        { "id": "user-2", "name": "James Chen" },\n        { "id": "user-3", "name": "Sofia Garcia" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-1-1",\n          "title": "Identify top 5 competitors",\n          "completed": true\n        },\n        {\n          "id": "subtask-1-2",\n          "title": "Document pricing strategies",\n          "completed": false\n        },\n        {\n          "id": "subtask-1-3",\n          "title": "Create comparison spreadsheet",\n          "completed": false\n        }\n      ],\n      "dueDate": "2025-12-18T00:00:00.000Z",\n      "createdAt": "2024-01-01T00:00:00.000Z"\n    },\n    {\n      "id": "card-2",\n      "title": "Design system foundations",\n      "description": "Create color palette, typography scale, and spacing tokens for the design system.",\n      "columnId": "in-progress",\n      "priority": "medium",\n      "tags": ["feature"],\n      "assignees": [\n        { "id": "user-3", "name": "Sofia Garcia" },\n        { "id": "user-4", "name": "Marcus Johnson" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-2-1",\n          "title": "Define color palette",\n          "completed": true\n        },\n        {\n          "id": "subtask-2-2",\n          "title": "Create typography scale",\n          "completed": true\n        },\n        {\n          "id": "subtask-2-3",\n          "title": "Define spacing tokens",\n          "completed": false\n        }\n      ],\n      "dueDate": "2025-12-20T00:00:00.000Z",\n      "createdAt": "2024-01-02T00:00:00.000Z"\n    },\n    {\n      "id": "card-3",\n      "title": "Set up CI/CD pipeline",\n      "description": "Configure GitHub Actions for automated testing and deployment to staging environment.",\n      "columnId": "done",\n      "priority": "high",\n      "tags": ["feature"],\n      "assignees": [\n        { "id": "user-2", "name": "James Chen" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-3-1",\n          "title": "Set up GitHub Actions workflow",\n          "completed": true\n        },\n        {\n          "id": "subtask-3-2",\n          "title": "Configure test automation",\n          "completed": true\n        },\n        {\n          "id": "subtask-3-3",\n          "title": "Set up staging deployment",\n          "completed": true\n        }\n      ],\n      "dueDate": "2025-12-10T00:00:00.000Z",\n      "createdAt": "2024-01-03T00:00:00.000Z"\n    },\n    {\n      "id": "card-4",\n      "title": "Mobile responsiveness",\n      "description": "Ensure all components are responsive and work well on mobile devices.",\n      "columnId": "backlog",\n      "priority": "low",\n      "tags": ["bug"],\n      "assignees": [\n        { "id": "user-1", "name": "Emma Wilson" },\n        { "id": "user-5", "name": "Aisha Patel" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-4-1",\n          "title": "Audit current breakpoints",\n          "completed": false\n        },\n        {\n          "id": "subtask-4-2",\n          "title": "Fix navigation on mobile",\n          "completed": false\n        }\n      ],\n      "dueDate": "2025-12-25T00:00:00.000Z",\n      "createdAt": "2024-01-04T00:00:00.000Z"\n    }\n  ]\n}\n',
      },
      {
        name: "filter-bar.module.css",
        path: "components/filter-bar.module.css",
        content:
          ".container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n}\n\n.bar {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n\n.filterPills {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.filterPill {\n  display: flex;\n  gap: 0.25rem;\n  align-items: center;\n}\n\n.filterPillRemove {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border: none;\n  background: none;\n  border-radius: 50%;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity 0.15s;\n}\n\n.filterPillRemove:hover {\n  opacity: 1;\n}\n",
      },
      {
        name: "kanban.module.css",
        path: "components/kanban.module.css",
        content:
          '/* Root */\n.root {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n\n/* Board Layout */\n.board {\n  display: flex;\n  flex: 1;\n  align-items: stretch;\n  gap: 1rem;\n  padding: 1rem;\n  min-height: 0;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n\n/* Column */\n.column {\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  flex-shrink: 0;\n  background-color: var(--col-background);\n  border-radius: var(--radius);\n}\n\n.columnHeader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem 1rem;\n}\n\n.columnContent {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  flex: 1;\n  min-height: 0;\n  overflow-y: auto;\n}\n\n/* Card - Kanban-specific overrides for the UI Card component */\n.card {\n  padding: 1rem;\n  cursor: grab;\n  transition:\n    box-shadow 0.15s ease,\n    border-color 0.15s ease;\n  touch-action: manipulation;\n  background-color: var(--background);\n}\n\n.card[data-slot="card"] {\n  gap: 0.5rem;\n  padding: 1rem;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.3);\n}\n\n.card:hover {\n  background-color: oklch(from var(--accent) l c h / 0.15);\n  box-shadow: var(--shadow-border-stack);\n}\n\n.card:focus-visible {\n  outline: 2px solid var(--ring);\n  outline-offset: 2px;\n}\n\n.cardDragging {\n  opacity: 0.5;\n  cursor: grabbing;\n}\n\n.cardOverlay {\n  cursor: grabbing;\n  box-shadow: var(--shadow-lg);\n}\n\n.card [data-slot="card-header"] {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 0.5rem;\n  padding: 0;\n}\n\n.card [data-slot="card-title"] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--foreground);\n  line-height: 1.4;\n}\n\n.card [data-slot="card-content"] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  padding: 0;\n}\n\n.card [data-slot="card-description"] {\n  font-size: 0.8125rem;\n  color: var(--muted-foreground);\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* Card Wrapper - for sortable positioning */\n.cardWrapper {\n  display: block;\n  position: relative;\n}\n\n.cardTrigger {\n  display: block;\n}\n',
      },
      {
        name: "priority-icon.module.css",
        path: "components/priority-icon.module.css",
        content:
          ".icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  background-color: transparent;\n  border: 1px solid var(--border-subtle-light);\n  border-radius: calc(var(--radius) - 2px);\n  flex-shrink: 0;\n}\n\n.bars {\n  color: var(--muted-foreground);\n}\n\n.inactive {\n  fill: oklch(from var(--muted-foreground) l c h / 0.3);\n}\n\n.urgent {\n  color: var(--urgent);\n}\n",
      },
      {
        name: "project-board.module.css",
        path: "components/project-board.module.css",
        content:
          '.container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n\n.loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100svh;\n  color: var(--muted-foreground);\n  font-size: 0.875rem;\n}\n\n.activeFilters {\n  padding: 0 1rem 0.5rem;\n}\n\n.columnHeaderLeft {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.columnIcon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--muted-foreground);\n}\n\n.columnTitle {\n  font-size: 0.875rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n/* Card Meta */\n.cardMeta {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding-top: 0.5rem;\n}\n\n.cardTags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n}\n\n.tagDot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n/* Card Footer */\n.cardFooterWrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-bottom: -0.25rem;\n}\n\n.cardDividerWrapper {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  margin-left: -1rem;\n  margin-right: -1rem;\n}\n\n.cardDivider {\n  height: 1px;\n  background-color: oklch(from var(--border) l c h / 0.2);\n}\n\n.cardFooter {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n  padding: 0;\n}\n\n.footerLeft {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.footerIcon[data-slot="button"] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 4px 8px;\n  height: auto;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.4);\n  border-radius: calc(var(--radius) - 2px);\n  color: var(--muted-foreground);\n  transition: all 0.15s;\n}\n\n.footerIcon[data-slot="button"]:hover {\n  background-color: var(--mix-card-50-bg);\n  color: var(--foreground);\n}\n\n.footerIconCount {\n  font-size: 0.6875rem;\n  font-weight: 500;\n  line-height: 1;\n}\n\n.footerIcon[data-slot="button"][data-urgent="true"] .footerIconCount {\n  color: var(--warning);\n}\n\n.footerIcon[data-slot="button"][data-overdue="true"] .footerIconCount {\n  color: var(--destructive);\n}\n\n/* Avatar Group */\n.avatarGroup[data-slot="button"] {\n  display: flex;\n  align-items: center;\n  height: auto;\n  padding: 0;\n  background: transparent;\n  border: none;\n}\n\n.avatarGroup[data-slot="button"]:hover {\n  background: transparent;\n}\n\n.avatarWrapper {\n  margin-left: -0.5rem;\n}\n\n.avatarWrapper:first-child {\n  margin-left: 0;\n}\n\n.avatar[data-slot="avatar-root"] {\n  width: 1.5rem;\n  height: 1.5rem;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.1);\n  font-size: 0.5rem;\n}\n\n.avatarOverflow {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  margin-left: -0.5rem;\n  border-radius: 50%;\n  background-color: var(--muted);\n  border: 0.5px solid oklch(from var(--border) l c h / 0.2);\n  font-size: 0.5rem;\n  font-weight: 500;\n  color: var(--muted-foreground);\n}\n\n.avatarPlaceholderAdd {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n  border: 1px dashed oklch(from var(--border) l c h / 0.4);\n  color: var(--muted-foreground);\n  cursor: pointer;\n  transition: all 0.15s;\n}\n\n.avatarPlaceholderAdd:hover {\n  border-color: oklch(from var(--border) l c h / 0.6);\n  color: var(--foreground);\n}\n\n.avatarPlaceholderUser {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  margin-left: -0.5rem;\n  border-radius: 50%;\n  background-color: var(--mix-card-33-bg);\n  border: 0.5px solid oklch(from var(--border) l c h / 0.2);\n  color: var(--muted-foreground);\n}\n',
      },
      {
        name: "task-dialog.module.css",
        path: "components/task-dialog.module.css",
        content:
          '.dialogPopup {\n  max-width: 660px;\n  overflow: visible;\n  padding: 1.25rem;\n}\n\n.taskForm[data-slot="form"] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-top: 0;\n}\n\n.titleInput {\n  font-size: 1.25rem;\n  font-weight: 600;\n  line-height: 1.3;\n  border-radius: 0;\n  padding-block: 0.5rem;\n  letter-spacing: -0.01em;\n}\n\n.titleInput::placeholder {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--muted-foreground);\n  opacity: 0.6;\n}\n\n.descriptionInput {\n  font-size: 0.875rem;\n  color: var(--muted-foreground);\n  border-radius: 0;\n  padding-block: 0.375rem;\n  min-height: 2.5rem;\n}\n\n.descriptionInput::placeholder {\n  font-size: 0.875rem;\n  opacity: 0.7;\n}\n\n.subtasksSection {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-top: 0.75rem;\n}\n\n.subtaskItem {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0;\n  border-radius: var(--radius-sm);\n}\n\n.subtaskCheckbox {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: var(--muted-foreground);\n  cursor: pointer;\n  flex-shrink: 0;\n  transition: color 150ms ease;\n}\n\n.subtaskCheckbox:hover {\n  color: var(--foreground);\n}\n\n.subtaskChecked {\n  color: var(--primary);\n}\n\n.subtaskInput {\n  flex: 1;\n  border: none;\n  background: transparent;\n  font-size: 0.875rem;\n  color: var(--foreground);\n  outline: none;\n  padding: 0.25rem 0;\n}\n\n.subtaskInput::placeholder {\n  color: var(--muted-foreground);\n  opacity: 0.6;\n}\n\n.subtaskInput[data-completed="true"] {\n  text-decoration: line-through;\n  color: var(--muted-foreground);\n}\n\n.subtaskRemove {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.25rem;\n  border: none;\n  background: transparent;\n  color: var(--muted-foreground);\n  cursor: pointer;\n  opacity: 0;\n  transition:\n    opacity 150ms ease,\n    color 150ms ease;\n  border-radius: var(--radius-sm);\n}\n\n.subtaskItem:hover .subtaskRemove {\n  opacity: 1;\n}\n\n.subtaskRemove:hover {\n  color: var(--destructive);\n}\n\n.addSubtaskButton {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.375rem 0;\n  border: none;\n  background: transparent;\n  color: var(--muted-foreground);\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: color 150ms ease;\n}\n\n.addSubtaskButton:hover {\n  color: var(--foreground);\n}\n\n.addSubtaskButton [data-slot="kbd"] {\n  margin-left: auto;\n}\n\n.calendar[data-slot="calendar"] {\n  padding: 0;\n}\n\n.calendarPopup[data-slot="popover-popup"] {\n  border-radius: var(--radius);\n}\n\n/* Calendar popover needs higher z-index to appear above dialog */\n:global(body:has([data-kanban-dialog]) [data-slot="popover-positioner"]) {\n  z-index: 200;\n}\n\n.fieldRow {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.fieldButton[data-slot="button"] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.fieldButton [data-slot="select-value"] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.fieldIcon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--muted-foreground);\n}\n\n.fieldIcon[data-urgent="true"] {\n  color: var(--urgent);\n}\n\n.tagChips {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n}\n\n.tagChip {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.tagItemContent {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.selectTrigger {\n  width: 100%;\n  justify-content: space-between;\n}\n\n.assigneesPopup {\n  min-width: 200px;\n\n  & [data-slot="combobox-input"] {\n    margin-bottom: 4px;\n    padding-inline: 12px 10px;\n    width: 100%;\n    min-height: 32px;\n    font-size: 12px;\n    border: none;\n    border-bottom: 0.5px solid oklch(from var(--border) l c h / 0.8);\n    border-radius: 0;\n    background: transparent;\n\n    &:focus {\n      outline: none;\n      box-shadow: none;\n    }\n  }\n}\n\n.dialogFooter {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n  margin-top: 1.5rem;\n  padding-top: 1rem;\n  border-top: 0.5px solid oklch(from var(--border) l c h / 0.4);\n  margin-inline: -1.25rem;\n  padding-inline: 1.25rem;\n}\n\n.footerActions {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  margin-left: auto;\n}\n\n.deleteButton[data-slot="button"] {\n  color: var(--muted-foreground);\n}\n\n.deleteButton[data-slot="button"]:hover {\n  color: var(--destructive-foreground);\n  background-color: var(--destructive);\n  border-color: var(--destructive);\n}\n\n.closeButton {\n  position: absolute;\n  right: 0.75rem;\n  top: 0.75rem;\n  opacity: 0.5;\n  transition: opacity 150ms ease;\n}\n\n.closeButton:hover {\n  opacity: 1;\n}\n\n/* Dialog overrides */\n.dialogPopup[data-slot="dialog-popup"] {\n  border: 0.5px solid oklch(from var(--border) l c h / 0.4);\n}\n\n/* Input borderless variant overrides */\n.titleInput[data-variant="borderless"],\n.descriptionInput[data-variant="borderless"] {\n  border: none;\n  background-color: transparent;\n  padding: 0;\n  height: auto;\n}\n\n.titleInput[data-variant="borderless"]:focus,\n.titleInput[data-variant="borderless"]:focus-visible,\n.descriptionInput[data-variant="borderless"]:focus,\n.descriptionInput[data-variant="borderless"]:focus-visible {\n  outline: none;\n  border-color: transparent;\n  box-shadow: none;\n}\n\n/* Select popup overrides */\n.fieldRow [data-slot="select-popup"] {\n  min-width: 200px;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.8);\n  box-shadow: var(--shadow-border-stack);\n  transition:\n    transform 250ms var(--ease-out-expo),\n    opacity 250ms var(--ease-out-expo);\n}\n\n.fieldRow [data-slot="select-popup"][data-starting-style],\n.fieldRow [data-slot="select-popup"][data-ending-style] {\n  opacity: 0;\n  transform: scale(0.95);\n}\n\n/* Select value overrides */\n.fieldRow [data-slot="select-value"] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n/* Select list overrides */\n.fieldRow [data-slot="select-list"] {\n  padding: 0;\n  scroll-padding-block: 1.5rem;\n}\n\n/* Select item overrides */\n.fieldRow [data-slot="select-item"] {\n  gap: 0.75rem;\n  padding-inline: 8px 6px;\n  margin-inline: 4px;\n  min-height: 32px;\n}\n\n/* Select indicator overrides */\n.fieldRow [data-slot="select-item-indicator"] {\n  color: var(--muted-foreground);\n}\n\n/* Combobox overrides */\n.fieldRow [data-slot="combobox-popup"] {\n  min-width: 200px;\n  border: 0.5px solid oklch(from var(--border) l c h / 0.8);\n  box-shadow: var(--shadow-border-stack);\n}\n',
      },
      {
        name: "use-filters.ts",
        path: "hooks/use-filters.ts",
        content:
          '"use client";\n\nimport { useCallback, useMemo, useState } from "react";\nimport type { FilterConfig, Priority, Task } from "../types";\nimport { filterTasks } from "../lib/project";\n\nconst DEFAULT_FILTERS: FilterConfig = { priority: [], tags: [] };\n\nexport function useFilters(tasks: Task[]) {\n  const [filters, setFilters] = useState<FilterConfig>(DEFAULT_FILTERS);\n\n  const filteredTasks = useMemo(() => filterTasks(tasks, filters), [tasks, filters]);\n\n  const togglePriority = useCallback((priority: Priority, checked: boolean) => {\n    setFilters((prev) => ({\n      ...prev,\n      priority: checked ? [...prev.priority, priority] : prev.priority.filter((p) => p !== priority),\n    }));\n  }, []);\n\n  const toggleTag = useCallback((tag: string, checked: boolean) => {\n    setFilters((prev) => ({\n      ...prev,\n      tags: checked ? [...prev.tags, tag] : prev.tags.filter((t) => t !== tag),\n    }));\n  }, []);\n\n  const clearFilters = useCallback(() => setFilters(DEFAULT_FILTERS), []);\n\n  const activeFilterCount = filters.priority.length + filters.tags.length;\n\n  return {\n    filters,\n    filteredTasks,\n    togglePriority,\n    toggleTag,\n    clearFilters,\n    activeFilterCount,\n  };\n}\n',
      },
      {
        name: "use-kanban-dnd.ts",
        path: "hooks/use-kanban-dnd.ts",
        content:
          '"use client";\n\nimport type { Announcements } from "@dnd-kit/core";\nimport {\n  type DragEndEvent,\n  type DragOverEvent,\n  type DragStartEvent,\n  KeyboardSensor,\n  MouseSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n} from "@dnd-kit/core";\nimport { arrayMove, sortableKeyboardCoordinates } from "@dnd-kit/sortable";\nimport { useCallback, useMemo, useRef, useState } from "react";\nimport type { GroupByField } from "../types";\nimport { calculateDropIndex, getColumnName, getTargetColumnId } from "../lib/project";\n\nexport type KanbanItemProps = {\n  id: string;\n  columnId: string;\n  priority: string;\n} & Record<string, unknown>;\n\nexport type KanbanColumnDataProps = {\n  id: string;\n  name: string;\n} & Record<string, unknown>;\n\n/** Get the group ID for an item based on groupBy mode */\nfunction getItemGroupId<T extends KanbanItemProps>(item: T, groupBy: GroupByField): string {\n  return groupBy === "priority" ? item.priority : item.columnId;\n}\n\n/** Apply group change to an item */\nfunction applyGroupChange<T extends KanbanItemProps>(item: T, groupId: string, groupBy: GroupByField): T {\n  if (groupBy === "priority") {\n    return { ...item, priority: groupId };\n  }\n  return { ...item, columnId: groupId };\n}\n\n/** Get the target group ID from a drag over event */\nfunction getOverGroupId<T extends KanbanItemProps, C extends KanbanColumnDataProps>(\n  overId: string,\n  data: T[],\n  columns: C[],\n  groupBy: GroupByField\n): string | null {\n  const overItem = data.find((item) => item.id === overId);\n  if (overItem) {\n    return getItemGroupId(overItem, groupBy);\n  }\n\n  const isOverColumn = columns.some((col) => col.id === overId);\n  if (isOverColumn) {\n    return overId;\n  }\n\n  return null;\n}\n\n/** Calculate the insertion index for cross-group moves */\nfunction getCrossGroupInsertIndex<T extends KanbanItemProps, C extends KanbanColumnDataProps>(\n  overId: string,\n  data: T[],\n  columns: C[],\n  targetGroupId: string,\n  activeIndex: number,\n  groupBy: GroupByField\n): number {\n  // Check if overId is a column (not an item)\n  const isOverColumn = columns.some((col) => col.id === overId);\n\n  if (isOverColumn) {\n    // Dropping on the column itself - insert at the beginning of the column\n    const firstItemInColumn = data.find((item) => getItemGroupId(item, groupBy) === targetGroupId);\n    if (firstItemInColumn) {\n      const firstItemIndex = data.findIndex((item) => item.id === firstItemInColumn.id);\n      // Adjust for removal of active item if it comes before\n      if (activeIndex < firstItemIndex) {\n        return firstItemIndex - 1;\n      }\n      return firstItemIndex;\n    }\n    // Empty column - append at end\n    return data.length;\n  }\n\n  // Dropping on an item - find its index\n  const overIndex = data.findIndex((item) => item.id === overId);\n  if (overIndex === -1) {\n    return data.length;\n  }\n\n  // Adjust for arrayMove behavior:\n  // When activeIndex < overIndex, arrayMove places the item AFTER the target\n  // position due to index shifting. We subtract 1 to place it BEFORE.\n  if (activeIndex < overIndex) {\n    return overIndex - 1;\n  }\n  return overIndex;\n}\n\ntype UseKanbanDndOptions<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n> = {\n  data: T[];\n  columns: C[];\n  groupBy: GroupByField;\n  enabled: boolean;\n  onDataChange: (data: T[]) => void;\n  onDragStart?: (event: DragStartEvent) => void;\n  onDragEnd?: (event: DragEndEvent) => void;\n  onDragOver?: (event: DragOverEvent) => void;\n};\n\nexport function useKanbanDnd<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n>({ data, columns, groupBy, enabled, onDataChange, onDragStart, onDragEnd, onDragOver }: UseKanbanDndOptions<T, C>) {\n  const [activeItemId, setActiveItemId] = useState<string | null>(null);\n  const lastCrossGroupMoveRef = useRef<string | null>(null);\n  const isUpdatingRef = useRef(false);\n  const originalPriorityRef = useRef<string | null>(null);\n\n  const activeItem = useMemo(() => data.find((item) => item.id === activeItemId) ?? null, [data, activeItemId]);\n\n  const sensors = useSensors(\n    useSensor(MouseSensor, {\n      activationConstraint: { distance: 8 },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: { delay: 200, tolerance: 5 },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  const handleDragStart = useCallback(\n    (event: DragStartEvent) => {\n      const activeId = event.active.id as string;\n      const item = data.find((i) => i.id === activeId);\n      setActiveItemId(activeId);\n      lastCrossGroupMoveRef.current = null;\n      isUpdatingRef.current = false;\n      originalPriorityRef.current = item?.priority ?? null;\n      onDragStart?.(event);\n    },\n    [data, onDragStart]\n  );\n\n  const handleDragOver = useCallback(\n    (event: DragOverEvent) => {\n      // Prevent processing while an update is in flight\n      if (isUpdatingRef.current) {\n        return;\n      }\n\n      const { over } = event;\n\n      if (enabled && over) {\n        const activeId = event.active.id as string;\n        const overId = over.id as string;\n        const draggedItem = data.find((item) => item.id === activeId);\n\n        if (draggedItem) {\n          const overGroupId = getOverGroupId(overId, data, columns, groupBy);\n          const draggedGroupId = getItemGroupId(draggedItem, groupBy);\n\n          if (overGroupId && draggedGroupId !== overGroupId) {\n            // Dedupe: skip if we already processed this exact cross-group move\n            const moveKey = `${activeId}:${overGroupId}`;\n            if (lastCrossGroupMoveRef.current === moveKey) {\n              return;\n            }\n            lastCrossGroupMoveRef.current = moveKey;\n            isUpdatingRef.current = true;\n\n            // Cross-group move\n            const newData = [...data];\n            const activeIndex = newData.findIndex((item) => item.id === activeId);\n            const finalIndex = getCrossGroupInsertIndex(overId, data, columns, overGroupId, activeIndex, groupBy);\n\n            // Apply group change only (column/priority group) - priority inheritance\n            // is handled in handleDragEnd based on final drop position\n            newData[activeIndex] = applyGroupChange(newData[activeIndex], overGroupId, groupBy);\n\n            onDataChange(arrayMove(newData, activeIndex, finalIndex));\n\n            // Reset the updating flag after a microtask to allow the update to propagate\n            queueMicrotask(() => {\n              isUpdatingRef.current = false;\n            });\n            return;\n          }\n        }\n      }\n\n      onDragOver?.(event);\n    },\n    [data, columns, groupBy, enabled, onDataChange, onDragOver]\n  );\n\n  const handleDragEnd = useCallback(\n    (event: DragEndEvent) => {\n      const { active, over } = event;\n      const didCrossGroupMove = lastCrossGroupMoveRef.current !== null;\n\n      setActiveItemId(null);\n      lastCrossGroupMoveRef.current = null;\n      isUpdatingRef.current = false;\n      originalPriorityRef.current = null;\n      onDragEnd?.(event);\n\n      if (!over || active.id === over.id) {\n        return;\n      }\n\n      // For cross-group moves, apply priority inheritance based on final position\n      if (didCrossGroupMove) {\n        // Find the final drop target (the card we\'re dropping ON)\n        const overItem = data.find((item) => item.id === over.id);\n\n        // When dropping directly ON a card, inherit its priority and reposition\n        // to be right after the target card. This ensures the card "sticks"\n        // to its drop position after the priority sort.\n        if (groupBy === "column" && overItem) {\n          const draggedItem = data.find((item) => item.id === active.id);\n          if (draggedItem && draggedItem.priority !== overItem.priority) {\n            const newData = [...data];\n            const draggedIndex = newData.findIndex((item) => item.id === active.id);\n\n            // Update priority\n            newData[draggedIndex] = { ...newData[draggedIndex], priority: overItem.priority };\n\n            // Reposition: remove from current position and insert right after target\n            const [removed] = newData.splice(draggedIndex, 1);\n            const targetIndex = newData.findIndex((item) => item.id === over.id);\n            newData.splice(targetIndex + 1, 0, removed);\n\n            onDataChange(newData);\n          }\n        }\n        return;\n      }\n\n      // Same-group reorder\n      const oldIndex = data.findIndex((item) => item.id === active.id);\n      const newIndex = data.findIndex((item) => item.id === over.id);\n\n      if (oldIndex === -1 || newIndex === -1) {\n        return;\n      }\n\n      const newData = [...data];\n      const draggedItem = newData[oldIndex];\n      const targetItem = newData[newIndex];\n\n      // When grouping by column and dropping ON a card, inherit its priority\n      // so the dropped card "sticks" to that position after priority sort.\n      if (groupBy === "column" && draggedItem.priority !== targetItem.priority) {\n        newData[oldIndex] = { ...draggedItem, priority: targetItem.priority };\n      }\n\n      const targetIndex = calculateDropIndex(oldIndex, newIndex, draggedItem.priority, targetItem.priority);\n      onDataChange(arrayMove(newData, oldIndex, targetIndex));\n    },\n    [data, groupBy, onDataChange, onDragEnd]\n  );\n\n  const announcements: Announcements = useMemo(\n    () => ({\n      onDragStart({ active }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!item) {\n          return "";\n        }\n        const columnName = getColumnName(item.columnId, columns);\n        return `Picked up item "${(item as { title?: string }).title ?? item.id}" from the "${columnName}" column`;\n      },\n      onDragOver({ active, over }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!(item && over)) {\n          return "";\n        }\n        const targetColumnId = getTargetColumnId(over.id as string, data, columns);\n        const columnName = getColumnName(targetColumnId ?? "", columns);\n        return `Dragged item "${(item as { title?: string }).title ?? item.id}" over the "${columnName}" column`;\n      },\n      onDragEnd({ active, over }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!(item && over)) {\n          return "";\n        }\n        const targetColumnId = getTargetColumnId(over.id as string, data, columns);\n        const columnName = getColumnName(targetColumnId ?? "", columns);\n        return `Dropped item "${(item as { title?: string }).title ?? item.id}" into the "${columnName}" column`;\n      },\n      onDragCancel({ active }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!item) {\n          return "";\n        }\n        return `Cancelled dragging item "${(item as { title?: string }).title ?? item.id}"`;\n      },\n    }),\n    [data, columns]\n  );\n\n  return {\n    activeItem,\n    sensors,\n    announcements,\n    handleDragStart: enabled ? handleDragStart : undefined,\n    handleDragOver: enabled ? handleDragOver : undefined,\n    handleDragEnd: enabled ? handleDragEnd : undefined,\n  };\n}\n',
      },
      {
        name: "use-local-storage.ts",
        path: "hooks/use-local-storage.ts",
        content:
          '"use client";\n\nimport { useCallback, useEffect, useState } from "react";\n\nexport function useLocalStorage<T>(key: string, defaultValue: T): [T, (value: T | ((prev: T) => T)) => void, boolean] {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [storedValue, setStoredValue] = useState<T>(defaultValue);\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      const item = localStorage.getItem(key);\n      if (item) {\n        setStoredValue(JSON.parse(item));\n      }\n    } catch (error) {\n      console.warn(`Error reading localStorage key "${key}":`, error);\n    }\n    setIsLoaded(true);\n  }, [key]);\n\n  // Save to localStorage whenever value changes\n  const setValue = useCallback(\n    (value: T | ((prev: T) => T)) => {\n      try {\n        setStoredValue((prev) => {\n          const valueToStore = value instanceof Function ? value(prev) : value;\n          localStorage.setItem(key, JSON.stringify(valueToStore));\n          return valueToStore;\n        });\n      } catch (error) {\n        console.warn(`Error setting localStorage key "${key}":`, error);\n      }\n    },\n    [key]\n  );\n\n  return [storedValue, setValue, isLoaded];\n}\n',
      },
      {
        name: "use-task-dialog.ts",
        path: "hooks/use-task-dialog.ts",
        content:
          '"use client";\n\nimport { useCallback, useState } from "react";\nimport type { Task } from "../types";\n\nexport type DialogState =\n  | { mode: "closed" }\n  | { mode: "create"; columnId: string }\n  | { mode: "edit"; task: Task }\n  | { mode: "delete"; task: Task };\n\nexport function useTaskDialog() {\n  const [dialogState, setDialogState] = useState<DialogState>({ mode: "closed" });\n\n  const openCreate = useCallback((columnId: string) => {\n    setDialogState({ mode: "create", columnId });\n  }, []);\n\n  const openEdit = useCallback((task: Task) => {\n    setDialogState({ mode: "edit", task });\n  }, []);\n\n  const openDelete = useCallback((task: Task) => {\n    setDialogState({ mode: "delete", task });\n  }, []);\n\n  const close = useCallback(() => {\n    setDialogState({ mode: "closed" });\n  }, []);\n\n  return {\n    dialogState,\n    openCreate,\n    openEdit,\n    openDelete,\n    close,\n    isOpen: dialogState.mode !== "closed",\n  };\n}\n',
      },
      {
        name: "use-tasks.ts",
        path: "hooks/use-tasks.ts",
        content:
          '"use client";\n\nimport { useCallback } from "react";\nimport seedData from "../data.json";\nimport { useLocalStorage } from "./use-local-storage";\nimport type { KanbanData, Task } from "../types";\n\nconst STORAGE_KEY = "kanban-data";\nconst DEFAULT_DATA: KanbanData = {\n  columns: seedData.columns,\n  tasks: seedData.tasks as Task[],\n  assignees: seedData.assignees,\n};\n\nexport function useTasks() {\n  const [data, setData, isLoaded] = useLocalStorage<KanbanData>(STORAGE_KEY, DEFAULT_DATA);\n\n  const addTask = useCallback(\n    (taskInput: Omit<Task, "id" | "createdAt">) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: [\n          ...prev.tasks,\n          {\n            ...taskInput,\n            id: crypto.randomUUID(),\n            createdAt: new Date().toISOString(),\n          },\n        ],\n      }));\n    },\n    [setData]\n  );\n\n  const updateTask = useCallback(\n    (id: string, updates: Partial<Omit<Task, "id">>) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: prev.tasks.map((task) => (task.id === id ? { ...task, ...updates } : task)),\n      }));\n    },\n    [setData]\n  );\n\n  const deleteTask = useCallback(\n    (id: string) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: prev.tasks.filter((task) => task.id !== id),\n      }));\n    },\n    [setData]\n  );\n\n  const moveTask = useCallback(\n    (taskId: string, toColumnId: string, newPriority?: Task["priority"]) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: prev.tasks.map((task) =>\n          task.id === taskId\n            ? {\n                ...task,\n                columnId: toColumnId,\n                ...(newPriority && { priority: newPriority }),\n              }\n            : task\n        ),\n      }));\n    },\n    [setData]\n  );\n\n  const setTasks = useCallback(\n    (tasks: Task[]) => {\n      setData((prev) => ({ ...prev, tasks }));\n    },\n    [setData]\n  );\n\n  return {\n    data,\n    isLoaded,\n    addTask,\n    updateTask,\n    deleteTask,\n    moveTask,\n    setTasks,\n  };\n}\n',
      },
      {
        name: "use-view.ts",
        path: "hooks/use-view.ts",
        content:
          '"use client";\n\nimport { useCallback, useMemo, useState } from "react";\nimport type { Column, GroupByField, Task } from "../types";\nimport { getDisplayColumns, getTasksForGroup } from "../lib/project";\n\nconst DEFAULT_GROUP_BY: GroupByField = "column";\n\nexport function useView(columns: Column[], tasks: Task[]) {\n  const [groupBy, setGroupBy] = useState<GroupByField>(DEFAULT_GROUP_BY);\n\n  const displayColumns = useMemo(() => getDisplayColumns(groupBy, columns, tasks), [groupBy, columns, tasks]);\n\n  const getTasksForColumn = useCallback(\n    (columnId: string, filteredTasks: Task[]) => getTasksForGroup(filteredTasks, columnId, groupBy),\n    [groupBy]\n  );\n\n  const isDragEnabled = groupBy === "column" || groupBy === "priority";\n\n  return {\n    groupBy,\n    setGroupBy,\n    displayColumns,\n    getTasksForColumn,\n    isDragEnabled,\n  };\n}\n',
      },
      {
        name: "project.ts",
        path: "lib/project.ts",
        content:
          'import type { Column, FilterConfig, GroupByField, Priority, Task } from "../types";\n\nexport const AVAILABLE_TAGS = ["bug", "feature"] as const;\nexport type Tag = (typeof AVAILABLE_TAGS)[number];\n\nexport const TAG_COLORS: Record<Tag, string> = {\n  bug: "var(--destructive)",\n  feature: "var(--info)",\n};\n\n/** Priority sort order: urgent = 0, high = 1, medium = 2, low = 3 */\nexport const PRIORITY_ORDER = { urgent: 0, high: 1, medium: 2, low: 3 } as const;\n\n/** Priority columns for grouping by priority */\nexport const PRIORITY_COLUMNS: Column[] = [\n  { id: "urgent", name: "Urgent", order: 0 },\n  { id: "high", name: "High Priority", order: 1 },\n  { id: "medium", name: "Medium Priority", order: 2 },\n  { id: "low", name: "Low Priority", order: 3 },\n];\n\n/** Priority options for dropdowns/filters */\nexport const PRIORITY_ITEMS: { value: Priority; label: string }[] = [\n  { value: "urgent", label: "Urgent" },\n  { value: "high", label: "High" },\n  { value: "medium", label: "Medium" },\n  { value: "low", label: "Low" },\n];\n\n/** Tag options for dropdowns/filters */\nexport const TAG_ITEMS = AVAILABLE_TAGS.map((tag) => ({\n  value: tag,\n  label: capitalize(tag),\n}));\n\n/** Group by options for view switching */\nexport const GROUP_BY_ITEMS: { value: GroupByField; label: string }[] = [\n  { value: "column", label: "Status" },\n  { value: "priority", label: "Priority" },\n  { value: "tag", label: "Tag" },\n];\n\nexport function capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport function cn(...classes: (string | undefined | null | false)[]): string {\n  return classes.filter(Boolean).join(" ");\n}\n\n/**\n * Filter tasks based on priority and tag filters.\n */\nexport function filterTasks(tasks: Task[], filters: FilterConfig): Task[] {\n  return tasks.filter((task) => {\n    // Priority filter\n    if (filters.priority.length > 0 && !filters.priority.includes(task.priority)) {\n      return false;\n    }\n\n    // Tags filter\n    if (filters.tags.length > 0) {\n      const hasMatchingTag = filters.tags.some((tag) => task.tags.includes(tag));\n\n      if (!hasMatchingTag) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n\n/**\n * Sort tasks by priority (high  medium  low).\n */\nexport function sortByPriority(tasks: Task[]): Task[] {\n  return [...tasks].sort((a, b) => PRIORITY_ORDER[a.priority] - PRIORITY_ORDER[b.priority]);\n}\n\n/**\n * Sort items by priority (generic version).\n */\nexport function sortItemsByPriority<T extends { priority: string }>(items: T[]): T[] {\n  return [...items].sort(\n    (a, b) => (PRIORITY_ORDER[a.priority as Priority] ?? 999) - (PRIORITY_ORDER[b.priority as Priority] ?? 999)\n  );\n}\n\n/**\n * Get items grouped by a field.\n * All views sort by priority within each group.\n */\nexport function getTasksForGroup<T extends { id: string; columnId: string; priority: string; tags?: string[] }>(\n  items: T[],\n  groupId: string,\n  groupBy: GroupByField\n): T[] {\n  let filtered: T[];\n\n  if (groupBy === "column") {\n    filtered = items.filter((item) => item.columnId === groupId);\n  } else if (groupBy === "priority") {\n    filtered = items.filter((item) => item.priority === groupId);\n  } else {\n    // groupBy === "tag"\n    filtered = items.filter((item) => {\n      const tags = (item as unknown as { tags?: string[] }).tags;\n      return tags?.includes(groupId) ?? false;\n    });\n  }\n\n  return sortItemsByPriority(filtered);\n}\n\n/**\n * Generate dynamic tag columns from tasks.\n */\nexport function getTagColumns(tasks: Task[]): Column[] {\n  const tagSet = new Set<string>();\n  for (const task of tasks) {\n    for (const tag of task.tags) {\n      tagSet.add(tag);\n    }\n  }\n  return Array.from(tagSet)\n    .sort()\n    .map((tag, index) => ({\n      id: tag,\n      name: capitalize(tag),\n      order: index,\n    }));\n}\n\n/**\n * Get display columns based on groupBy field.\n */\nexport function getDisplayColumns(groupBy: GroupByField, columns: Column[], tasks: Task[]): Column[] {\n  if (groupBy === "column") {\n    return columns;\n  }\n  if (groupBy === "priority") {\n    return PRIORITY_COLUMNS;\n  }\n  return getTagColumns(tasks);\n}\n\n/**\n * Determine target column from a drag event\'s over ID.\n */\nexport function getTargetColumnId<T extends { id: string; columnId: string }, C extends { id: string }>(\n  overId: string,\n  items: T[],\n  columns: C[]\n): string | null {\n  // Check if we\'re over a column\n  const isOverColumn = columns.some((col) => col.id === overId);\n  if (isOverColumn) {\n    return overId;\n  }\n\n  // We\'re over another item - get that item\'s column\n  const overItem = items.find((item) => item.id === overId);\n  return overItem?.columnId ?? null;\n}\n\n/**\n * Get readable column name for accessibility announcements.\n */\nexport function getColumnName<C extends { id: string; name: string }>(columnId: string, columns: C[]): string {\n  const column = columns.find((col) => col.id === columnId);\n  return column?.name ?? columnId;\n}\n\nfunction toggleArrayItem<T>(arr: T[], item: T, add: boolean): T[] {\n  return add ? [...arr, item] : arr.filter((i) => i !== item);\n}\n\n/**\n * Toggle a priority value in the filter config.\n */\nexport function toggleFilterPriority(filters: FilterConfig, priority: Priority, add: boolean): FilterConfig {\n  return { ...filters, priority: toggleArrayItem(filters.priority, priority, add) };\n}\n\n/**\n * Toggle a tag value in the filter config.\n */\nexport function toggleFilterTag(filters: FilterConfig, tag: string, add: boolean): FilterConfig {\n  return { ...filters, tags: toggleArrayItem(filters.tags, tag, add) };\n}\n\n/**\n * Calculate the target index for a card drop, adjusting for priority changes.\n * When priorities differ, the index is adjusted to maintain visual consistency\n * after the subsequent priority-based sort.\n */\nexport function calculateDropIndex(\n  oldIndex: number,\n  newIndex: number,\n  oldPriority: string,\n  newPriority: string\n): number {\n  if (oldPriority === newPriority) {\n    return newIndex;\n  }\n\n  const oldOrder = PRIORITY_ORDER[oldPriority as Priority] ?? 999;\n  const newOrder = PRIORITY_ORDER[newPriority as Priority] ?? 999;\n  const movingToHigherPriority = newOrder < oldOrder;\n\n  if (movingToHigherPriority && oldIndex < newIndex) {\n    return newIndex - 1;\n  }\n  if (!movingToHigherPriority && oldIndex > newIndex) {\n    return newIndex + 1;\n  }\n  return newIndex;\n}\n',
      },
      {
        name: "index.ts",
        path: "types/index.ts",
        content:
          'export type Priority = "low" | "medium" | "high" | "urgent";\n\nexport type Assignee = {\n  id: string;\n  name: string;\n  avatar?: string;\n};\n\nexport type Subtask = {\n  id: string;\n  title: string;\n  completed: boolean;\n};\n\nexport type Task = {\n  id: string;\n  title: string;\n  description: string;\n  columnId: string;\n  priority: Priority;\n  tags: string[];\n  assignees?: Assignee[];\n  subtasks?: Subtask[];\n  dueDate?: string;\n  createdAt: string;\n};\n\nexport type Column = {\n  id: string;\n  name: string;\n  order: number;\n};\n\nexport type FilterConfig = {\n  priority: Priority[];\n  tags: string[];\n};\n\nexport type GroupByField = "column" | "priority" | "tag";\n\nexport type KanbanData = {\n  tasks: Task[];\n  columns: Column[];\n  assignees: Assignee[];\n};\n',
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/kanban-board/page.tsx",
        content:
          '"use client";\n\nimport { ProjectBoard } from "./components/project-board";\nimport { useTasks } from "./hooks/use-tasks";\n\nexport default function Page() {\n  const { data, isLoaded, addTask, updateTask, deleteTask, setTasks } = useTasks();\n\n  if (!isLoaded) {\n    return (\n      <div className="flex items-center justify-center h-screen">\n        Loading...\n      </div>\n    );\n  }\n\n  return (\n    <ProjectBoard\n      data={data}\n      onAddTask={addTask}\n      onDeleteTask={deleteTask}\n      onTasksChange={setTasks}\n      onUpdateTask={updateTask}\n    />\n  );\n}\n',
      },
      {
        name: "filter-bar.tsx",
        path: "components/filter-bar.tsx",
        content:
          '"use client";\n\nimport { Check, Filter, Layers, X } from "lucide-react";\nimport { cn } from "@/lib/utils";\nimport { Badge } from "@/components/ui/badge";\nimport { Button } from "@/components/ui/button";\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuCheckboxItemIndicator,\n  DropdownMenuGroup,\n  DropdownMenuGroupLabel,\n  DropdownMenuPopup,\n  DropdownMenuPortal,\n  DropdownMenuPositioner,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuRadioItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuSpacer,\n  DropdownMenuTrigger,\n} from "@/components/ui/dropdown-menu";\nimport type { FilterConfig, GroupByField, Priority } from "../types";\nimport { capitalize, GROUP_BY_ITEMS, PRIORITY_ITEMS, TAG_ITEMS } from "../lib/project";\n\nfunction CheckIcon() {\n  return <Check size={12} />;\n}\n\nexport type FilterBarProps = {\n  className?: string;\n  filters: FilterConfig;\n  groupBy: GroupByField;\n  onTogglePriority: (priority: Priority, checked: boolean) => void;\n  onToggleTag: (tag: string, checked: boolean) => void;\n  onGroupByChange: (groupBy: GroupByField) => void;\n};\n\nexport function FilterBar({\n  className,\n  filters,\n  groupBy,\n  onTogglePriority,\n  onToggleTag,\n  onGroupByChange,\n}: FilterBarProps) {\n  const activeFilterCount = filters.priority.length + filters.tags.length;\n  const currentGroupByLabel = GROUP_BY_ITEMS.find((item) => item.value === groupBy)?.label ?? "Group by";\n\n  return (\n    <div className={cn("flex flex-col gap-2 py-3 px-4", className)} data-slot="filter-bar">\n      <div className="flex gap-2 items-center">\n        {/* Filter Menu */}\n        <DropdownMenu>\n          <DropdownMenuTrigger\n            render={\n              <Button size="sm" variant="outline">\n                <Filter size={14} className="text-muted-foreground" />\n                Filters\n                {activeFilterCount > 0 && (\n                  <Badge size="sm" variant="secondary">\n                    {activeFilterCount}\n                  </Badge>\n                )}\n              </Button>\n            }\n          />\n          <DropdownMenuPortal>\n            <DropdownMenuPositioner align="start" side="bottom" sideOffset={4}>\n              <DropdownMenuPopup>\n                <DropdownMenuSpacer />\n\n                <DropdownMenuGroup>\n                  <DropdownMenuGroupLabel>Priority</DropdownMenuGroupLabel>\n                  {PRIORITY_ITEMS.map((item) => (\n                    <DropdownMenuCheckboxItem\n                      checked={filters.priority.includes(item.value)}\n                      key={item.value}\n                      onCheckedChange={(checked) => onTogglePriority(item.value, checked)}\n                    >\n                      <span>{item.label}</span>\n                      <DropdownMenuCheckboxItemIndicator>\n                        <CheckIcon />\n                      </DropdownMenuCheckboxItemIndicator>\n                    </DropdownMenuCheckboxItem>\n                  ))}\n                </DropdownMenuGroup>\n\n                <DropdownMenuSeparator />\n\n                <DropdownMenuGroup>\n                  <DropdownMenuGroupLabel>Tags</DropdownMenuGroupLabel>\n                  {TAG_ITEMS.map((item) => (\n                    <DropdownMenuCheckboxItem\n                      checked={filters.tags.includes(item.value)}\n                      key={item.value}\n                      onCheckedChange={(checked) => onToggleTag(item.value, checked)}\n                    >\n                      <span>{item.label}</span>\n                      <DropdownMenuCheckboxItemIndicator>\n                        <CheckIcon />\n                      </DropdownMenuCheckboxItemIndicator>\n                    </DropdownMenuCheckboxItem>\n                  ))}\n                </DropdownMenuGroup>\n\n                <DropdownMenuSpacer />\n              </DropdownMenuPopup>\n            </DropdownMenuPositioner>\n          </DropdownMenuPortal>\n        </DropdownMenu>\n\n        {/* Group By Menu */}\n        <DropdownMenu>\n          <DropdownMenuTrigger\n            render={\n              <Button size="sm" variant="outline">\n                <Layers size={14} className="text-muted-foreground" />\n                {currentGroupByLabel}\n              </Button>\n            }\n          />\n          <DropdownMenuPortal>\n            <DropdownMenuPositioner align="start" side="bottom" sideOffset={4}>\n              <DropdownMenuPopup>\n                <DropdownMenuSpacer />\n\n                <DropdownMenuGroup>\n                  <DropdownMenuGroupLabel>Group by</DropdownMenuGroupLabel>\n                  <DropdownMenuRadioGroup\n                    onValueChange={(value) => onGroupByChange(value as GroupByField)}\n                    value={groupBy}\n                  >\n                    {GROUP_BY_ITEMS.map((item) => (\n                      <DropdownMenuRadioItem key={item.value} value={item.value}>\n                        {item.label}\n                        <DropdownMenuRadioItemIndicator>\n                          <CheckIcon />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                    ))}\n                  </DropdownMenuRadioGroup>\n                </DropdownMenuGroup>\n\n                <DropdownMenuSpacer />\n              </DropdownMenuPopup>\n            </DropdownMenuPositioner>\n          </DropdownMenuPortal>\n        </DropdownMenu>\n      </div>\n    </div>\n  );\n}\n\nexport type ActiveFiltersProps = {\n  className?: string;\n  filters: FilterConfig;\n  onRemovePriority: (priority: Priority) => void;\n  onRemoveTag: (tag: string) => void;\n};\n\nexport function ActiveFilters({ className, filters, onRemovePriority, onRemoveTag }: ActiveFiltersProps) {\n  const hasActiveFilters = filters.priority.length > 0 || filters.tags.length > 0;\n\n  if (!hasActiveFilters) {\n    return null;\n  }\n\n  return (\n    <div className={cn("flex flex-wrap gap-2", className)} data-slot="active-filters">\n      {filters.priority.map((p) => (\n        <Badge className="flex gap-1 items-center" key={p} variant="secondary">\n          {capitalize(p)}\n          <button\n            aria-label={`Remove ${capitalize(p)} priority filter`}\n            className="flex items-center justify-center p-0 border-0 bg-transparent rounded-full cursor-pointer opacity-70 transition-opacity duration-150 hover:opacity-100"\n            onClick={() => onRemovePriority(p)}\n            type="button"\n          >\n            <X aria-hidden="true" size={12} />\n          </button>\n        </Badge>\n      ))}\n      {filters.tags.map((tag) => (\n        <Badge className="flex gap-1 items-center" key={tag} variant="secondary">\n          {capitalize(tag)}\n          <button\n            aria-label={`Remove ${capitalize(tag)} tag filter`}\n            className="flex items-center justify-center p-0 border-0 bg-transparent rounded-full cursor-pointer opacity-70 transition-opacity duration-150 hover:opacity-100"\n            onClick={() => onRemoveTag(tag)}\n            type="button"\n          >\n            <X aria-hidden="true" size={12} />\n          </button>\n        </Badge>\n      ))}\n    </div>\n  );\n}\n',
      },
      {
        name: "kanban.tsx",
        path: "components/kanban.tsx",
        content:
          '"use client";\n\nimport {\n  type CollisionDetection,\n  closestCorners,\n  DndContext,\n  type DragEndEvent,\n  type DragOverEvent,\n  DragOverlay,\n  type DragStartEvent,\n  pointerWithin,\n  useDroppable,\n} from "@dnd-kit/core";\nimport { SortableContext, useSortable, verticalListSortingStrategy } from "@dnd-kit/sortable";\nimport { CSS } from "@dnd-kit/utilities";\nimport { Pencil, Trash2 } from "lucide-react";\nimport { createContext, useContext, useMemo } from "react";\nimport { createPortal } from "react-dom";\nimport { cn } from "@/lib/utils";\nimport { Card } from "@/components/ui/card";\nimport {\n  ContextMenu,\n  ContextMenuItem,\n  ContextMenuPopup,\n  ContextMenuPortal,\n  ContextMenuPositioner,\n  ContextMenuSeparator,\n  ContextMenuSpacer,\n  ContextMenuTrigger,\n} from "@/components/ui/context-menu";\nimport { type KanbanColumnDataProps, type KanbanItemProps, useKanbanDnd } from "../hooks/use-kanban-dnd";\nimport { getTasksForGroup } from "../lib/project";\nimport type { GroupByField } from "../types";\n\n// =============================================================================\n// Custom Collision Detection for Kanban\n// =============================================================================\n\nconst kanbanCollisionDetection: CollisionDetection = (args) => {\n  const pointerCollisions = pointerWithin(args);\n  if (pointerCollisions.length > 0) {\n    return pointerCollisions;\n  }\n  return closestCorners(args);\n};\n\n// =============================================================================\n// Context\n// =============================================================================\n\ntype KanbanContextValue<T extends KanbanItemProps = KanbanItemProps> = {\n  getItemsForColumn: (columnId: string) => T[];\n  onEditItem: (item: T) => void;\n  onDeleteItem: (item: T) => void;\n};\n\nconst KanbanContext = createContext<KanbanContextValue<KanbanItemProps> | null>(null);\n\nexport function useKanbanContext<T extends KanbanItemProps = KanbanItemProps>() {\n  const context = useContext(KanbanContext) as KanbanContextValue<T> | null;\n  if (!context) {\n    throw new Error("useKanbanContext must be used within a KanbanProvider");\n  }\n  return context;\n}\n\n// =============================================================================\n// KanbanProvider\n// =============================================================================\n\nexport type KanbanProviderProps<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n> = {\n  children: (column: C) => React.ReactNode;\n  columns: C[];\n  data: T[];\n  groupBy?: GroupByField;\n  className?: string;\n  onDataChange: (data: T[]) => void;\n  onDragStart?: (event: DragStartEvent) => void;\n  onDragEnd?: (event: DragEndEvent) => void;\n  onDragOver?: (event: DragOverEvent) => void;\n  onEditItem: (item: T) => void;\n  onDeleteItem: (item: T) => void;\n  renderOverlay?: (item: T) => React.ReactNode;\n};\n\nexport function KanbanProvider<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n>({\n  children,\n  columns,\n  data,\n  groupBy = "column",\n  className,\n  onDataChange,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onEditItem,\n  onDeleteItem,\n  renderOverlay,\n}: KanbanProviderProps<T, C>) {\n  const isDragEnabled = groupBy === "column" || groupBy === "priority";\n\n  const { activeItem, sensors, announcements, handleDragStart, handleDragOver, handleDragEnd } = useKanbanDnd({\n    data,\n    columns,\n    groupBy,\n    enabled: isDragEnabled,\n    onDataChange,\n    onDragStart,\n    onDragEnd,\n    onDragOver,\n  });\n\n  const getItemsForColumn = useMemo(\n    () => (columnId: string) => getTasksForGroup(data, columnId, groupBy) as T[],\n    [data, groupBy]\n  );\n\n  const contextValue = useMemo<KanbanContextValue<T>>(\n    () => ({\n      getItemsForColumn,\n      onEditItem,\n      onDeleteItem,\n    }),\n    [getItemsForColumn, onEditItem, onDeleteItem]\n  );\n\n  return (\n    <KanbanContext.Provider value={contextValue as KanbanContextValue<KanbanItemProps>}>\n      <DndContext\n        accessibility={{ announcements }}\n        collisionDetection={kanbanCollisionDetection}\n        id="kanban-dnd"\n        onDragEnd={handleDragEnd}\n        onDragOver={handleDragOver}\n        onDragStart={handleDragStart}\n        sensors={sensors}\n      >\n        <div className={cn("flex min-h-0 flex-1 flex-col", className)} data-slot="kanban-root">\n          <div\n            className="flex min-h-0 flex-1 items-stretch gap-4 overflow-x-auto overflow-y-hidden p-4"\n            data-slot="kanban-board"\n          >\n            {columns.map((column) => children(column))}\n          </div>\n        </div>\n        {typeof window !== "undefined" &&\n          createPortal(\n            <DragOverlay>{activeItem && renderOverlay ? renderOverlay(activeItem as T) : null}</DragOverlay>,\n            document.body\n          )}\n      </DndContext>\n    </KanbanContext.Provider>\n  );\n}\n\n// =============================================================================\n// KanbanColumn\n// =============================================================================\n\nexport type KanbanColumnProps = React.ComponentProps<"div"> & {\n  id: string;\n};\n\nexport function KanbanColumn({ id, className, children, ...props }: KanbanColumnProps) {\n  const { setNodeRef } = useDroppable({ id });\n\n  return (\n    <div\n      className={cn(\n        "flex w-80 shrink-0 flex-col rounded-[var(--radius)] bg-[var(--col-background)]",\n        className\n      )}\n      data-slot="kanban-column"\n      ref={setNodeRef}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\n// =============================================================================\n// KanbanColumnHeader\n// =============================================================================\n\nexport type KanbanColumnHeaderProps = React.ComponentProps<"div">;\n\nexport function KanbanColumnHeader({ className, ...props }: KanbanColumnHeaderProps) {\n  return (\n    <div\n      className={cn("flex items-center justify-between px-4 py-3", className)}\n      data-slot="kanban-column-header"\n      {...props}\n    />\n  );\n}\n\n// =============================================================================\n// KanbanCardList\n// =============================================================================\n\nexport type KanbanCardListProps<T extends KanbanItemProps = KanbanItemProps> = Omit<\n  React.ComponentProps<"div">,\n  "children" | "id"\n> & {\n  id: string;\n  children: (item: T) => React.ReactNode;\n};\n\nexport function KanbanCardList<T extends KanbanItemProps = KanbanItemProps>({\n  id,\n  children,\n  className,\n  ...props\n}: KanbanCardListProps<T>) {\n  const { getItemsForColumn } = useKanbanContext<T>();\n  const items = getItemsForColumn(id);\n  const itemIds = items.map((item) => item.id);\n\n  return (\n    <SortableContext items={itemIds} strategy={verticalListSortingStrategy}>\n      <div\n        className={cn("flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto p-2", className)}\n        data-slot="kanban-card-list"\n        {...props}\n      >\n        {items.map(children)}\n      </div>\n    </SortableContext>\n  );\n}\n\n// =============================================================================\n// KanbanCard\n// =============================================================================\n\nexport type KanbanCardProps<T extends KanbanItemProps = KanbanItemProps> = {\n  id: string;\n  item: T;\n  children: React.ReactNode;\n  isOverlay?: boolean;\n  className?: string;\n};\n\nexport function KanbanCard<T extends KanbanItemProps = KanbanItemProps>({\n  id,\n  item,\n  children,\n  isOverlay,\n  className,\n}: KanbanCardProps<T>) {\n  const { onEditItem, onDeleteItem } = useKanbanContext<T>();\n\n  const { attributes, listeners, setNodeRef, transform, transition, isDragging } = useSortable({\n    id,\n    disabled: isOverlay,\n  });\n\n  const style = {\n    transition,\n    transform: CSS.Transform.toString(transform),\n  };\n\n  const cardContent = (\n    <Card\n      className={cn(\n        "cursor-grab touch-manipulation bg-background p-4 transition-[box-shadow,border-color] duration-150 ease-out",\n        "hover:bg-[oklch(from_var(--accent)_l_c_h_/_0.15)] hover:shadow-[var(--shadow-border-stack)]",\n        "focus-visible:outline-2 focus-visible:outline-[var(--ring)] focus-visible:outline-offset-2",\n        "[&[data-slot=card]]:gap-2 [&[data-slot=card]]:p-4 [&[data-slot=card]]:border-[0.5px] [&[data-slot=card]]:border-[oklch(from_var(--border)_l_c_h_/_0.3)]",\n        "[&_[data-slot=card-header]]:flex [&_[data-slot=card-header]]:items-start [&_[data-slot=card-header]]:justify-between [&_[data-slot=card-header]]:gap-2 [&_[data-slot=card-header]]:p-0",\n        "[&_[data-slot=card-title]]:font-medium [&_[data-slot=card-title]]:text-foreground [&_[data-slot=card-title]]:text-sm [&_[data-slot=card-title]]:leading-[1.4]",\n        "[&_[data-slot=card-content]]:flex [&_[data-slot=card-content]]:flex-col [&_[data-slot=card-content]]:gap-2 [&_[data-slot=card-content]]:p-0",\n        "[&_[data-slot=card-description]]:line-clamp-1 [&_[data-slot=card-description]]:text-[0.8125rem] [&_[data-slot=card-description]]:text-muted-foreground [&_[data-slot=card-description]]:leading-[1.5]",\n        isDragging === true && !isOverlay && "cursor-grabbing opacity-50",\n        isOverlay === true && "cursor-grabbing shadow-lg",\n        className\n      )}\n    >\n      {children}\n    </Card>\n  );\n\n  if (isOverlay) {\n    return cardContent;\n  }\n\n  return (\n    <div className="relative block" ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      <ContextMenu>\n        <ContextMenuTrigger className="block">{cardContent}</ContextMenuTrigger>\n        <ContextMenuPortal>\n          <ContextMenuPositioner>\n            <ContextMenuPopup>\n              <ContextMenuSpacer />\n              <ContextMenuItem icon={<Pencil size={14} />} onClick={() => onEditItem(item)}>\n                Edit\n              </ContextMenuItem>\n              <ContextMenuSeparator />\n              <ContextMenuItem icon={<Trash2 size={14} />} onClick={() => onDeleteItem(item)} variant="destructive">\n                Delete\n              </ContextMenuItem>\n              <ContextMenuSpacer />\n            </ContextMenuPopup>\n          </ContextMenuPositioner>\n        </ContextMenuPortal>\n      </ContextMenu>\n    </div>\n  );\n}\n',
      },
      {
        name: "priority-icon.tsx",
        path: "components/priority-icon.tsx",
        content:
          'import { CircleAlert } from "lucide-react";\nimport { cn } from "@/lib/utils";\nimport type { Priority } from "../types";\n\ntype PriorityIconProps = {\n  priority: Priority;\n  className?: string;\n};\n\nexport function PriorityIcon({ priority, className }: PriorityIconProps) {\n  if (priority === "urgent") {\n    return (\n      <span\n        aria-label="Urgent priority"\n        className={cn(\n          "flex items-center justify-center w-6 h-6 bg-transparent border border-[var(--border-subtle-light)] rounded-[calc(var(--radius)-2px)] shrink-0",\n          className\n        )}\n        role="img"\n      >\n        <CircleAlert aria-hidden="true" className="text-[var(--urgent)]" size={14} />\n      </span>\n    );\n  }\n\n  const barCount = priority === "low" ? 1 : priority === "medium" ? 2 : 3;\n  const label = `${priority.charAt(0).toUpperCase() + priority.slice(1)} priority`;\n\n  return (\n    <span\n      aria-label={label}\n      className={cn(\n        "flex items-center justify-center w-6 h-6 bg-transparent border border-[var(--border-subtle-light)] rounded-[calc(var(--radius)-2px)] shrink-0",\n        className\n      )}\n      role="img"\n    >\n      <svg\n        aria-hidden="true"\n        className="text-muted-foreground"\n        fill="currentColor"\n        height="14"\n        viewBox="0 0 14 14"\n        width="14"\n      >\n        {/* Bar 1 - always active */}\n        <rect height="4" rx="1" width="3" x="1" y="9" />\n        {/* Bar 2 */}\n        <rect\n          className={barCount < 2 ? "fill-[oklch(from_var(--muted-foreground)_l_c_h_/_0.3)]" : undefined}\n          height="7"\n          rx="1"\n          width="3"\n          x="5.5"\n          y="6"\n        />\n        {/* Bar 3 */}\n        <rect\n          className={barCount < 3 ? "fill-[oklch(from_var(--muted-foreground)_l_c_h_/_0.3)]" : undefined}\n          height="10"\n          rx="1"\n          width="3"\n          x="10"\n          y="3"\n        />\n      </svg>\n    </span>\n  );\n}\n',
      },
      {
        name: "project-board.tsx",
        path: "components/project-board.tsx",
        content:
          '"use client";\n\nimport {\n  Calendar,\n  CheckCircle2,\n  Circle,\n  CircleDashed,\n  CircleDot,\n  ListTodo,\n  MessageCircleMore,\n  Plus,\n  User,\n} from "lucide-react";\nimport { cn } from "@/lib/utils";\nimport { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";\nimport { Badge } from "@/components/ui/badge";\nimport { Button } from "@/components/ui/button";\nimport { CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";\nimport { ActiveFilters, FilterBar } from "./filter-bar";\nimport { KanbanCard, KanbanCardList, KanbanColumn, KanbanColumnHeader, KanbanProvider } from "./kanban";\nimport { PriorityIcon } from "./priority-icon";\nimport { TaskDialog } from "./task-dialog";\nimport type { KanbanData, Task } from "../types";\nimport { useFilters } from "../hooks/use-filters";\nimport { useTaskDialog } from "../hooks/use-task-dialog";\nimport { useView } from "../hooks/use-view";\nimport { capitalize, TAG_COLORS, type Tag } from "../lib/project";\n\nexport type ProjectBoardProps = {\n  data: KanbanData;\n  onAddTask: (task: Omit<Task, "id" | "createdAt">) => void;\n  onUpdateTask: (id: string, updates: Partial<Omit<Task, "id">>) => void;\n  onDeleteTask: (id: string) => void;\n  onTasksChange: (tasks: Task[]) => void;\n};\n\nconst COLUMN_ICONS: Record<string, React.ReactNode> = {\n  backlog: <CircleDashed size={14} />,\n  todo: <Circle size={14} />,\n  "in-progress": <CircleDot size={14} />,\n  done: <CheckCircle2 size={14} />,\n};\n\nfunction getDaysLeft(dueDate: string | undefined): number | null {\n  if (!dueDate) {\n    return null;\n  }\n  const due = new Date(dueDate);\n  const now = new Date();\n  now.setHours(0, 0, 0, 0);\n  due.setHours(0, 0, 0, 0);\n  const diffTime = due.getTime() - now.getTime();\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n}\n\nfunction TaskCardContent({ task, onEdit }: { task: Task; onEdit?: (task: Task) => void }) {\n  const subtaskCount = task.subtasks?.length ?? 0;\n  const completedSubtasks = task.subtasks?.filter((st) => st.completed).length ?? 0;\n  const daysLeft = getDaysLeft(task.dueDate);\n\n  const renderAssignees = () => {\n    if (!task.assignees) {\n      return null;\n    }\n\n    if (task.assignees.length > 0) {\n      return (\n        <Button\n          aria-label="Edit assignees"\n          className="flex items-center h-auto p-0 bg-transparent border-none hover:bg-transparent"\n          onClick={() => onEdit?.(task)}\n          variant="ghost"\n        >\n          {task.assignees.slice(0, 3).map((user) => (\n            <div className="-ml-2 first:ml-0" key={user.id}>\n              <Avatar className="w-6 h-6 border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.1)] text-[0.5rem]">\n                <AvatarImage alt={user.name} src={user.avatar} />\n                <AvatarFallback>\n                  {user.name\n                    .split(" ")\n                    .map((n) => n[0])\n                    .join("")}\n                </AvatarFallback>\n              </Avatar>\n            </div>\n          ))}\n          {task.assignees.length > 3 && (\n            <div className="flex items-center justify-center w-6 h-6 -ml-2 rounded-full bg-muted border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.2)] text-[0.5rem] font-medium text-muted-foreground">\n              +{task.assignees.length - 3}\n            </div>\n          )}\n        </Button>\n      );\n    }\n\n    return (\n      <Button\n        aria-label="Add assignees"\n        className="flex items-center h-auto p-0 bg-transparent border-none hover:bg-transparent"\n        onClick={() => onEdit?.(task)}\n        variant="ghost"\n      >\n        <div className="flex items-center justify-center w-6 h-6 rounded-full border border-dashed border-[oklch(from_var(--border)_l_c_h_/_0.4)] text-muted-foreground cursor-pointer transition-all duration-150 hover:border-[oklch(from_var(--border)_l_c_h_/_0.6)] hover:text-foreground">\n          <Plus aria-hidden="true" size={8} />\n        </div>\n        <div className="flex items-center justify-center w-6 h-6 -ml-2 rounded-full bg-[var(--mix-card-33-bg)] border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.2)] text-muted-foreground">\n          <User aria-hidden="true" size={10} />\n        </div>\n      </Button>\n    );\n  };\n\n  return (\n    <>\n      <CardHeader>\n        <CardTitle>{task.title}</CardTitle>\n      </CardHeader>\n      <CardContent>\n        {task.description ? <CardDescription>{task.description}</CardDescription> : null}\n        <div className="flex items-center gap-1 pt-2" onPointerDown={(e) => e.stopPropagation()}>\n          <PriorityIcon priority={task.priority} />\n          {task.tags.length > 0 && (\n            <div className="flex flex-wrap gap-1">\n              {task.tags.map((tag) => (\n                <Badge key={tag} size="sm" variant="outline">\n                  <span\n                    className="w-1.5 h-1.5 rounded-full shrink-0"\n                    style={{ backgroundColor: TAG_COLORS[tag as Tag] }}\n                  />\n                  {capitalize(tag)}\n                </Badge>\n              ))}\n            </div>\n          )}\n        </div>\n      </CardContent>\n      <div className="flex flex-col gap-1 -mb-1" onPointerDown={(e) => e.stopPropagation()}>\n        <div className="pt-2 pb-2 -mx-4">\n          <div className="h-px bg-[oklch(from_var(--border)_l_c_h_/_0.2)]" />\n        </div>\n        <CardFooter className="flex items-center justify-between gap-2 p-0">\n          <div className="flex items-center gap-2">\n            {renderAssignees()}\n            <Button\n              aria-label="Comments"\n              className={cn(\n                "flex items-center justify-center gap-1 px-2 py-1 h-auto",\n                "border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.4)] rounded-[calc(var(--radius)-2px)]",\n                "text-muted-foreground transition-all duration-150",\n                "hover:bg-[var(--mix-card-50-bg)] hover:text-foreground"\n              )}\n              onClick={() => onEdit?.(task)}\n              variant="ghost"\n            >\n              <MessageCircleMore aria-hidden="true" size={12} />\n            </Button>\n            {subtaskCount > 0 && (\n              <Button\n                aria-label={`${completedSubtasks} of ${subtaskCount} subtasks completed`}\n                className={cn(\n                  "flex items-center justify-center gap-1 px-2 py-1 h-auto",\n                  "border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.4)] rounded-[calc(var(--radius)-2px)]",\n                  "text-muted-foreground transition-all duration-150",\n                  "hover:bg-[var(--mix-card-50-bg)] hover:text-foreground"\n                )}\n                onClick={() => onEdit?.(task)}\n                variant="ghost"\n              >\n                <ListTodo aria-hidden="true" size={12} />\n                <span className="text-[0.6875rem] font-medium leading-none">\n                  {completedSubtasks}/{subtaskCount}\n                </span>\n              </Button>\n            )}\n          </div>\n          {daysLeft !== null && (\n            <Button\n              aria-label={`${daysLeft} days left`}\n              className={cn(\n                "flex items-center justify-center gap-1 px-2 py-1 h-auto",\n                "border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.4)] rounded-[calc(var(--radius)-2px)]",\n                "text-muted-foreground transition-all duration-150",\n                "hover:bg-[var(--mix-card-50-bg)] hover:text-foreground"\n              )}\n              onClick={() => onEdit?.(task)}\n              variant="ghost"\n            >\n              <Calendar aria-hidden="true" size={12} />\n              <span\n                className={cn(\n                  "text-[0.6875rem] font-medium leading-none",\n                  daysLeft >= 0 && daysLeft <= 2 && "text-[var(--warning)]",\n                  daysLeft < 0 && "text-destructive"\n                )}\n              >\n                {daysLeft}\n              </span>\n            </Button>\n          )}\n        </CardFooter>\n      </div>\n    </>\n  );\n}\n\nexport function ProjectBoard({ data, onAddTask, onUpdateTask, onDeleteTask, onTasksChange }: ProjectBoardProps) {\n  // Filtering\n  const { filters, filteredTasks, togglePriority, toggleTag, activeFilterCount } = useFilters(data.tasks);\n\n  // View preferences\n  const { groupBy, setGroupBy, displayColumns } = useView(data.columns, data.tasks);\n\n  // Dialog state\n  const { dialogState, openCreate, openEdit, openDelete, close } = useTaskDialog();\n\n  return (\n    <div className="flex flex-col flex-1 min-h-0">\n      {/* Toolbar */}\n      <FilterBar\n        filters={filters}\n        groupBy={groupBy}\n        onGroupByChange={setGroupBy}\n        onTogglePriority={togglePriority}\n        onToggleTag={toggleTag}\n      />\n\n      {activeFilterCount > 0 && (\n        <div className="px-4 pb-2">\n          <ActiveFilters\n            filters={filters}\n            onRemovePriority={(p) => togglePriority(p, false)}\n            onRemoveTag={(t) => toggleTag(t, false)}\n          />\n        </div>\n      )}\n\n      {/* Board */}\n      <KanbanProvider\n        columns={displayColumns}\n        data={filteredTasks}\n        groupBy={groupBy}\n        onDataChange={onTasksChange}\n        onDeleteItem={openDelete}\n        onEditItem={openEdit}\n        renderOverlay={(task) => (\n          <KanbanCard id={task.id} isOverlay item={task}>\n            <TaskCardContent task={task} />\n          </KanbanCard>\n        )}\n      >\n        {(column) => (\n          <KanbanColumn id={column.id} key={column.id}>\n            <KanbanColumnHeader>\n              <div className="flex items-center gap-2">\n                {COLUMN_ICONS[column.id] ? (\n                  <span className="flex items-center justify-center text-muted-foreground">\n                    {COLUMN_ICONS[column.id]}\n                  </span>\n                ) : null}\n                <h2 className="text-sm font-semibold m-0">{column.name}</h2>\n              </div>\n              <Button\n                aria-label={`Add task to ${column.name}`}\n                onClick={() => openCreate(column.id)}\n                size="icon"\n                variant="ghost"\n              >\n                <Plus size={16} />\n              </Button>\n            </KanbanColumnHeader>\n\n            <KanbanCardList<Task> id={column.id}>\n              {(task) => (\n                <KanbanCard id={task.id} item={task} key={task.id}>\n                  <TaskCardContent onEdit={openEdit} task={task} />\n                </KanbanCard>\n              )}\n            </KanbanCardList>\n          </KanbanColumn>\n        )}\n      </KanbanProvider>\n\n      {/* Dialog */}\n      <TaskDialog\n        assignees={data.assignees}\n        columns={data.columns}\n        groupBy={groupBy}\n        onAddTask={onAddTask}\n        onClose={close}\n        onDeleteTask={onDeleteTask}\n        onUpdateTask={onUpdateTask}\n        state={dialogState}\n      />\n    </div>\n  );\n}\n',
      },
      {
        name: "task-dialog.tsx",
        path: "components/task-dialog.tsx",
        content:
          '"use client";\n\nimport {\n  Calendar as CalendarIcon,\n  CheckCircle2,\n  Circle,\n  CircleAlert,\n  CircleDashed,\n  CircleDot,\n  Command,\n  Plus,\n  Square,\n  SquareCheck,\n  Tag as TagIcon,\n  Users,\n  X,\n} from "lucide-react";\nimport { useEffect, useState } from "react";\nimport { z } from "zod";\nimport { cn } from "@/lib/utils";\nimport {\n  AlertDialog,\n  AlertDialogClose,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogTitle,\n} from "@/components/ui/alert-dialog";\nimport { Button } from "@/components/ui/button";\nimport { Calendar } from "@/components/ui/calendar";\nimport { Combobox as ComboboxPrimitive } from "@base-ui/react/combobox";\nimport {\n  Combobox,\n  ComboboxEmpty,\n  ComboboxInput,\n  ComboboxItem,\n  ComboboxList,\n  ComboboxPopup,\n  ComboboxPortal,\n  ComboboxPositioner,\n} from "@/components/ui/combobox";\nimport { Dialog, DialogClose, DialogOverlay, DialogPopup, DialogPortal } from "@/components/ui/dialog";\nimport { Field, FieldControl, FieldError } from "@/components/ui/field";\nimport { Form } from "@/components/ui/form";\nimport { Input } from "@/components/ui/input";\nimport { Kbd } from "@/components/ui/kbd";\nimport { Popover, PopoverPopup, PopoverTrigger } from "@/components/ui/popover";\nimport {\n  Select,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectList,\n  SelectPopup,\n  SelectPortal,\n  SelectPositioner,\n  SelectTrigger,\n  SelectValue,\n} from "@/components/ui/select";\nimport type { Assignee, Column, GroupByField, Priority, Subtask, Task } from "../types";\nimport type { DialogState } from "../hooks/use-task-dialog";\nimport { PRIORITY_ITEMS, TAG_COLORS, TAG_ITEMS, type Tag } from "../lib/project";\n\nconst taskSchema = z.object({\n  title: z.string().min(1, "Title is required"),\n});\n\ntype TaskFormState = {\n  title: string;\n  description: string;\n  priority: Priority;\n  columnId: string;\n  tags: string[];\n  assignees: Assignee[];\n  subtasks: Subtask[];\n  dueDate: string;\n};\n\nconst defaultFormState: TaskFormState = {\n  title: "",\n  description: "",\n  priority: "medium",\n  columnId: "",\n  tags: [],\n  assignees: [],\n  subtasks: [],\n  dueDate: "",\n};\n\nconst PRIORITY_CONFIG: Record<Priority, { icon: React.ReactNode; label: string }> = {\n  urgent: { icon: <CircleAlert size={14} />, label: "Urgent" },\n  high: { icon: <PriorityBars count={3} />, label: "High" },\n  medium: { icon: <PriorityBars count={2} />, label: "Medium" },\n  low: { icon: <PriorityBars count={1} />, label: "Low" },\n};\n\nconst COLUMN_ICONS: Record<string, React.ReactNode> = {\n  backlog: <CircleDashed size={14} />,\n  todo: <Circle size={14} />,\n  "in-progress": <CircleDot size={14} />,\n  done: <CheckCircle2 size={14} />,\n};\n\nfunction PriorityBars({ count }: { count: number }) {\n  return (\n    <svg fill="currentColor" height="14" viewBox="0 0 14 14" width="14">\n      <rect height="4" rx="1" width="3" x="1" y="9" />\n      <rect height="7" opacity={count >= 2 ? 1 : 0.3} rx="1" width="3" x="5.5" y="6" />\n      <rect height="10" opacity={count >= 3 ? 1 : 0.3} rx="1" width="3" x="10" y="3" />\n    </svg>\n  );\n}\n\nfunction TagDot({ tag }: { tag: Tag }) {\n  return <span className="w-2 h-2 rounded-full shrink-0" style={{ backgroundColor: TAG_COLORS[tag] }} />;\n}\n\nexport type TaskDialogProps = {\n  state: DialogState;\n  assignees: Assignee[];\n  columns: Column[];\n  groupBy: GroupByField;\n  onClose: () => void;\n  onAddTask: (task: Omit<Task, "id" | "createdAt">) => void;\n  onUpdateTask: (id: string, updates: Partial<Omit<Task, "id">>) => void;\n  onDeleteTask: (id: string) => void;\n};\n\nexport function TaskDialog({\n  state,\n  assignees,\n  columns,\n  groupBy,\n  onClose,\n  onAddTask,\n  onUpdateTask,\n  onDeleteTask,\n}: TaskDialogProps) {\n  if (state.mode === "closed") {\n    return null;\n  }\n\n  if (state.mode === "delete") {\n    return (\n      <DeleteConfirmDialog\n        onClose={onClose}\n        onDelete={() => {\n          onDeleteTask(state.task.id);\n          onClose();\n        }}\n        task={state.task}\n      />\n    );\n  }\n\n  return (\n    <TaskFormDialog\n      assignees={assignees}\n      columnId={state.mode === "create" ? state.columnId : undefined}\n      columns={columns}\n      groupBy={groupBy}\n      mode={state.mode}\n      onAddTask={onAddTask}\n      onClose={onClose}\n      onDeleteTask={onDeleteTask}\n      onUpdateTask={onUpdateTask}\n      task={state.mode === "edit" ? state.task : undefined}\n    />\n  );\n}\n\ntype DeleteConfirmDialogProps = {\n  task: Task;\n  onClose: () => void;\n  onDelete: () => void;\n};\n\nfunction DeleteConfirmDialog({ task, onClose, onDelete }: DeleteConfirmDialogProps) {\n  return (\n    <AlertDialog onOpenChange={(open) => !open && onClose()} open>\n      <AlertDialogContent>\n        <AlertDialogTitle>Delete Task</AlertDialogTitle>\n        <AlertDialogDescription>\n          Are you sure you want to delete "{task.title}"? This action cannot be undone.\n        </AlertDialogDescription>\n        <AlertDialogFooter>\n          <AlertDialogClose render={<Button variant="outline" />}>Cancel</AlertDialogClose>\n          <Button onClick={onDelete} variant="destructive">\n            Delete\n          </Button>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n}\n\ntype TaskFormDialogProps = {\n  mode: "create" | "edit";\n  task?: Task;\n  assignees: Assignee[];\n  columnId?: string;\n  columns: Column[];\n  groupBy: GroupByField;\n  onClose: () => void;\n  onAddTask: (task: Omit<Task, "id" | "createdAt">) => void;\n  onUpdateTask: (id: string, updates: Partial<Omit<Task, "id">>) => void;\n  onDeleteTask: (id: string) => void;\n};\n\nfunction TaskFormDialog({\n  mode,\n  task,\n  assignees,\n  columnId,\n  columns,\n  groupBy,\n  onClose,\n  onAddTask,\n  onUpdateTask,\n  onDeleteTask,\n}: TaskFormDialogProps) {\n  const [form, setForm] = useState<TaskFormState>(defaultFormState);\n  const [errors, setErrors] = useState<Record<string, string[]>>({});\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  const updateField = <K extends keyof TaskFormState>(field: K, value: TaskFormState[K]) => {\n    setForm((prev) => ({ ...prev, [field]: value }));\n  };\n\n  useEffect(() => {\n    setErrors({});\n    if (mode === "edit" && task) {\n      setForm({\n        title: task.title,\n        description: task.description,\n        priority: task.priority,\n        columnId: task.columnId,\n        tags: task.tags,\n        assignees: task.assignees ?? [],\n        subtasks: task.subtasks ?? [],\n        dueDate: task.dueDate ? task.dueDate.split("T")[0] : "",\n      });\n    } else {\n      setForm({\n        ...defaultFormState,\n        columnId: columnId ?? columns[0]?.id ?? "",\n      });\n    }\n  }, [mode, task, columnId, columns]);\n\n  const addSubtask = () => {\n    const newSubtask: Subtask = {\n      id: `subtask-${Date.now()}`,\n      title: "",\n      completed: false,\n    };\n    updateField("subtasks", [...form.subtasks, newSubtask]);\n  };\n\n  const updateSubtask = (id: string, updates: Partial<Subtask>) => {\n    updateField(\n      "subtasks",\n      form.subtasks.map((st) => (st.id === id ? { ...st, ...updates } : st))\n    );\n  };\n\n  const removeSubtask = (id: string) => {\n    updateField(\n      "subtasks",\n      form.subtasks.filter((st) => st.id !== id)\n    );\n  };\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === "l") {\n        e.preventDefault();\n        addSubtask();\n      }\n    };\n\n    window.addEventListener("keydown", handleKeyDown);\n    return () => window.removeEventListener("keydown", handleKeyDown);\n  }, [addSubtask]);\n\n  const handleSubmit = () => {\n    const result = taskSchema.safeParse(form);\n\n    if (!result.success) {\n      setErrors(z.flattenError(result.error).fieldErrors);\n      return;\n    }\n\n    setErrors({});\n\n    const formData = {\n      ...form,\n      dueDate: form.dueDate ? new Date(form.dueDate).toISOString() : undefined,\n    };\n\n    if (mode === "create") {\n      onAddTask(formData);\n    } else if (task) {\n      onUpdateTask(task.id, formData);\n    }\n\n    onClose();\n  };\n\n  const handleDelete = () => {\n    if (mode === "edit" && task) {\n      onDeleteTask(task.id);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog onOpenChange={(open) => !open && onClose()} open>\n      <DialogPortal>\n        <DialogOverlay />\n        <DialogPopup\n          className="max-w-[660px] overflow-visible p-5 border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.4)]"\n          data-kanban-dialog\n        >\n          <Form className="flex flex-col gap-1 mt-0" errors={errors}>\n            <Field name="title">\n              <FieldControl\n                autoFocus\n                className={cn(\n                  "text-xl font-semibold leading-[1.3] rounded-none py-2 tracking-[-0.01em]",\n                  "placeholder:text-xl placeholder:font-semibold placeholder:text-muted-foreground placeholder:opacity-60",\n                  "border-none bg-transparent p-0 h-auto",\n                  "focus:outline-none focus:border-transparent focus:shadow-none",\n                  "focus-visible:outline-none focus-visible:border-transparent focus-visible:shadow-none"\n                )}\n                data-variant="borderless"\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => updateField("title", e.target.value)}\n                placeholder={mode === "create" ? "New task..." : "Task title..."}\n                render={<Input />}\n                value={form.title}\n              />\n              <FieldError />\n            </Field>\n\n            <Field>\n              <Input\n                className={cn(\n                  "text-sm text-muted-foreground rounded-none py-1.5 min-h-10",\n                  "placeholder:text-sm placeholder:opacity-70",\n                  "border-none bg-transparent p-0 h-auto",\n                  "focus:outline-none focus:border-transparent focus:shadow-none",\n                  "focus-visible:outline-none focus-visible:border-transparent focus-visible:shadow-none"\n                )}\n                data-variant="borderless"\n                onChange={(e) => updateField("description", e.target.value)}\n                placeholder="Add description..."\n                value={form.description}\n              />\n            </Field>\n\n            <div className="flex flex-col gap-1 mt-3">\n              {form.subtasks.map((subtask) => (\n                <div className="flex items-center gap-2 py-1 rounded-[var(--radius-sm)] group" key={subtask.id}>\n                  <button\n                    className="flex items-center justify-center p-0 border-none bg-transparent text-muted-foreground cursor-pointer shrink-0 transition-colors duration-150 hover:text-foreground"\n                    onClick={() => updateSubtask(subtask.id, { completed: !subtask.completed })}\n                    type="button"\n                  >\n                    {subtask.completed ? (\n                      <SquareCheck className="text-primary" size={16} />\n                    ) : (\n                      <Square size={16} />\n                    )}\n                  </button>\n                  <input\n                    autoFocus={!subtask.title}\n                    className={cn(\n                      "flex-1 border-none bg-transparent text-sm text-foreground outline-none py-1",\n                      "placeholder:text-muted-foreground placeholder:opacity-60",\n                      subtask.completed && "line-through text-muted-foreground"\n                    )}\n                    onChange={(e) => updateSubtask(subtask.id, { title: e.target.value })}\n                    onKeyDown={(e) => {\n                      if (e.key === "Enter") {\n                        e.preventDefault();\n                        addSubtask();\n                      }\n                      if (e.key === "Backspace" && !subtask.title) {\n                        e.preventDefault();\n                        removeSubtask(subtask.id);\n                      }\n                    }}\n                    placeholder="Subtask title..."\n                    value={subtask.title}\n                  />\n                  <button\n                    aria-label="Remove subtask"\n                    className="flex items-center justify-center p-1 border-none bg-transparent text-muted-foreground cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity duration-150 rounded-[var(--radius-sm)] hover:text-destructive"\n                    onClick={() => removeSubtask(subtask.id)}\n                    type="button"\n                  >\n                    <X size={14} />\n                  </button>\n                </div>\n              ))}\n              <button\n                className="flex items-center gap-2 py-1.5 border-none bg-transparent text-muted-foreground text-sm cursor-pointer transition-colors duration-150 hover:text-foreground"\n                onClick={addSubtask}\n                type="button"\n              >\n                <Plus size={14} />\n                <span>Add subtask</span>\n                <Kbd className="ml-auto" size="sm">\n                  <Command size={10} />L\n                </Kbd>\n              </button>\n            </div>\n\n            <div className="flex flex-wrap items-center gap-2 mt-4">\n              <Select\n                items={PRIORITY_ITEMS}\n                onValueChange={(value) => updateField("priority", value as Priority)}\n                value={form.priority}\n              >\n                <SelectTrigger\n                  className="inline-flex items-center gap-2 min-w-0 [&_[data-slot=select-value]]:flex [&_[data-slot=select-value]]:items-center [&_[data-slot=select-value]]:gap-2"\n                  render={<Button size="sm" variant="outline" />}\n                >\n                  <SelectValue>\n                    {(value) => (\n                      <>\n                        <span\n                          className={cn(\n                            "flex items-center justify-center text-muted-foreground",\n                            value === "urgent" && "text-[var(--urgent)]"\n                          )}\n                        >\n                          {PRIORITY_CONFIG[value as Priority].icon}\n                        </span>\n                        {PRIORITY_CONFIG[value as Priority].label}\n                      </>\n                    )}\n                  </SelectValue>\n                </SelectTrigger>\n                <SelectPortal>\n                  <SelectPositioner align="start" alignItemWithTrigger={false} sideOffset={6}>\n                    <SelectPopup className="min-w-[200px] border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.8)] shadow-[var(--shadow-border-stack)]">\n                      <SelectList className="p-0 scroll-py-6">\n                        {PRIORITY_ITEMS.map((p) => (\n                          <SelectItem\n                            className="gap-3 px-2 pr-1.5 mx-1 min-h-8"\n                            key={p.value}\n                            value={p.value}\n                          >\n                            <span className="flex items-center justify-center text-muted-foreground">\n                              {PRIORITY_CONFIG[p.value].icon}\n                            </span>\n                            <SelectItemText>{p.label}</SelectItemText>\n                            <SelectItemIndicator className="text-muted-foreground" />\n                          </SelectItem>\n                        ))}\n                      </SelectList>\n                    </SelectPopup>\n                  </SelectPositioner>\n                </SelectPortal>\n              </Select>\n\n              {groupBy === "column" && (\n                <Select\n                  items={columns.map((col) => ({ value: col.id, label: col.name }))}\n                  onValueChange={(value) => {\n                    if (value) {\n                      updateField("columnId", value);\n                    }\n                  }}\n                  value={form.columnId}\n                >\n                  <SelectTrigger\n                    className="inline-flex items-center gap-2 min-w-0 [&_[data-slot=select-value]]:flex [&_[data-slot=select-value]]:items-center [&_[data-slot=select-value]]:gap-2"\n                    render={<Button size="sm" variant="outline" />}\n                  >\n                    <SelectValue>\n                      {(value) => {\n                        const col = columns.find((c) => c.id === value);\n                        return (\n                          <>\n                            <span className="flex items-center justify-center text-muted-foreground">\n                              {COLUMN_ICONS[value] ?? <Circle size={14} />}\n                            </span>\n                            {col?.name ?? "Select column"}\n                          </>\n                        );\n                      }}\n                    </SelectValue>\n                  </SelectTrigger>\n                  <SelectPortal>\n                    <SelectPositioner align="start" alignItemWithTrigger={false} sideOffset={6}>\n                      <SelectPopup className="min-w-[200px] border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.8)] shadow-[var(--shadow-border-stack)]">\n                        <SelectList className="p-0 scroll-py-6">\n                          {columns.map((col) => (\n                            <SelectItem\n                              className="gap-3 px-2 pr-1.5 mx-1 min-h-8"\n                              key={col.id}\n                              value={col.id}\n                            >\n                              <span className="flex items-center justify-center text-muted-foreground">\n                                {COLUMN_ICONS[col.id] ?? <Circle size={14} />}\n                              </span>\n                              <SelectItemText>{col.name}</SelectItemText>\n                              <SelectItemIndicator className="text-muted-foreground" />\n                            </SelectItem>\n                          ))}\n                        </SelectList>\n                      </SelectPopup>\n                    </SelectPositioner>\n                  </SelectPortal>\n                </Select>\n              )}\n\n              <Select<string, true> multiple onValueChange={(values) => updateField("tags", values)} value={form.tags}>\n                <SelectTrigger\n                  className="inline-flex items-center gap-2 min-w-0"\n                  render={<Button size="sm" variant="outline" />}\n                >\n                  <span className="flex items-center justify-center text-muted-foreground">\n                    <TagIcon size={14} />\n                  </span>\n                  {form.tags.length > 0 ? (\n                    <div className="flex items-center gap-1.5">\n                      {form.tags.map((tag) => (\n                        <span\n                          className="w-2 h-2 rounded-full shrink-0"\n                          key={tag}\n                          style={{ backgroundColor: TAG_COLORS[tag as Tag] }}\n                        />\n                      ))}\n                    </div>\n                  ) : (\n                    "Tags"\n                  )}\n                </SelectTrigger>\n                <SelectPortal>\n                  <SelectPositioner align="start" alignItemWithTrigger={false} sideOffset={6}>\n                    <SelectPopup className="min-w-[200px] border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.8)] shadow-[var(--shadow-border-stack)]">\n                      <SelectList className="p-0 scroll-py-6">\n                        {TAG_ITEMS.map((item) => (\n                          <SelectItem\n                            className="gap-3 px-2 pr-1.5 mx-1 min-h-8"\n                            key={item.value}\n                            value={item.value}\n                          >\n                            <TagDot tag={item.value as Tag} />\n                            <SelectItemText>{item.label}</SelectItemText>\n                            <SelectItemIndicator className="text-muted-foreground" />\n                          </SelectItem>\n                        ))}\n                      </SelectList>\n                    </SelectPopup>\n                  </SelectPositioner>\n                </SelectPortal>\n              </Select>\n\n              <Combobox<Assignee, true>\n                items={assignees}\n                multiple\n                onValueChange={(values) => updateField("assignees", values)}\n                value={form.assignees}\n              >\n                <ComboboxPrimitive.Trigger\n                  render={<Button className="inline-flex items-center gap-2" size="sm" variant="outline" />}\n                >\n                  <span className="flex items-center justify-center text-muted-foreground">\n                    <Users size={14} />\n                  </span>\n                  {form.assignees.length > 0\n                    ? `${form.assignees.length} assignee${form.assignees.length > 1 ? "s" : ""}`\n                    : "Assignees"}\n                </ComboboxPrimitive.Trigger>\n                <ComboboxPortal>\n                  <ComboboxPositioner side="bottom" sideOffset={6}>\n                    <ComboboxPopup className="min-w-[200px] border-[0.5px] border-[oklch(from_var(--border)_l_c_h_/_0.8)] shadow-[var(--shadow-border-stack)]">\n                      <ComboboxInput\n                        className="mb-1 pl-3 pr-2.5 w-full min-h-8 text-xs border-0 border-b-[0.5px] border-b-[oklch(from_var(--border)_l_c_h_/_0.8)] rounded-none bg-transparent focus:outline-none focus:shadow-none focus:border-b-[oklch(from_var(--border)_l_c_h_/_0.8)]"\n                        placeholder="Search assignees..."\n                      />\n                      <ComboboxEmpty>No users found</ComboboxEmpty>\n                      <ComboboxList>\n                        {(assignee: Assignee) => (\n                          <ComboboxItem indicatorPosition="right" key={assignee.id} value={assignee}>\n                            <span style={{ flex: 1 }}>{assignee.name}</span>\n                          </ComboboxItem>\n                        )}\n                      </ComboboxList>\n                    </ComboboxPopup>\n                  </ComboboxPositioner>\n                </ComboboxPortal>\n              </Combobox>\n\n              <Popover>\n                <PopoverTrigger\n                  className="inline-flex items-center gap-2"\n                  render={<Button size="sm" variant="outline" />}\n                >\n                  <span className="flex items-center justify-center text-muted-foreground">\n                    <CalendarIcon size={14} />\n                  </span>\n                  {form.dueDate ? new Date(form.dueDate).toLocaleDateString() : "Due date"}\n                </PopoverTrigger>\n                <PopoverPopup align="start" arrow={false} className="rounded-[var(--radius)] z-[200]" sideOffset={6}>\n                  <Calendar\n                    className="p-0"\n                    mode="single"\n                    onSelect={(date) => {\n                      if (date) {\n                        const year = date.getFullYear();\n                        const month = String(date.getMonth() + 1).padStart(2, "0");\n                        const day = String(date.getDate()).padStart(2, "0");\n                        updateField("dueDate", `${year}-${month}-${day}`);\n                      } else {\n                        updateField("dueDate", "");\n                      }\n                    }}\n                    selected={form.dueDate.length > 0 ? new Date(`${form.dueDate}T00:00:00`) : undefined}\n                  />\n                </PopoverPopup>\n              </Popover>\n            </div>\n\n            <div className="flex items-center justify-between gap-2 mt-6 pt-4 border-t-[0.5px] border-t-[oklch(from_var(--border)_l_c_h_/_0.4)] -mx-5 px-5">\n              {mode === "edit" && (\n                <Button\n                  className="text-muted-foreground hover:text-destructive-foreground hover:bg-destructive hover:border-destructive"\n                  onClick={() => setShowDeleteConfirm(true)}\n                  size="sm"\n                  type="button"\n                  variant="outline"\n                >\n                  Delete\n                </Button>\n              )}\n              <div className="flex items-center gap-1.5 ml-auto">\n                <Button onClick={handleSubmit} size="sm" type="button">\n                  {mode === "create" ? "Create" : "Save"}\n                </Button>\n              </div>\n            </div>\n\n            {mode === "edit" && task && (\n              <AlertDialog onOpenChange={setShowDeleteConfirm} open={showDeleteConfirm}>\n                <AlertDialogContent>\n                  <AlertDialogTitle>Delete Task</AlertDialogTitle>\n                  <AlertDialogDescription>\n                    Are you sure you want to delete "{task.title}"? This action cannot be undone.\n                  </AlertDialogDescription>\n                  <AlertDialogFooter>\n                    <AlertDialogClose render={<Button variant="outline" />}>Cancel</AlertDialogClose>\n                    <Button onClick={handleDelete} variant="destructive">\n                      Delete\n                    </Button>\n                  </AlertDialogFooter>\n                </AlertDialogContent>\n              </AlertDialog>\n            )}\n          </Form>\n\n          <Button\n            aria-label="Close dialog"\n            className="absolute right-3 top-3 opacity-50 transition-opacity duration-150 hover:opacity-100"\n            render={<DialogClose />}\n            size="icon"\n            variant="ghost"\n          >\n            <X aria-hidden="true" size={16} />\n          </Button>\n        </DialogPopup>\n      </DialogPortal>\n    </Dialog>\n  );\n}\n',
      },
      {
        name: "data.json",
        path: "app/kanban-board/data.json",
        content:
          '{\n  "columns": [\n    { "id": "backlog", "name": "Backlog", "order": 0 },\n    { "id": "todo", "name": "To Do", "order": 1 },\n    { "id": "in-progress", "name": "In Progress", "order": 2 },\n    { "id": "done", "name": "Done", "order": 3 }\n  ],\n  "assignees": [\n    { "id": "user-1", "name": "Emma Wilson" },\n    { "id": "user-2", "name": "James Chen" },\n    { "id": "user-3", "name": "Sofia Garcia" },\n    { "id": "user-4", "name": "Marcus Johnson" },\n    { "id": "user-5", "name": "Aisha Patel" },\n    { "id": "user-6", "name": "Oliver Brown" },\n    { "id": "user-7", "name": "Isabella Martinez" },\n    { "id": "user-8", "name": "William Taylor" },\n    { "id": "user-9", "name": "Mia Anderson" },\n    { "id": "user-10", "name": "Benjamin Lee" }\n  ],\n  "tasks": [\n    {\n      "id": "card-1",\n      "title": "Research competitor products",\n      "description": "Analyze top 5 competitors and document their key features and pricing strategies.",\n      "columnId": "todo",\n      "priority": "high",\n      "tags": ["feature"],\n      "assignees": [\n        { "id": "user-1", "name": "Emma Wilson" },\n        { "id": "user-2", "name": "James Chen" },\n        { "id": "user-3", "name": "Sofia Garcia" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-1-1",\n          "title": "Identify top 5 competitors",\n          "completed": true\n        },\n        {\n          "id": "subtask-1-2",\n          "title": "Document pricing strategies",\n          "completed": false\n        },\n        {\n          "id": "subtask-1-3",\n          "title": "Create comparison spreadsheet",\n          "completed": false\n        }\n      ],\n      "dueDate": "2025-12-18T00:00:00.000Z",\n      "createdAt": "2024-01-01T00:00:00.000Z"\n    },\n    {\n      "id": "card-2",\n      "title": "Design system foundations",\n      "description": "Create color palette, typography scale, and spacing tokens for the design system.",\n      "columnId": "in-progress",\n      "priority": "medium",\n      "tags": ["feature"],\n      "assignees": [\n        { "id": "user-3", "name": "Sofia Garcia" },\n        { "id": "user-4", "name": "Marcus Johnson" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-2-1",\n          "title": "Define color palette",\n          "completed": true\n        },\n        {\n          "id": "subtask-2-2",\n          "title": "Create typography scale",\n          "completed": true\n        },\n        {\n          "id": "subtask-2-3",\n          "title": "Define spacing tokens",\n          "completed": false\n        }\n      ],\n      "dueDate": "2025-12-20T00:00:00.000Z",\n      "createdAt": "2024-01-02T00:00:00.000Z"\n    },\n    {\n      "id": "card-3",\n      "title": "Set up CI/CD pipeline",\n      "description": "Configure GitHub Actions for automated testing and deployment to staging environment.",\n      "columnId": "done",\n      "priority": "high",\n      "tags": ["feature"],\n      "assignees": [\n        { "id": "user-2", "name": "James Chen" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-3-1",\n          "title": "Set up GitHub Actions workflow",\n          "completed": true\n        },\n        {\n          "id": "subtask-3-2",\n          "title": "Configure test automation",\n          "completed": true\n        },\n        {\n          "id": "subtask-3-3",\n          "title": "Set up staging deployment",\n          "completed": true\n        }\n      ],\n      "dueDate": "2025-12-10T00:00:00.000Z",\n      "createdAt": "2024-01-03T00:00:00.000Z"\n    },\n    {\n      "id": "card-4",\n      "title": "Mobile responsiveness",\n      "description": "Ensure all components are responsive and work well on mobile devices.",\n      "columnId": "backlog",\n      "priority": "low",\n      "tags": ["bug"],\n      "assignees": [\n        { "id": "user-1", "name": "Emma Wilson" },\n        { "id": "user-5", "name": "Aisha Patel" }\n      ],\n      "subtasks": [\n        {\n          "id": "subtask-4-1",\n          "title": "Audit current breakpoints",\n          "completed": false\n        },\n        {\n          "id": "subtask-4-2",\n          "title": "Fix navigation on mobile",\n          "completed": false\n        }\n      ],\n      "dueDate": "2025-12-25T00:00:00.000Z",\n      "createdAt": "2024-01-04T00:00:00.000Z"\n    }\n  ]\n}\n',
      },
      {
        name: "use-filters.ts",
        path: "hooks/use-filters.ts",
        content:
          '"use client";\n\nimport { useCallback, useMemo, useState } from "react";\nimport type { FilterConfig, Priority, Task } from "../types";\nimport { filterTasks } from "../lib/project";\n\nconst DEFAULT_FILTERS: FilterConfig = { priority: [], tags: [] };\n\nexport function useFilters(tasks: Task[]) {\n  const [filters, setFilters] = useState<FilterConfig>(DEFAULT_FILTERS);\n\n  const filteredTasks = useMemo(() => filterTasks(tasks, filters), [tasks, filters]);\n\n  const togglePriority = useCallback((priority: Priority, checked: boolean) => {\n    setFilters((prev) => ({\n      ...prev,\n      priority: checked ? [...prev.priority, priority] : prev.priority.filter((p) => p !== priority),\n    }));\n  }, []);\n\n  const toggleTag = useCallback((tag: string, checked: boolean) => {\n    setFilters((prev) => ({\n      ...prev,\n      tags: checked ? [...prev.tags, tag] : prev.tags.filter((t) => t !== tag),\n    }));\n  }, []);\n\n  const clearFilters = useCallback(() => setFilters(DEFAULT_FILTERS), []);\n\n  const activeFilterCount = filters.priority.length + filters.tags.length;\n\n  return {\n    filters,\n    filteredTasks,\n    togglePriority,\n    toggleTag,\n    clearFilters,\n    activeFilterCount,\n  };\n}\n',
      },
      {
        name: "use-kanban-dnd.ts",
        path: "hooks/use-kanban-dnd.ts",
        content:
          '"use client";\n\nimport type { Announcements } from "@dnd-kit/core";\nimport {\n  type DragEndEvent,\n  type DragOverEvent,\n  type DragStartEvent,\n  KeyboardSensor,\n  MouseSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n} from "@dnd-kit/core";\nimport { arrayMove, sortableKeyboardCoordinates } from "@dnd-kit/sortable";\nimport { useCallback, useMemo, useRef, useState } from "react";\nimport type { GroupByField } from "../types";\nimport { calculateDropIndex, getColumnName, getTargetColumnId } from "../lib/project";\n\nexport type KanbanItemProps = {\n  id: string;\n  columnId: string;\n  priority: string;\n} & Record<string, unknown>;\n\nexport type KanbanColumnDataProps = {\n  id: string;\n  name: string;\n} & Record<string, unknown>;\n\n/** Get the group ID for an item based on groupBy mode */\nfunction getItemGroupId<T extends KanbanItemProps>(item: T, groupBy: GroupByField): string {\n  return groupBy === "priority" ? item.priority : item.columnId;\n}\n\n/** Apply group change to an item */\nfunction applyGroupChange<T extends KanbanItemProps>(item: T, groupId: string, groupBy: GroupByField): T {\n  if (groupBy === "priority") {\n    return { ...item, priority: groupId };\n  }\n  return { ...item, columnId: groupId };\n}\n\n/** Get the target group ID from a drag over event */\nfunction getOverGroupId<T extends KanbanItemProps, C extends KanbanColumnDataProps>(\n  overId: string,\n  data: T[],\n  columns: C[],\n  groupBy: GroupByField\n): string | null {\n  const overItem = data.find((item) => item.id === overId);\n  if (overItem) {\n    return getItemGroupId(overItem, groupBy);\n  }\n\n  const isOverColumn = columns.some((col) => col.id === overId);\n  if (isOverColumn) {\n    return overId;\n  }\n\n  return null;\n}\n\n/** Calculate the insertion index for cross-group moves */\nfunction getCrossGroupInsertIndex<T extends KanbanItemProps, C extends KanbanColumnDataProps>(\n  overId: string,\n  data: T[],\n  columns: C[],\n  targetGroupId: string,\n  activeIndex: number,\n  groupBy: GroupByField\n): number {\n  // Check if overId is a column (not an item)\n  const isOverColumn = columns.some((col) => col.id === overId);\n\n  if (isOverColumn) {\n    // Dropping on the column itself - insert at the beginning of the column\n    const firstItemInColumn = data.find((item) => getItemGroupId(item, groupBy) === targetGroupId);\n    if (firstItemInColumn) {\n      const firstItemIndex = data.findIndex((item) => item.id === firstItemInColumn.id);\n      // Adjust for removal of active item if it comes before\n      if (activeIndex < firstItemIndex) {\n        return firstItemIndex - 1;\n      }\n      return firstItemIndex;\n    }\n    // Empty column - append at end\n    return data.length;\n  }\n\n  // Dropping on an item - find its index\n  const overIndex = data.findIndex((item) => item.id === overId);\n  if (overIndex === -1) {\n    return data.length;\n  }\n\n  // Adjust for arrayMove behavior:\n  // When activeIndex < overIndex, arrayMove places the item AFTER the target\n  // position due to index shifting. We subtract 1 to place it BEFORE.\n  if (activeIndex < overIndex) {\n    return overIndex - 1;\n  }\n  return overIndex;\n}\n\ntype UseKanbanDndOptions<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n> = {\n  data: T[];\n  columns: C[];\n  groupBy: GroupByField;\n  enabled: boolean;\n  onDataChange: (data: T[]) => void;\n  onDragStart?: (event: DragStartEvent) => void;\n  onDragEnd?: (event: DragEndEvent) => void;\n  onDragOver?: (event: DragOverEvent) => void;\n};\n\nexport function useKanbanDnd<\n  T extends KanbanItemProps = KanbanItemProps,\n  C extends KanbanColumnDataProps = KanbanColumnDataProps,\n>({ data, columns, groupBy, enabled, onDataChange, onDragStart, onDragEnd, onDragOver }: UseKanbanDndOptions<T, C>) {\n  const [activeItemId, setActiveItemId] = useState<string | null>(null);\n  const lastCrossGroupMoveRef = useRef<string | null>(null);\n  const isUpdatingRef = useRef(false);\n  const originalPriorityRef = useRef<string | null>(null);\n\n  const activeItem = useMemo(() => data.find((item) => item.id === activeItemId) ?? null, [data, activeItemId]);\n\n  const sensors = useSensors(\n    useSensor(MouseSensor, {\n      activationConstraint: { distance: 8 },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: { delay: 200, tolerance: 5 },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  const handleDragStart = useCallback(\n    (event: DragStartEvent) => {\n      const activeId = event.active.id as string;\n      const item = data.find((i) => i.id === activeId);\n      setActiveItemId(activeId);\n      lastCrossGroupMoveRef.current = null;\n      isUpdatingRef.current = false;\n      originalPriorityRef.current = item?.priority ?? null;\n      onDragStart?.(event);\n    },\n    [data, onDragStart]\n  );\n\n  const handleDragOver = useCallback(\n    (event: DragOverEvent) => {\n      // Prevent processing while an update is in flight\n      if (isUpdatingRef.current) {\n        return;\n      }\n\n      const { over } = event;\n\n      if (enabled && over) {\n        const activeId = event.active.id as string;\n        const overId = over.id as string;\n        const draggedItem = data.find((item) => item.id === activeId);\n\n        if (draggedItem) {\n          const overGroupId = getOverGroupId(overId, data, columns, groupBy);\n          const draggedGroupId = getItemGroupId(draggedItem, groupBy);\n\n          if (overGroupId && draggedGroupId !== overGroupId) {\n            // Dedupe: skip if we already processed this exact cross-group move\n            const moveKey = `${activeId}:${overGroupId}`;\n            if (lastCrossGroupMoveRef.current === moveKey) {\n              return;\n            }\n            lastCrossGroupMoveRef.current = moveKey;\n            isUpdatingRef.current = true;\n\n            // Cross-group move\n            const newData = [...data];\n            const activeIndex = newData.findIndex((item) => item.id === activeId);\n            const finalIndex = getCrossGroupInsertIndex(overId, data, columns, overGroupId, activeIndex, groupBy);\n\n            // Apply group change only (column/priority group) - priority inheritance\n            // is handled in handleDragEnd based on final drop position\n            newData[activeIndex] = applyGroupChange(newData[activeIndex], overGroupId, groupBy);\n\n            onDataChange(arrayMove(newData, activeIndex, finalIndex));\n\n            // Reset the updating flag after a microtask to allow the update to propagate\n            queueMicrotask(() => {\n              isUpdatingRef.current = false;\n            });\n            return;\n          }\n        }\n      }\n\n      onDragOver?.(event);\n    },\n    [data, columns, groupBy, enabled, onDataChange, onDragOver]\n  );\n\n  const handleDragEnd = useCallback(\n    (event: DragEndEvent) => {\n      const { active, over } = event;\n      const didCrossGroupMove = lastCrossGroupMoveRef.current !== null;\n\n      setActiveItemId(null);\n      lastCrossGroupMoveRef.current = null;\n      isUpdatingRef.current = false;\n      originalPriorityRef.current = null;\n      onDragEnd?.(event);\n\n      if (!over || active.id === over.id) {\n        return;\n      }\n\n      // For cross-group moves, apply priority inheritance based on final position\n      if (didCrossGroupMove) {\n        // Find the final drop target (the card we\'re dropping ON)\n        const overItem = data.find((item) => item.id === over.id);\n\n        // When dropping directly ON a card, inherit its priority and reposition\n        // to be right after the target card. This ensures the card "sticks"\n        // to its drop position after the priority sort.\n        if (groupBy === "column" && overItem) {\n          const draggedItem = data.find((item) => item.id === active.id);\n          if (draggedItem && draggedItem.priority !== overItem.priority) {\n            const newData = [...data];\n            const draggedIndex = newData.findIndex((item) => item.id === active.id);\n\n            // Update priority\n            newData[draggedIndex] = { ...newData[draggedIndex], priority: overItem.priority };\n\n            // Reposition: remove from current position and insert right after target\n            const [removed] = newData.splice(draggedIndex, 1);\n            const targetIndex = newData.findIndex((item) => item.id === over.id);\n            newData.splice(targetIndex + 1, 0, removed);\n\n            onDataChange(newData);\n          }\n        }\n        return;\n      }\n\n      // Same-group reorder\n      const oldIndex = data.findIndex((item) => item.id === active.id);\n      const newIndex = data.findIndex((item) => item.id === over.id);\n\n      if (oldIndex === -1 || newIndex === -1) {\n        return;\n      }\n\n      const newData = [...data];\n      const draggedItem = newData[oldIndex];\n      const targetItem = newData[newIndex];\n\n      // When grouping by column and dropping ON a card, inherit its priority\n      // so the dropped card "sticks" to that position after priority sort.\n      if (groupBy === "column" && draggedItem.priority !== targetItem.priority) {\n        newData[oldIndex] = { ...draggedItem, priority: targetItem.priority };\n      }\n\n      const targetIndex = calculateDropIndex(oldIndex, newIndex, draggedItem.priority, targetItem.priority);\n      onDataChange(arrayMove(newData, oldIndex, targetIndex));\n    },\n    [data, groupBy, onDataChange, onDragEnd]\n  );\n\n  const announcements: Announcements = useMemo(\n    () => ({\n      onDragStart({ active }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!item) {\n          return "";\n        }\n        const columnName = getColumnName(item.columnId, columns);\n        return `Picked up item "${(item as { title?: string }).title ?? item.id}" from the "${columnName}" column`;\n      },\n      onDragOver({ active, over }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!(item && over)) {\n          return "";\n        }\n        const targetColumnId = getTargetColumnId(over.id as string, data, columns);\n        const columnName = getColumnName(targetColumnId ?? "", columns);\n        return `Dragged item "${(item as { title?: string }).title ?? item.id}" over the "${columnName}" column`;\n      },\n      onDragEnd({ active, over }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!(item && over)) {\n          return "";\n        }\n        const targetColumnId = getTargetColumnId(over.id as string, data, columns);\n        const columnName = getColumnName(targetColumnId ?? "", columns);\n        return `Dropped item "${(item as { title?: string }).title ?? item.id}" into the "${columnName}" column`;\n      },\n      onDragCancel({ active }) {\n        const item = data.find((i) => i.id === active.id);\n        if (!item) {\n          return "";\n        }\n        return `Cancelled dragging item "${(item as { title?: string }).title ?? item.id}"`;\n      },\n    }),\n    [data, columns]\n  );\n\n  return {\n    activeItem,\n    sensors,\n    announcements,\n    handleDragStart: enabled ? handleDragStart : undefined,\n    handleDragOver: enabled ? handleDragOver : undefined,\n    handleDragEnd: enabled ? handleDragEnd : undefined,\n  };\n}\n',
      },
      {
        name: "use-local-storage.ts",
        path: "hooks/use-local-storage.ts",
        content:
          '"use client";\n\nimport { useCallback, useEffect, useState } from "react";\n\nexport function useLocalStorage<T>(key: string, defaultValue: T): [T, (value: T | ((prev: T) => T)) => void, boolean] {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [storedValue, setStoredValue] = useState<T>(defaultValue);\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      const item = localStorage.getItem(key);\n      if (item) {\n        setStoredValue(JSON.parse(item));\n      }\n    } catch (error) {\n      console.warn(`Error reading localStorage key "${key}":`, error);\n    }\n    setIsLoaded(true);\n  }, [key]);\n\n  // Save to localStorage whenever value changes\n  const setValue = useCallback(\n    (value: T | ((prev: T) => T)) => {\n      try {\n        setStoredValue((prev) => {\n          const valueToStore = value instanceof Function ? value(prev) : value;\n          localStorage.setItem(key, JSON.stringify(valueToStore));\n          return valueToStore;\n        });\n      } catch (error) {\n        console.warn(`Error setting localStorage key "${key}":`, error);\n      }\n    },\n    [key]\n  );\n\n  return [storedValue, setValue, isLoaded];\n}\n',
      },
      {
        name: "use-task-dialog.ts",
        path: "hooks/use-task-dialog.ts",
        content:
          '"use client";\n\nimport { useCallback, useState } from "react";\nimport type { Task } from "../types";\n\nexport type DialogState =\n  | { mode: "closed" }\n  | { mode: "create"; columnId: string }\n  | { mode: "edit"; task: Task }\n  | { mode: "delete"; task: Task };\n\nexport function useTaskDialog() {\n  const [dialogState, setDialogState] = useState<DialogState>({ mode: "closed" });\n\n  const openCreate = useCallback((columnId: string) => {\n    setDialogState({ mode: "create", columnId });\n  }, []);\n\n  const openEdit = useCallback((task: Task) => {\n    setDialogState({ mode: "edit", task });\n  }, []);\n\n  const openDelete = useCallback((task: Task) => {\n    setDialogState({ mode: "delete", task });\n  }, []);\n\n  const close = useCallback(() => {\n    setDialogState({ mode: "closed" });\n  }, []);\n\n  return {\n    dialogState,\n    openCreate,\n    openEdit,\n    openDelete,\n    close,\n    isOpen: dialogState.mode !== "closed",\n  };\n}\n',
      },
      {
        name: "use-tasks.ts",
        path: "hooks/use-tasks.ts",
        content:
          '"use client";\n\nimport { useCallback } from "react";\nimport seedData from "../data.json";\nimport { useLocalStorage } from "./use-local-storage";\nimport type { KanbanData, Task } from "../types";\n\nconst STORAGE_KEY = "kanban-data";\nconst DEFAULT_DATA: KanbanData = {\n  columns: seedData.columns,\n  tasks: seedData.tasks as Task[],\n  assignees: seedData.assignees,\n};\n\nexport function useTasks() {\n  const [data, setData, isLoaded] = useLocalStorage<KanbanData>(STORAGE_KEY, DEFAULT_DATA);\n\n  const addTask = useCallback(\n    (taskInput: Omit<Task, "id" | "createdAt">) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: [\n          ...prev.tasks,\n          {\n            ...taskInput,\n            id: crypto.randomUUID(),\n            createdAt: new Date().toISOString(),\n          },\n        ],\n      }));\n    },\n    [setData]\n  );\n\n  const updateTask = useCallback(\n    (id: string, updates: Partial<Omit<Task, "id">>) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: prev.tasks.map((task) => (task.id === id ? { ...task, ...updates } : task)),\n      }));\n    },\n    [setData]\n  );\n\n  const deleteTask = useCallback(\n    (id: string) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: prev.tasks.filter((task) => task.id !== id),\n      }));\n    },\n    [setData]\n  );\n\n  const moveTask = useCallback(\n    (taskId: string, toColumnId: string, newPriority?: Task["priority"]) => {\n      setData((prev) => ({\n        ...prev,\n        tasks: prev.tasks.map((task) =>\n          task.id === taskId\n            ? {\n                ...task,\n                columnId: toColumnId,\n                ...(newPriority && { priority: newPriority }),\n              }\n            : task\n        ),\n      }));\n    },\n    [setData]\n  );\n\n  const setTasks = useCallback(\n    (tasks: Task[]) => {\n      setData((prev) => ({ ...prev, tasks }));\n    },\n    [setData]\n  );\n\n  return {\n    data,\n    isLoaded,\n    addTask,\n    updateTask,\n    deleteTask,\n    moveTask,\n    setTasks,\n  };\n}\n',
      },
      {
        name: "use-view.ts",
        path: "hooks/use-view.ts",
        content:
          '"use client";\n\nimport { useCallback, useMemo, useState } from "react";\nimport type { Column, GroupByField, Task } from "../types";\nimport { getDisplayColumns, getTasksForGroup } from "../lib/project";\n\nconst DEFAULT_GROUP_BY: GroupByField = "column";\n\nexport function useView(columns: Column[], tasks: Task[]) {\n  const [groupBy, setGroupBy] = useState<GroupByField>(DEFAULT_GROUP_BY);\n\n  const displayColumns = useMemo(() => getDisplayColumns(groupBy, columns, tasks), [groupBy, columns, tasks]);\n\n  const getTasksForColumn = useCallback(\n    (columnId: string, filteredTasks: Task[]) => getTasksForGroup(filteredTasks, columnId, groupBy),\n    [groupBy]\n  );\n\n  const isDragEnabled = groupBy === "column" || groupBy === "priority";\n\n  return {\n    groupBy,\n    setGroupBy,\n    displayColumns,\n    getTasksForColumn,\n    isDragEnabled,\n  };\n}\n',
      },
      {
        name: "project.ts",
        path: "lib/project.ts",
        content:
          'import type { Column, FilterConfig, GroupByField, Priority, Task } from "../types";\n\nexport const AVAILABLE_TAGS = ["bug", "feature"] as const;\nexport type Tag = (typeof AVAILABLE_TAGS)[number];\n\nexport const TAG_COLORS: Record<Tag, string> = {\n  bug: "var(--destructive)",\n  feature: "var(--info)",\n};\n\n/** Priority sort order: urgent = 0, high = 1, medium = 2, low = 3 */\nexport const PRIORITY_ORDER = { urgent: 0, high: 1, medium: 2, low: 3 } as const;\n\n/** Priority columns for grouping by priority */\nexport const PRIORITY_COLUMNS: Column[] = [\n  { id: "urgent", name: "Urgent", order: 0 },\n  { id: "high", name: "High Priority", order: 1 },\n  { id: "medium", name: "Medium Priority", order: 2 },\n  { id: "low", name: "Low Priority", order: 3 },\n];\n\n/** Priority options for dropdowns/filters */\nexport const PRIORITY_ITEMS: { value: Priority; label: string }[] = [\n  { value: "urgent", label: "Urgent" },\n  { value: "high", label: "High" },\n  { value: "medium", label: "Medium" },\n  { value: "low", label: "Low" },\n];\n\n/** Tag options for dropdowns/filters */\nexport const TAG_ITEMS = AVAILABLE_TAGS.map((tag) => ({\n  value: tag,\n  label: capitalize(tag),\n}));\n\n/** Group by options for view switching */\nexport const GROUP_BY_ITEMS: { value: GroupByField; label: string }[] = [\n  { value: "column", label: "Status" },\n  { value: "priority", label: "Priority" },\n  { value: "tag", label: "Tag" },\n];\n\nexport function capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport function cn(...classes: (string | undefined | null | false)[]): string {\n  return classes.filter(Boolean).join(" ");\n}\n\n/**\n * Filter tasks based on priority and tag filters.\n */\nexport function filterTasks(tasks: Task[], filters: FilterConfig): Task[] {\n  return tasks.filter((task) => {\n    // Priority filter\n    if (filters.priority.length > 0 && !filters.priority.includes(task.priority)) {\n      return false;\n    }\n\n    // Tags filter\n    if (filters.tags.length > 0) {\n      const hasMatchingTag = filters.tags.some((tag) => task.tags.includes(tag));\n\n      if (!hasMatchingTag) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n\n/**\n * Sort tasks by priority (high  medium  low).\n */\nexport function sortByPriority(tasks: Task[]): Task[] {\n  return [...tasks].sort((a, b) => PRIORITY_ORDER[a.priority] - PRIORITY_ORDER[b.priority]);\n}\n\n/**\n * Sort items by priority (generic version).\n */\nexport function sortItemsByPriority<T extends { priority: string }>(items: T[]): T[] {\n  return [...items].sort(\n    (a, b) => (PRIORITY_ORDER[a.priority as Priority] ?? 999) - (PRIORITY_ORDER[b.priority as Priority] ?? 999)\n  );\n}\n\n/**\n * Get items grouped by a field.\n * All views sort by priority within each group.\n */\nexport function getTasksForGroup<T extends { id: string; columnId: string; priority: string; tags?: string[] }>(\n  items: T[],\n  groupId: string,\n  groupBy: GroupByField\n): T[] {\n  let filtered: T[];\n\n  if (groupBy === "column") {\n    filtered = items.filter((item) => item.columnId === groupId);\n  } else if (groupBy === "priority") {\n    filtered = items.filter((item) => item.priority === groupId);\n  } else {\n    // groupBy === "tag"\n    filtered = items.filter((item) => {\n      const tags = (item as unknown as { tags?: string[] }).tags;\n      return tags?.includes(groupId) ?? false;\n    });\n  }\n\n  return sortItemsByPriority(filtered);\n}\n\n/**\n * Generate dynamic tag columns from tasks.\n */\nexport function getTagColumns(tasks: Task[]): Column[] {\n  const tagSet = new Set<string>();\n  for (const task of tasks) {\n    for (const tag of task.tags) {\n      tagSet.add(tag);\n    }\n  }\n  return Array.from(tagSet)\n    .sort()\n    .map((tag, index) => ({\n      id: tag,\n      name: capitalize(tag),\n      order: index,\n    }));\n}\n\n/**\n * Get display columns based on groupBy field.\n */\nexport function getDisplayColumns(groupBy: GroupByField, columns: Column[], tasks: Task[]): Column[] {\n  if (groupBy === "column") {\n    return columns;\n  }\n  if (groupBy === "priority") {\n    return PRIORITY_COLUMNS;\n  }\n  return getTagColumns(tasks);\n}\n\n/**\n * Determine target column from a drag event\'s over ID.\n */\nexport function getTargetColumnId<T extends { id: string; columnId: string }, C extends { id: string }>(\n  overId: string,\n  items: T[],\n  columns: C[]\n): string | null {\n  // Check if we\'re over a column\n  const isOverColumn = columns.some((col) => col.id === overId);\n  if (isOverColumn) {\n    return overId;\n  }\n\n  // We\'re over another item - get that item\'s column\n  const overItem = items.find((item) => item.id === overId);\n  return overItem?.columnId ?? null;\n}\n\n/**\n * Get readable column name for accessibility announcements.\n */\nexport function getColumnName<C extends { id: string; name: string }>(columnId: string, columns: C[]): string {\n  const column = columns.find((col) => col.id === columnId);\n  return column?.name ?? columnId;\n}\n\nfunction toggleArrayItem<T>(arr: T[], item: T, add: boolean): T[] {\n  return add ? [...arr, item] : arr.filter((i) => i !== item);\n}\n\n/**\n * Toggle a priority value in the filter config.\n */\nexport function toggleFilterPriority(filters: FilterConfig, priority: Priority, add: boolean): FilterConfig {\n  return { ...filters, priority: toggleArrayItem(filters.priority, priority, add) };\n}\n\n/**\n * Toggle a tag value in the filter config.\n */\nexport function toggleFilterTag(filters: FilterConfig, tag: string, add: boolean): FilterConfig {\n  return { ...filters, tags: toggleArrayItem(filters.tags, tag, add) };\n}\n\n/**\n * Calculate the target index for a card drop, adjusting for priority changes.\n * When priorities differ, the index is adjusted to maintain visual consistency\n * after the subsequent priority-based sort.\n */\nexport function calculateDropIndex(\n  oldIndex: number,\n  newIndex: number,\n  oldPriority: string,\n  newPriority: string\n): number {\n  if (oldPriority === newPriority) {\n    return newIndex;\n  }\n\n  const oldOrder = PRIORITY_ORDER[oldPriority as Priority] ?? 999;\n  const newOrder = PRIORITY_ORDER[newPriority as Priority] ?? 999;\n  const movingToHigherPriority = newOrder < oldOrder;\n\n  if (movingToHigherPriority && oldIndex < newIndex) {\n    return newIndex - 1;\n  }\n  if (!movingToHigherPriority && oldIndex > newIndex) {\n    return newIndex + 1;\n  }\n  return newIndex;\n}\n',
      },
      {
        name: "index.ts",
        path: "types/index.ts",
        content:
          'export type Priority = "low" | "medium" | "high" | "urgent";\n\nexport type Assignee = {\n  id: string;\n  name: string;\n  avatar?: string;\n};\n\nexport type Subtask = {\n  id: string;\n  title: string;\n  completed: boolean;\n};\n\nexport type Task = {\n  id: string;\n  title: string;\n  description: string;\n  columnId: string;\n  priority: Priority;\n  tags: string[];\n  assignees?: Assignee[];\n  subtasks?: Subtask[];\n  dueDate?: string;\n  createdAt: string;\n};\n\nexport type Column = {\n  id: string;\n  name: string;\n  order: number;\n};\n\nexport type FilterConfig = {\n  priority: Priority[];\n  tags: string[];\n};\n\nexport type GroupByField = "column" | "priority" | "tag";\n\nexport type KanbanData = {\n  tasks: Task[];\n  columns: Column[];\n  assignees: Assignee[];\n};\n',
      },
    ],
  },
  "profile-menu": {
    cssModulesFiles: [
      {
        name: "page.tsx",
        path: "app/profile-menu/page.tsx",
        content:
          '"use client";\nimport ProfileMenu from "./components/profile-menu";\n\nexport default function Page() {\n  return <ProfileMenu />;\n}\n',
      },
      {
        name: "profile-menu.tsx",
        path: "components/profile-menu.tsx",
        content:
          '"use client";\nimport { BookOpen, Building2, Check, CreditCard, HelpCircle, LogOut, Zap } from "lucide-react";\nimport { useState } from "react";\nimport { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar/avatar";\nimport { Badge } from "@/components/ui/badge/badge";\nimport { Button } from "@/components/ui/button/button";\nimport {\n  Dialog,\n  DialogClose,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPopup,\n  DialogPortal,\n  DialogTitle,\n} from "@/components/ui/dialog/dialog";\nimport {\n  DropdownMenu,\n  DropdownMenuItem,\n  DropdownMenuPopup,\n  DropdownMenuPortal,\n  DropdownMenuPositioner,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuRadioItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuSubmenuRoot,\n  DropdownMenuSubmenuTrigger,\n  DropdownMenuTrigger,\n} from "@/components/ui/dropdown-menu/dropdown-menu";\nimport { Field, FieldControl, FieldLabel } from "@/components/ui/field/field";\nimport { Input } from "@/components/ui/input/input";\nimport styles from "./profile-menu.module.css";\n\nexport default function ProfileMenuDemo() {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [orgName, setOrgName] = useState("");\n  const [selectedOrg, setSelectedOrg] = useState("acme");\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger\n        render={\n          <Button className={styles.triggerButton} data-slot="dropdown-trigger" variant="outline">\n            <Avatar style={{ width: "32px", height: "32px", flexShrink: 0 }}>\n              <AvatarImage alt="@preetecool" src="/preetecool.png" />\n              <AvatarFallback>PC</AvatarFallback>\n            </Avatar>\n            <div className={styles.triggerText}>\n              <div className={styles.triggerName}>preetecool</div>\n              <div className={styles.triggerOrg}>Acme Corp</div>\n            </div>\n          </Button>\n        }\n      />\n      <DropdownMenuPortal>\n        <DropdownMenuPositioner sideOffset={8}>\n          <DropdownMenuPopup className={styles.popup} render={<ul />}>\n            <div className={styles.spacer} />\n\n            {/* Profile Section */}\n            <div className={styles.profileSection}>\n              <div className={styles.profileInfo}>\n                <Avatar className={styles.avatar}>\n                  <AvatarImage alt="@preetecool" src="/preetecool.png" />\n                  <AvatarFallback>PC</AvatarFallback>\n                </Avatar>\n                <div className={styles.profileText}>\n                  <div className={styles.profileName}>preetecool</div>\n                  <div className={styles.profileEmail}>example@roiui.com</div>\n                </div>\n              </div>\n              <Badge className={styles.freeBadge} size="sm" variant="secondary">\n                free\n              </Badge>\n            </div>\n\n            <DropdownMenuSeparator />\n\n            {/* Organizations Submenu */}\n            <DropdownMenuSubmenuRoot>\n              <DropdownMenuSubmenuTrigger className={styles.submenuTriggerWithIcon} render={<li />}>\n                <Building2 className={styles.submenuIcon} size={14} />\n                Organizations\n              </DropdownMenuSubmenuTrigger>\n              <DropdownMenuPortal>\n                <DropdownMenuPositioner align="start" alignOffset={-4} side="right" sideOffset={-4}>\n                  <DropdownMenuPopup render={<ul />}>\n                    <div className={styles.spacer} />\n                    <DropdownMenuRadioGroup onValueChange={setSelectedOrg} value={selectedOrg}>\n                      <DropdownMenuRadioItem className={styles.radioItem} render={<li />} value="acme">\n                        <span className={styles.menuItemText}>Acme Corp</span>\n                        <DropdownMenuRadioItemIndicator>\n                          <Check size={14} />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                      <DropdownMenuRadioItem className={styles.radioItem} render={<li />} value="tech">\n                        <span className={styles.menuItemText}>Tech Startup</span>\n                        <DropdownMenuRadioItemIndicator>\n                          <Check size={14} />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                      <DropdownMenuRadioItem className={styles.radioItem} render={<li />} value="design">\n                        <span className={styles.menuItemText}>Design Studio</span>\n                        <DropdownMenuRadioItemIndicator>\n                          <Check size={14} />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                    </DropdownMenuRadioGroup>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem onClick={() => setIsDialogOpen(true)} render={<li />}>\n                      <span className={styles.menuItemText}>Add new...</span>\n                    </DropdownMenuItem>\n                    <div className={styles.spacer} />\n                  </DropdownMenuPopup>\n                </DropdownMenuPositioner>\n              </DropdownMenuPortal>\n            </DropdownMenuSubmenuRoot>\n\n            <DropdownMenuSeparator />\n\n            <DropdownMenuItem icon={<Zap size={14} />} render={<li />}>\n              Upgrade Plan\n            </DropdownMenuItem>\n\n            <DropdownMenuItem icon={<CreditCard size={14} />} render={<li />}>\n              Billing\n            </DropdownMenuItem>\n\n            <DropdownMenuSeparator />\n\n            <DropdownMenuItem icon={<HelpCircle size={14} />} render={<li />}>\n              Get Help\n            </DropdownMenuItem>\n\n            <DropdownMenuItem icon={<BookOpen size={14} />} render={<li />}>\n              Learn More\n            </DropdownMenuItem>\n\n            <DropdownMenuSeparator />\n\n            <DropdownMenuItem icon={<LogOut size={14} />} render={<li />}>\n              Log Out\n            </DropdownMenuItem>\n\n            <div className={styles.spacer} />\n          </DropdownMenuPopup>\n        </DropdownMenuPositioner>\n      </DropdownMenuPortal>\n\n      {/* Add Organization Dialog */}\n      <Dialog onOpenChange={(open) => setIsDialogOpen(open)} open={isDialogOpen}>\n        <DialogPortal>\n          <DialogOverlay />\n          <DialogPopup className={styles.dialogPopup}>\n            <DialogHeader>\n              <DialogTitle>Add New Organization</DialogTitle>\n              <DialogDescription>Enter the name of your new organization.</DialogDescription>\n            </DialogHeader>\n            <Field className={styles.field}>\n              <FieldLabel className={styles.fieldLabel}>Organization Name</FieldLabel>\n              <FieldControl\n                onChange={(e) => setOrgName(e.target.value)}\n                placeholder="Enter organization name"\n                render={<Input />}\n                type="text"\n                value={orgName}\n              />\n            </Field>\n            <DialogFooter className={styles.dialogFooter}>\n              <DialogClose render={<Button variant="outline">Cancel</Button>} />\n              <Button\n                onClick={() => {\n                  // Handle organization creation here\n                  console.log("Creating organization:", orgName);\n                  setOrgName("");\n                  setIsDialogOpen(false);\n                }}\n              >\n                Create\n              </Button>\n            </DialogFooter>\n          </DialogPopup>\n        </DialogPortal>\n      </Dialog>\n    </DropdownMenu>\n  );\n}\n',
      },
      {
        name: "profile-menu.module.css",
        path: "components/profile-menu.module.css",
        content:
          ".popup {\n  min-width: 280px;\n}\n\n.triggerButton {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 6px 16px;\n  height: auto;\n  min-height: 44px;\n  min-width: 180px;\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.triggerButton:focus-visible {\n  outline: 2px solid var(--ring);\n  outline-offset: 2px;\n}\n\n.triggerText {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 1px;\n  min-width: 0;\n  flex: 1;\n}\n\n.triggerName {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  color: var(--foreground);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n}\n\n.triggerOrg {\n  font-size: 0.75rem;\n  line-height: 1rem;\n  color: var(--muted-foreground);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n}\n\n.profileSection {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 8px 12px;\n  gap: 12px;\n}\n\n.profileInfo {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n  min-width: 0;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  flex-shrink: 0;\n}\n\n.profileText {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  min-width: 0;\n  flex: 1;\n}\n\n.profileName {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  font-weight: 500;\n  color: var(--foreground);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.profileEmail {\n  font-size: 0.75rem;\n  line-height: 1rem;\n  color: var(--muted-foreground);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.freeBadge {\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.submenuTriggerWithIcon {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.submenuIcon {\n  flex-shrink: 0;\n  margin-left: 4px;\n  color: var(--muted-foreground);\n}\n\n.submenuTriggerWithIcon:hover .submenuIcon {\n  color: var(--secondary-foreground);\n}\n\n.radioItem {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-right: 12px;\n}\n\n.dialogPopup {\n  width: 400px;\n  padding: 24px;\n}\n\n.field {\n  margin-top: 16px;\n}\n\n.fieldLabel {\n  margin-left: 4px;\n}\n\n.dialogFooter {\n  display: flex;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n.dialogFooter > * {\n  flex: 1;\n}\n\n.spacer {\n  height: 4px;\n  width: 100%;\n}\n\n.menuItemText {\n  margin-left: 4px;\n}\n\n@media (max-width: 640px) {\n  .popup {\n    min-width: 260px;\n  }\n\n  .profileSection {\n    padding: 6px 10px;\n    gap: 8px;\n  }\n\n  .profileInfo {\n    gap: 10px;\n  }\n\n  .avatar {\n    width: 36px;\n    height: 36px;\n  }\n\n  .profileName {\n    font-size: 0.8125rem;\n  }\n\n  .profileEmail {\n    font-size: 0.6875rem;\n  }\n\n  .dialogPopup {\n    width: 90vw;\n    max-width: 400px;\n    padding: 20px;\n  }\n\n  .dialogFooter {\n    margin-top: 20px;\n    gap: 8px;\n  }\n}\n",
      },
    ],
    tailwindFiles: [
      {
        name: "page.tsx",
        path: "app/profile-menu/page.tsx",
        content:
          '"use client";\nimport { ProfileMenu } from "./components/profile-menu";\n\nexport default function Page() {\n  return <ProfileMenu />;\n}\n',
      },
      {
        name: "profile-menu.tsx",
        path: "components/profile-menu.tsx",
        content:
          '"use client";\nimport { BookOpen, Building2, Check, CreditCard, HelpCircle, LogOut, Zap } from "lucide-react";\nimport { useState } from "react";\nimport { cn } from "@/lib/utils";\nimport { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";\nimport { Badge } from "@/components/ui/badge";\nimport { Button } from "@/components/ui/button";\nimport {\n  Dialog,\n  DialogClose,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPopup,\n  DialogPortal,\n  DialogTitle,\n} from "@/components/ui/dialog";\nimport {\n  DropdownMenu,\n  DropdownMenuItem,\n  DropdownMenuPopup,\n  DropdownMenuPortal,\n  DropdownMenuPositioner,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuRadioItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuSubmenuRoot,\n  DropdownMenuSubmenuTrigger,\n  DropdownMenuTrigger,\n} from "@/components/ui/dropdown-menu";\nimport { Field, FieldControl, FieldLabel } from "@/components/ui/field";\nimport { Input } from "@/components/ui/input";\n\nexport function ProfileMenu() {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [orgName, setOrgName] = useState("");\n  const [selectedOrg, setSelectedOrg] = useState("acme");\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger\n        render={\n          <Button\n            className={cn(\n              "flex h-auto min-h-[44px] min-w-[180px] touch-manipulation items-center gap-2.5 px-4 py-1.5 [-webkit-tap-highlight-color:transparent]",\n              "focus-visible:-outline-offset-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-[var(--ring)]"\n            )}\n            data-slot="dropdown-trigger"\n            variant="outline"\n          >\n            <Avatar className="h-8 w-8 flex-shrink-0">\n              <AvatarImage alt="@preetecool" src="/preetecool.png" />\n              <AvatarFallback>PC</AvatarFallback>\n            </Avatar>\n            <div className="flex min-w-0 flex-1 flex-col items-start gap-px">\n              <div className="max-w-full overflow-hidden text-ellipsis whitespace-nowrap font-medium text-[var(--foreground)] text-sm leading-5">\n                preetecool\n              </div>\n              <div className="max-w-full overflow-hidden text-ellipsis whitespace-nowrap text-[var(--muted-foreground)] text-xs leading-4">\n                Acme Corp\n              </div>\n            </div>\n          </Button>\n        }\n      />\n      <DropdownMenuPortal>\n        <DropdownMenuPositioner sideOffset={8}>\n          <DropdownMenuPopup className="min-w-[280px]" render={<ul />}>\n            <div style={{ height: "4px", width: "100%" }} />\n\n            {/* Profile Section */}\n            <div className="flex items-start justify-between gap-3 px-3 py-2">\n              <div className="flex min-w-0 flex-1 items-center gap-3">\n                <Avatar className="h-10 w-10 flex-shrink-0">\n                  <AvatarImage alt="@preetecool" src="/preetecool.png" />\n                  <AvatarFallback>PC</AvatarFallback>\n                </Avatar>\n                <div className="flex min-w-0 flex-1 flex-col gap-0.5">\n                  <div className="max-w-full overflow-hidden text-ellipsis whitespace-nowrap font-medium text-[var(--foreground)] text-sm leading-5">\n                    preetecool\n                  </div>\n                  <div className="max-w-full overflow-hidden text-ellipsis whitespace-nowrap text-[var(--muted-foreground)] text-xs leading-4">\n                    example@roiui.com\n                  </div>\n                </div>\n              </div>\n              <Badge className="mt-0.5 flex-shrink-0" size="sm" variant="secondary">\n                free\n              </Badge>\n            </div>\n\n            <DropdownMenuSeparator />\n\n            {/* Organizations Submenu */}\n            <DropdownMenuSubmenuRoot>\n              <DropdownMenuSubmenuTrigger className="flex items-center gap-2" render={<li />}>\n                <Building2 className="ml-1 flex-shrink-0 text-[var(--muted-foreground)]" size={14} />\n                Organizations\n              </DropdownMenuSubmenuTrigger>\n              <DropdownMenuPortal>\n                <DropdownMenuPositioner align="start" alignOffset={-4} side="right" sideOffset={-4}>\n                  <DropdownMenuPopup render={<ul />}>\n                    <div style={{ height: "4px", width: "100%" }} />\n                    <DropdownMenuRadioGroup onValueChange={setSelectedOrg} value={selectedOrg}>\n                      <DropdownMenuRadioItem\n                        className="flex items-center justify-between pr-3"\n                        render={<li />}\n                        value="acme"\n                      >\n                        <span className="ml-1">Acme Corp</span>\n                        <DropdownMenuRadioItemIndicator>\n                          <Check size={14} />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                      <DropdownMenuRadioItem\n                        className="flex items-center justify-between pr-3"\n                        render={<li />}\n                        value="tech"\n                      >\n                        <span className="ml-1">Tech Startup</span>\n                        <DropdownMenuRadioItemIndicator>\n                          <Check size={14} />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                      <DropdownMenuRadioItem\n                        className="flex items-center justify-between pr-3"\n                        render={<li />}\n                        value="design"\n                      >\n                        <span className="ml-1">Design Studio</span>\n                        <DropdownMenuRadioItemIndicator>\n                          <Check size={14} />\n                        </DropdownMenuRadioItemIndicator>\n                      </DropdownMenuRadioItem>\n                    </DropdownMenuRadioGroup>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem onClick={() => setIsDialogOpen(true)} render={<li />}>\n                      <span className="ml-1">Add new...</span>\n                    </DropdownMenuItem>\n                    <div style={{ height: "4px", width: "100%" }} />\n                  </DropdownMenuPopup>\n                </DropdownMenuPositioner>\n              </DropdownMenuPortal>\n            </DropdownMenuSubmenuRoot>\n\n            <DropdownMenuSeparator />\n\n            <DropdownMenuItem icon={<Zap size={14} />} render={<li />}>\n              Upgrade Plan\n            </DropdownMenuItem>\n\n            <DropdownMenuItem icon={<CreditCard size={14} />} render={<li />}>\n              Billing\n            </DropdownMenuItem>\n\n            <DropdownMenuSeparator />\n\n            <DropdownMenuItem icon={<HelpCircle size={14} />} render={<li />}>\n              Get Help\n            </DropdownMenuItem>\n\n            <DropdownMenuItem icon={<BookOpen size={14} />} render={<li />}>\n              Learn More\n            </DropdownMenuItem>\n\n            <DropdownMenuSeparator />\n\n            <DropdownMenuItem icon={<LogOut size={14} />} render={<li />}>\n              Log Out\n            </DropdownMenuItem>\n\n            <div style={{ height: "4px", width: "100%" }} />\n          </DropdownMenuPopup>\n        </DropdownMenuPositioner>\n      </DropdownMenuPortal>\n\n      {/* Add Organization Dialog */}\n      <Dialog onOpenChange={(open) => setIsDialogOpen(open)} open={isDialogOpen}>\n        <DialogPortal>\n          <DialogOverlay />\n          <DialogPopup className={cn("flex w-[400px] flex-col gap-4 rounded-2xl p-6", "max-sm:w-[90vw] max-sm:p-5")}>\n            <DialogHeader>\n              <DialogTitle>Add New Organization</DialogTitle>\n              <DialogDescription className="text-[var(--muted-foreground)]">\n                Enter the name of your new organization.\n              </DialogDescription>\n            </DialogHeader>\n            <Field className="mt-4">\n              <FieldLabel className="ml-1">Organization Name</FieldLabel>\n              <FieldControl\n                onChange={(e) => setOrgName(e.target.value)}\n                placeholder="Enter organization name"\n                render={<Input />}\n                type="text"\n                value={orgName}\n              />\n            </Field>\n            <DialogFooter className="mt-6 flex gap-3 [&>*]:flex-1">\n              <DialogClose render={<Button variant="outline">Cancel</Button>} />\n              <Button\n                onClick={() => {\n                  // Handle organization creation here\n                  console.log("Creating organization:", orgName);\n                  setOrgName("");\n                  setIsDialogOpen(false);\n                }}\n              >\n                Create\n              </Button>\n            </DialogFooter>\n          </DialogPopup>\n        </DialogPortal>\n      </Dialog>\n    </DropdownMenu>\n  );\n}\n',
      },
    ],
  },
};
