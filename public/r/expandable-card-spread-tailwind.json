{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "expandable-card-spread-tailwind",
  "type": "registry:item",
  "title": "Expandable Card Spread (Tailwind)",
  "description": "A spread of expandable cards with mobile swipe-to-cycle stack view.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "registry/brook/tailwind/blocks/expandable-card-spread/page.tsx",
      "content": "\"use client\";\n\nimport { ExpandableCardSpread } from \"./components/expandable-card-spread\";\nimport data from \"./data.json\";\n\nexport default function Page() {\n  return <ExpandableCardSpread data={data} />;\n}\n",
      "type": "registry:file",
      "target": "~/components/blocks/expandable-card-spread/page.tsx"
    },
    {
      "path": "registry/brook/tailwind/blocks/expandable-card-spread/components/expandable-card-spread.tsx",
      "content": "\"use client\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { Dialog } from \"@base-ui/react/dialog\";\nimport { AnimatePresence, motion, useReducedMotion } from \"motion/react\";\nimport { useState } from \"react\";\nimport { MobileStack } from \"./mobile-stack\";\n\ntype CardData = {\n  id: number;\n  title: string;\n  color: string;\n  textColor?: string;\n  description: string;\n};\n\ntype ExpandableCardSpreadProps = {\n  data: {\n    cards: CardData[];\n  };\n};\n\nexport function ExpandableCardSpread({ data }: ExpandableCardSpreadProps) {\n  const [expandedId, setExpandedId] = useState<number | null>(null);\n  const prefersReducedMotion = useReducedMotion();\n  const isMobile = useIsMobile(640);\n\n  const isExpanded = expandedId !== null;\n\n  return (\n    <div className=\"relative mx-auto flex min-h-[600px] w-full max-w-[900px] flex-col items-center justify-center\">\n      <AnimatePresence mode=\"wait\">\n        {isMobile ? (\n          <motion.div\n            key=\"stack\"\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n          >\n            <MobileStack cards={data.cards} />\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"spread\"\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n          >\n            <div\n              className={`flex items-center justify-center gap-0 ${\n                isExpanded ? \"-translate-x-1/2 fixed bottom-[90px] left-1/2 h-auto flex-row\" : \"\"\n              }`}\n            >\n        {data.cards.map((card, index) => {\n          const isOpen = expandedId === card.id;\n          return (\n            <Dialog.Root\n              key={`root-${card.id}`}\n              modal={false}\n              onOpenChange={(open) => {\n                if (!open) {\n                  setExpandedId(null);\n                }\n              }}\n              open={isOpen}\n            >\n              <Dialog.Trigger\n                nativeButton={false}\n                render={\n                  <motion.li\n                    aria-label={`Expand ${card.title}`}\n                    className={`flex cursor-pointer flex-col items-start justify-end border-none first:ml-0 focus-visible:outline-2 focus-visible:outline-[var(--ring)] focus-visible:outline-offset-2 ${\n                      isExpanded\n                        ? \"-ml-[120px] h-[210px] w-[170px] p-3\"\n                        : \"-ml-[55px] lg:-ml-[60px] h-[195px] w-[155px] p-3.5 lg:h-[290px] lg:w-[230px] lg:p-6\"\n                    }`}\n                    layoutId={`spread-card-${card.id}`}\n                    onClick={() => {\n                      setExpandedId(card.id);\n                    }}\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\" || e.key === \" \") {\n                        e.preventDefault();\n                        setExpandedId(card.id);\n                      }\n                    }}\n                    style={{\n                      backgroundColor: card.color,\n                      borderRadius: 20,\n                      color: card.textColor || \"#ffffff\",\n                      zIndex: index,\n                    }}\n                    transition={{\n                      layout: {\n                        type: \"spring\",\n                        bounce: isExpanded ? 0 : 0.25,\n                      },\n                    }}\n                  />\n                }\n              >\n                <motion.div\n                  className={`rounded-full bg-white/25 ${isExpanded ? \"mb-1.5 h-5 w-5\" : \"mb-2 h-5 w-5 lg:mb-3 lg:h-8 lg:w-8\"}`}\n                  layoutId={`spread-circle-${card.id}`}\n                  transition={{ layout: { type: \"spring\", bounce: 0 } }}\n                />\n                <motion.h3\n                  className={`whitespace-pre-line text-left font-medium tracking-[-0.01em] ${\n                    isExpanded ? \"text-[0.9rem] leading-[1.2]\" : \"text-[1rem] leading-[1.3] lg:text-[1.4rem]\"\n                  }`}\n                  layoutId={`spread-title-${card.id}`}\n                  style={{ color: \"oklch(0.75 0 0)\" }}\n                  transition={{ layout: { type: \"spring\", bounce: 0 } }}\n                >\n                  {card.title}\n                </motion.h3>\n              </Dialog.Trigger>\n\n              <Dialog.Portal keepMounted>\n                {isOpen ? (\n                  <div\n                    className=\"pointer-events-none fixed inset-0 bottom-10 flex items-center justify-center\"\n                    key={`positioner-${card.id}`}\n                  >\n                    <Dialog.Popup\n                      hidden={undefined}\n                      render={\n                        <motion.li\n                          className=\"pointer-events-auto flex min-h-[500px] w-[400px] flex-col items-start justify-end gap-3 p-6\"\n                          layoutId={`spread-card-${card.id}`}\n                          onClick={() => setExpandedId(null)}\n                          style={{\n                            borderRadius: 20,\n                            backgroundColor: card.color,\n                            color: card.textColor || \"#ffffff\",\n                            zIndex: index,\n                            cursor: \"pointer\",\n                          }}\n                          transition={{\n                            layout: {\n                              type: \"spring\",\n                              bounce: 0.15,\n                            },\n                          }}\n                        />\n                      }\n                    >\n                      <motion.div\n                        className=\"mb-[26px] h-[140px] w-[140px] self-center rounded-full bg-white/25\"\n                        layoutId={`spread-circle-${card.id}`}\n                        transition={{ layout: { type: \"spring\", bounce: 0 } }}\n                      />\n                      <motion.h2\n                        className=\"m-0 whitespace-pre-line text-left text-4xl font-medium leading-[1.1] tracking-[-0.02em]\"\n                        layoutId={`spread-title-${card.id}`}\n                        style={{ color: \"oklch(0.75 0 0)\" }}\n                        transition={{ layout: { type: \"spring\", bounce: 0 } }}\n                      >\n                        {card.title}\n                      </motion.h2>\n\n                      <motion.p\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"m-0 text-base leading-[1.8] opacity-80\"\n                        exit={{ opacity: 0, y: 8 }}\n                        initial={{\n                          opacity: prefersReducedMotion ? 1 : 0,\n                          y: prefersReducedMotion ? 0 : 16,\n                        }}\n                        style={{ color: \"oklch(0.75 0 0)\" }}\n                        transition={{\n                          delay: prefersReducedMotion ? 0 : 0.15,\n                          duration: prefersReducedMotion ? 0 : 0.3,\n                          type: \"spring\",\n                          bounce: 0,\n                        }}\n                      >\n                        {card.description}\n                      </motion.p>\n                    </Dialog.Popup>\n                  </div>\n                ) : null}\n              </Dialog.Portal>\n            </Dialog.Root>\n          );\n            })}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n",
      "type": "registry:file",
      "target": "~/components/blocks/expandable-card-spread/expandable-card-spread.tsx"
    },
    {
      "path": "registry/brook/tailwind/blocks/expandable-card-spread/components/mobile-stack.tsx",
      "content": "\"use client\";\n\nimport { motion, type PanInfo } from \"motion/react\";\nimport { useState } from \"react\";\n\ntype CardData = {\n  id: number;\n  title: string;\n  color: string;\n  textColor?: string;\n  description: string;\n};\n\ntype MobileStackProps = {\n  cards: CardData[];\n};\n\nconst SWIPE_THRESHOLD = 100;\n\nexport function MobileStack({ cards }: MobileStackProps) {\n  const [frontIndex, setFrontIndex] = useState(0);\n\n  const handleDragEnd = (_: unknown, info: PanInfo) => {\n    if (Math.abs(info.offset.x) > SWIPE_THRESHOLD) {\n      setFrontIndex((prev) => (prev + 1) % cards.length);\n    }\n  };\n\n  return (\n    <div className=\"relative mx-auto flex min-h-[600px] w-full max-w-[900px] flex-col items-center justify-center\">\n      <div className=\"relative flex h-[420px] w-full max-w-[320px] items-center justify-center\">\n        {cards.map((card, i) => {\n          const stackPosition = (i - frontIndex + cards.length) % cards.length;\n          const isTopCard = stackPosition === 0;\n\n          return (\n            <motion.div\n              animate={{\n                scale: 1 - stackPosition * 0.03,\n                x: stackPosition * (13 - stackPosition),\n                y: stackPosition * 6,\n                rotate: Math.sqrt(stackPosition) * 3,\n              }}\n              className=\"absolute flex h-[400px] w-[300px] cursor-grab touch-pan-y select-none flex-col items-start justify-end rounded-[20px] p-6 pb-14 active:cursor-grabbing\"\n              drag={isTopCard ? \"x\" : false}\n              dragConstraints={{ left: 0, right: 0 }}\n              dragElastic={1}\n              key={card.id}\n              layout\n              onDragEnd={isTopCard ? handleDragEnd : undefined}\n              style={{\n                backgroundColor: card.color,\n                color: card.textColor || \"#ffffff\",\n                zIndex: cards.length - stackPosition,\n                cursor: isTopCard ? \"grab\" : \"auto\",\n              }}\n              transition={{\n                type: \"spring\",\n                stiffness: 300,\n                damping: 25,\n              }}\n              whileDrag={{ cursor: \"grabbing\", scale: 1.02 }}\n            >\n              <div className=\"mb-3 h-8 w-8 rounded-full bg-white/25\" />\n              <h3 className=\"whitespace-pre-line text-left font-medium text-[1.4rem] leading-[1.3] tracking-[-0.01em]\">\n                {card.title}\n              </h3>\n              <p className=\"mt-3 text-sm leading-[1.6] opacity-85\">{card.description}</p>\n            </motion.div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:file",
      "target": "~/components/blocks/expandable-card-spread/mobile-stack.tsx"
    },
    {
      "path": "registry/brook/tailwind/blocks/expandable-card-spread/data.json",
      "content": "{\n  \"cards\": [\n    {\n      \"id\": 1,\n      \"title\": \"Design\\nSystems\",\n      \"color\": \"oklch(0.162 0.000 0.0)\",\n      \"textColor\": \"var(--secondary-foreground)\",\n      \"description\": \"A structured approach to building reusable components and patterns that maintain consistency across products.\"\n    },\n    {\n      \"id\": 2,\n      \"title\": \"Motion\\nPrinciples\",\n      \"color\": \"oklch(0.195 0.000 0.0)\",\n      \"textColor\": \"var(--secondary-foreground)\",\n      \"description\": \"Guidelines for meaningful animation that communicates state changes and guides user attention without distraction.\"\n    },\n    {\n      \"id\": 3,\n      \"title\": \"Accessible\\nInterfaces\",\n      \"color\": \"oklch(0.254 0.000 0.0)\",\n      \"textColor\": \"var(--secondary-foreground)\",\n      \"description\": \"Techniques for building interfaces that work for everyone, regardless of ability or assistive technology.\"\n    },\n    {\n      \"id\": 4,\n      \"title\": \"Layout\\nComposition\",\n      \"color\": \"oklch(0.302 0.000 0.0)\",\n      \"textColor\": \"var(--secondary-foreground)\",\n      \"description\": \"Strategies for arranging elements on screen to create clear visual hierarchy and intuitive navigation.\"\n    },\n    {\n      \"id\": 5,\n      \"title\": \"Type\\nScale\",\n      \"color\": \"oklch(0.348 0.000 0.0)\",\n      \"textColor\": \"var(--secondary-foreground)\",\n      \"description\": \"A modular system for sizing and spacing text that creates rhythm and readability across breakpoints.\"\n    }\n  ]\n}\n",
      "type": "registry:file",
      "target": "~/components/blocks/expandable-card-spread/data.json"
    },
    {
      "path": "hooks/use-mobile.ts",
      "content": "\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nconst DEFAULT_MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile(breakpoint = DEFAULT_MOBILE_BREAKPOINT) {\n  const [isMobile, setIsMobile] = useState<boolean | undefined>(undefined);\n\n  useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${breakpoint - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < breakpoint);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < breakpoint);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, [breakpoint]);\n\n  return !!isMobile;\n}\n",
      "type": "registry:file",
      "target": "~/hooks/use-mobile.ts"
    }
  ]
}